'use strict';define(['jquery','core/notification','block_ases/global_grade_book','block_ases/jquery.dataTables'],function(a,b,c){return{init:function init(){a(document).ready(function(){})},load_report:function load_report(e){function f(){console.log(a('.gradeparent').parent()),a('.gradeparent').parent().css('background','#cccccc')}function g(r,s){var t=[],u;for(u=0;u<s.length;u++)r.includes(s[u])&&t.push(u);return t}function h(r,s,t){var u=r.data(),v={function:'grade_table',params:{course_id:u.curso_id,course_caller_id:l,instance_id:n}};a.ajax({method:'POST',url:'../managers/course_and_teacher_report/course_and_teacher_report_api.php',data:v,dataType:'html'}).fail(function(w){b.alert('Error, debe informar a un programador, adjunte esta informaci\xF3n',w.responseText,'Aceptar'),t.removeClass('shown')}).done(function(w){s(r,w)})}var k=e.table,l=e.course_caller_id,m=e.course_id,n=e.instance_id,p=['critica'],q=a('#tableFinalgradesReport').DataTable({data:k.data,bsort:k.bsort,columns:k.columns,language:k.language,order:k.order,initComplete:function initComplete(){var r=k.columns.map(function(t){return t.name?t.name:null}),s=g(p,r);this.api().columns(s).every(function(){var t=this,u=a('<select><option value=""></option></select>').appendTo(a(t.header())).on('change',function(){var v=a.fn.dataTable.util.escapeRegex(a(this).val());t.search(v?'^'+v+'$':'',!0,!1).draw()});t.data().unique().sort().each(function(v){u.append('<option value="'+v+'">'+v+'</option>')})})}});a('#tableFinalgradesReport tbody').on('click','td.details-control',function(){var r=a(this).closest('tr'),s=q.row(r);if(s.child.isShown())s.child.hide(),r.removeClass('shown');else{var t=function(u,v){u.child(v).show(),c.read_only_view_styles(),f()};h(s,t,r),r.addClass('shown')}}),a('th').each(function(r){k.columns[r]&&(k.columns[r].description?a(this).attr('title',k.columns[r].description):null)})}}});