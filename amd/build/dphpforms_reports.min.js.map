{"version":3,"sources":["../src/dphpforms_reports.js"],"names":["define","$","jszip","init","isChrome","test","navigator","userAgent","vendor","find","prop","fadeIn","window","JSZip","id_semester","on","custom_actions","report","form_type","report_size","length","x","id_estudiante","id_creado_por","y","Object","keys","respuesta","local_alias","instance_id","parseInt","data","ajax","type","url","JSON","stringify","contentType","dataType","async","success","enunciado","id","data_response","monitor","firstname","lastname","practicing","professional","created_by","username","student_username","split","student","failure","errMsg","console","log","k","extend","width","toFixed","html","attr","addClass","removeClass","convertArrayOfObjectsToCSV","args","result","ctr","columnDelimiter","lineDelimiter","enunciados","push","error","join","forEach","item","key","replace","downloadCSV","data_","filename","link","csv","csvData","Blob","document","createElement","download","URL","createObjectURL","setAttribute","style","body","appendChild","click","removeChild","start_date","val","end_date","swal","title","text","preguntas","parse","css","cache","count_records","completed_records","progress","t","get","record","seguimiento_base","setTimeout","tight_records","fail","err","Math","round"],"mappings":"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","sourcesContent":["// Standard license block omitted.\n/*\n * @package    block_ases\n * @copyright  ASES\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n \n /**\n  * @module block_ases/dphpforms_reports\n  */\n\ndefine([\n    'jquery', \n    'block_ases/jszip',\n    'block_ases/jquery.dataTables',\n    'block_ases/dataTables.autoFill',\n    'block_ases/dataTables.buttons',\n    'block_ases/buttons.html5',\n    'block_ases/buttons.flash',\n    'block_ases/buttons.print',\n    'block_ases/bootstrap', \n    'block_ases/sweetalert', \n    'block_ases/jqueryui',\n    'block_ases/select2'\n], function($, jszip, dataTables, autoFill, buttons, html5, flash, print, bootstrap, sweetalert, jqueryui, select2) {\n    \n    return {\n        init: function() {\n\n            var isChrome = /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n            if( !isChrome ){\n                $(\"#container-control\").find('*').prop('disabled', true);\n                $(\"#container-msg-chrome\").fadeIn(300);\n            }\n\n            window.JSZip = jszip;            \n            var id_semester = null;\n\n            function render_datatable( records ){\n                var dataForms = process_data( records );   \n                \n                var columns_table = [\n                    {\n                        \"title\" : \"Código estudiante\", \n                        \"name\" : \"student_code\", \n                        \"data\" : \"student_code\",\n                    },\n                    {\n                        \"title\" : \"Nombre(s)\", \n                        \"name\" : \"student_firstname\", \n                        \"data\" : \"student_firstname\"\n                    },\n                    {\n                        \"title\" : \"Apellido(s)\", \n                        \"name\" : \"student_lastname\", \n                        \"data\" : \"student_lastname\"\n                    }\n                    ,\n                    {\n                        \"title\" : \"Fecha\", \n                        \"name\" : \"fecha\", \n                        \"data\" : \"fecha\"\n                    },\n                    {\n                        \"title\" : \"Lugar\", \n                        \"name\" : \"lugar\", \n                        \"data\" : \"lugar\"\n                    },\n                    {\n                        \"title\" : \"Hora Inicio\", \n                        \"name\" : \"hora_inicio\", \n                        \"data\" : \"hora_inicio\"\n                    },\n                    {\n                        \"title\" : \"Hora Finalizacion\", \n                        \"name\" : \"hora_finalizacion\", \n                        \"data\" : \"hora_finalizacion\"\n                    },    \n                    {\n                        \"title\" : \"Tema\", \n                        \"name\" : \"tema\", \n                        \"data\" : \"tema\"\n                    },\n                    {\n                        \"class\": \"big-col\",\n                        \"title\" : \"Objetivos\", \n                        \"name\" : \"objetivos\", \n                        \"data\" : \"objetivos\"\n                    },    \n                    {\n                        \"class\": \"big-col\",\n                        \"title\" : \"Comentario individual\", \n                        \"name\" : \"comentarios_individual\", \n                        \"data\" : \"comentarios_individual\"\n                    },\n                    {\n                        \"title\" : \"Punt. riesgo individual\", \n                        \"name\" : \"puntuacion_riesgo_individual\", \n                        \"data\" : \"puntuacion_riesgo_individual\"\n                    },\n                    {\n                        \"title\" : \"Temáticas individuales\", \n                        \"name\" : \"tematicas_individual\", \n                        \"data\" : \"tematicas_individual\"\n                    },\n                    {\n                        \"class\": \"big-col\",\n                        \"title\" : \"Comentario familiar\", \n                        \"name\" : \"comentarios_familiar\", \n                        \"data\" : \"comentarios_familiar\"\n                    },\n                    {\n                        \"title\" : \"Punt. riesgo familiar\", \n                        \"name\" : \"puntuacion_riesgo_familiar\", \n                        \"data\" : \"puntuacion_riesgo_familiar\"\n                    },\n                    {\n                        \"title\" : \"Temáticas familiar\", \n                        \"name\" : \"tematicas_familiar\", \n                        \"data\" : \"tematicas_familiar\"\n                    },\n                    {\n                        \"class\": \"big-col\",\n                        \"title\" : \"Comentario académico\", \n                        \"name\" : \"comentarios_academico\", \n                        \"data\" : \"comentarios_academico\"\n                    },\n                    {\n                        \"title\" : \"Punt. riesgo académico\", \n                        \"name\" : \"puntuacion_riesgo_academico\", \n                        \"data\" : \"puntuacion_riesgo_academico\"\n                    },\n                    {\n                        \"title\" : \"Temáticas académico\", \n                        \"name\" : \"tematicas_academico\", \n                        \"data\" : \"tematicas_academico\"\n                    },\n                    {\n                        \"class\": \"big-col\",\n                        \"title\" : \"Comentario Económico\", \n                        \"name\" : \"comentarios_economico\", \n                        \"data\" : \"comentarios_economico\"\n                    },\n                    {\n                        \"title\" : \"Punt. riesgo Económico\", \n                        \"name\" : \"puntuacion_riesgo_economico\", \n                        \"data\" : \"puntuacion_riesgo_economico\"\n                    },\n                    {\n                        \"title\" : \"Temáticas Económico\", \n                        \"name\" : \"tematicas_economico\", \n                        \"data\" : \"tematicas_economico\"\n                    },{\n                        \"class\": \"big-col\",\n                        \"title\" : \"Comentario Vida Universitaria\", \n                        \"name\" : \"comentarios_vida_uni\", \n                        \"data\" : \"comentarios_vida_uni\"\n                    },\n                    {\n                        \"title\" : \"Punt. Vida Universitaria\", \n                        \"name\" : \"puntuacion_vida_uni\", \n                        \"data\" : \"puntuacion_vida_uni\"\n                    },\n                    {\n                        \"class\": \"big-col\",\n                        \"title\" : \"Observaciones seguimientos\", \n                        \"name\" : \"observaciones_seguimientos\", \n                        \"data\" : \"observaciones_seguimientos\"\n                    },\n                    {\n                        \"title\" : \"Revisado Profesional\", \n                        \"name\" : \"revisado_profesional\", \n                        \"data\" : \"revisado_profesional\"\n                    },\n                    {\n                        \"title\" : \"Revisado Practicante\", \n                        \"name\" : \"revisado_practicante\", \n                        \"data\" : \"revisado_practicante\"\n                    },\n                    {\n                        \"title\" : \"ID Estudiante\", \n                        \"name\" : \"id_estudiante\", \n                        \"data\" : \"id_estudiante\"\n                    },\n                    {\n                        \"title\" : \"ID Instancia\", \n                        \"name\" : \"id_instancia\", \n                        \"data\" : \"id_instancia\"\n                    },\n                    {\n                        \"title\" : \"Nombre Monitor\", \n                        \"name\" : \"monitor_name\", \n                        \"data\" : \"monitor_name\"\n                    },\n                    {\n                        \"title\" : \"Nombre Practicante\", \n                        \"name\" : \"practicing_name\", \n                        \"data\" : \"practicing_name\"\n                    },\n                    {\n                        \"title\" : \"Nombre Profesional\", \n                        \"name\" : \"professional_name\", \n                        \"data\" : \"professional_name\"\n                    },\n                    {\n                        \"title\" : \"ID creado por\", \n                        \"name\" : \"id_creado_por\", \n                        \"data\" : \"id_creado_por\"\n                    },\n                    {\n                        \"title\" : \"Creado por\", \n                        \"name\" : \"created_by\", \n                        \"data\" : \"created_by\"\n                    },\n                                        \n                ];\n    \n                var columns_show = columns_table.map(column => {                                     \n                    if(!$(\"#\" + column.name).prop('checked')){\n                        column.visible = false;\n                    };\n                    return column;\n                })                \n\n                if ($.fn.dataTable.isDataTable('#dphpform_datatable')) {\n                    $('#dphpform_datatable').DataTable().destroy();    \n                    $('#dphpform_datatable tbody').empty();                    \n                }\n                \n                //else {             \n                    //$('#dphpform_datatable tbody').empty();\n                    var table = $(\"#dphpform_datatable\").DataTable(\n                        { \n                            \"retrieve\": true,                          \n                            \"bsort\" : false,\n                            \"data\" : dataForms,                         \n                            \"columns\" : columns_show,\n                            \"dom\":\"lifrtpB\",\n                            \"buttons\" : [\n                                {\n                                    \"extend\" : \"print\",\n                                    \"text\" : 'Imprimir'\n                                },{\n                                    \"extend\" : \"csv\",\n                                    \"text\" : 'CSV'\n                                },{\n                                    \"extend\" : \"excel\",\n                                    \"text\" : 'Excel',\n                                    \"className\" : 'buttons-excel',\n                                    \"filename\" : 'Export excel',\n                                    \"extension\" : '.xls'\n                                }   \n                            ]                           \n                        }\n                    );\n                    table.draw();\n                //};\n            };\n            \n            $('#base_fields_check').on('change', function () {\n                if ($('#base_fields_check').prop('checked')) {\n                    $(\"#base_fields input[type='checkbox']\").prop('checked', true);\n                } else {\n                    $(\"#base_fields input[type='checkbox']\").prop('checked', false);\n                }\n            });\n            $('#dimensions_fields_check').on('change', function () {\n                if ($('#dimensions_fields_check').prop('checked')) {\n                    $(\"#dimensions_fields input[type='checkbox']\").prop('checked', true);\n                } else {\n                    $(\"#dimensions_fields input[type='checkbox']\").prop('checked', false);\n                }\n            });\n            $('#comments_fields_check').on('change', function () {\n                if ($('#comments_fields_check').prop('checked')) {\n                    $(\"#comments_fields input[type='checkbox']\").prop('checked', true);\n                } else {\n                    $(\"#comments_fields input[type='checkbox']\").prop('checked', false);\n                }\n            });\n            $('#risks_fields_check').on('change', function () {\n                if ($('#risks_fields_check').prop('checked')) {\n                    $(\"#risks_fields input[type='checkbox']\").prop('checked', true);\n                } else {\n                    $(\"#risks_fields input[type='checkbox']\").prop('checked', false);\n                }\n            });\n            $('#themes_fields_check').on('change', function () {\n                if ($('#themes_fields_check').prop('checked')) {\n                    $(\"#themes_fields input[type='checkbox']\").prop('checked', true);\n                } else {\n                    $(\"#themes_fields input[type='checkbox']\").prop('checked', false);\n                }\n            });\n\n\n            function process_data( records ){\n\n                var result = [];\n                \n                records.map(formulario =>{\n                    var infoEstudiante = {}; \n                                                                                                                  \n                    Object.values(formulario).map(element => {\n                        if(element.respuesta !== undefined){\n                            infoEstudiante[element.local_alias] = element.respuesta;   \n                        }else{\n                            infoEstudiante[element.local_alias] = \"N.R.\";\n                        }                     \n                        \n                    });                 \n                    result.push(infoEstudiante); \n                });\n                \n                return result;\n            };\n\n            function custom_actions( report, form_type ){\n                \n                if( form_type == \"seguimiento_pares\" ){\n                    \n                    var report_size = report.length;\n                    for( var x = 0; x < report_size; x++){\n\n                        var pos_firstname = -1;\n                        var pos_lastname = -1;\n\n                        var id_estudiante = null;\n                        var id_creado_por = null;\n\n                        var deleted = false;\n\n                        for( var y = 0; y < Object.keys(report[x]).length; y++ ){\n                            if( report[x][y].respuesta == \"-#$%-\" ){\n                                report[x][y].respuesta = \"\";\n                            }\n                            \n                            if( \n                                report[x][y].local_alias == \"puntuacion_riesgo_individual\" ||\n                                report[x][y].local_alias == \"puntuacion_riesgo_familiar\" ||\n                                report[x][y].local_alias == \"puntuacion_riesgo_academico\" ||\n                                report[x][y].local_alias == \"puntuacion_riesgo_economico\" ||\n                                report[x][y].local_alias == \"puntuacion_vida_uni\"\n                             ){\n                                if( report[x][y].respuesta == \"1\" ){\n                                    report[x][y].respuesta = \"bajo\"\n                                }else if( report[x][y].respuesta == \"2\" ){\n                                    report[x][y].respuesta = \"medio\"\n                                }else if( report[x][y].respuesta == \"3\" ){\n                                    report[x][y].respuesta = \"alto\"\n                                }\n                            }\n\n                            if( report[x][y].local_alias == \"revisado_profesional\" ){\n                                \n                                if( report[x][y].respuesta == \"0\" ){\n                                    report[x][y].respuesta = \"marcado\"\n                                }else if( report[x][y].respuesta == \"-1\" ){\n                                    report[x][y].respuesta = \"no_marcado\"\n                                }\n\n                            }\n                            if( report[x][y].local_alias == \"revisado_practicante\" ){\n                                \n                                if( report[x][y].respuesta == \"0\" ){\n                                    report[x][y].respuesta = \"marcado\"\n                                }else if( report[x][y].respuesta == \"-1\" ){\n                                    report[x][y].respuesta = \"no_marcado\"\n                                }\n\n                            }\n                            if( !id_estudiante || !id_creado_por ){\n                                if( report[x][y].local_alias == \"id_estudiante\" ){\n                                    id_estudiante = report[x][y].respuesta;\n                                }\n                                if( report[x][y].local_alias == \"id_creado_por\" ){\n                                    id_creado_por = report[x][y].respuesta;\n                                }\n                            }\n                            \n                        }\n\n                        var instance_id = parseInt($(\"#dphpforms-instance-id\").data(\"instance-id\"));\n\n                        $.ajax({\n                            type: \"POST\",\n                            url: \"../managers/user_management/user_management_api.php\",\n                            data: JSON.stringify({ \"function\": \"get_crea_stud_mon_prac_prof\", \"params\": [ id_estudiante, id_creado_por, instance_id, id_semester ] }),\n                            contentType: \"application/json; charset=utf-8\",\n                            dataType: \"json\",\n                            async: false,  \n                            success: function(data){\n\n                                report[x][Object.keys(report[x]).length] = { \n                                    enunciado:\"monitor_name\", \n                                    id:\"00\", \n                                    local_alias:\"monitor_name\",\n                                    respuesta: String(data.data_response.monitor.firstname) + \" \" + String(data.data_response.monitor.lastname)\n                                };\n\n                                report[x][Object.keys(report[x]).length] = { \n                                    enunciado:\"practicing_name\", \n                                    id:\"00\", \n                                    local_alias:\"practicing_name\",\n                                    respuesta: String(data.data_response.practicing.firstname) + \" \" + String(data.data_response.practicing.lastname)\n                                };\n\n                                report[x][Object.keys(report[x]).length] = { \n                                    enunciado:\"professional_name\", \n                                    id:\"00\", \n                                    local_alias:\"professional_name\",\n                                    respuesta: String(data.data_response.professional.firstname) + \" \" + String(data.data_response.professional.lastname)\n                                };\n\n                                report[x][Object.keys(report[x]).length] = { \n                                    enunciado:\"created_by\", \n                                    id:\"00\", \n                                    local_alias:\"created_by\",\n                                    respuesta: String(data.data_response.created_by.firstname) + \" \" + String(data.data_response.created_by.lastname)\n                                };\n\n                                var username = data.data_response.student_username;\n                                if( username ){\n                                    username = data.data_response.student_username.split(\"-\")[0];\n                                }else{\n                                    username = \"null\";\n                                }\n\n                                report[x][Object.keys(report[x]).length] = { \n                                    enunciado:\"student_code\", \n                                    id:\"00\", \n                                    local_alias:\"student_code\",\n                                    respuesta: username\n                                };\n\n                                report[x][Object.keys(report[x]).length] = { \n                                    enunciado:\"student_firstname\", \n                                    id:\"00\", \n                                    local_alias:\"student_firstname\",\n                                    respuesta: String(data.data_response.student.firstname)\n                                };\n\n                                report[x][Object.keys(report[x]).length] = { \n                                    enunciado:\"student_lastname\", \n                                    id:\"00\", \n                                    local_alias:\"student_lastname\",\n                                    respuesta: String(data.data_response.student.lastname)\n                                };       \n                            },\n                            failure: function(errMsg) {\n                                console.log(errMsg);\n                                \n                            }\n                        });\n\n                        var fields_to_move = 3;\n\n                        for( var k = Object.keys(report[x]).length - 1; k >= 0 ; k-- ){\n                            report[x][k+fields_to_move] = $.extend( true, {}, report[x][k] );\n                        }\n\n                        report[x][0] = $.extend( true, {}, report[x][Object.keys(report[x]).length - 3] );\n                        report[x][1] = $.extend( true, {}, report[x][Object.keys(report[x]).length - 2] );\n                        report[x][2] = $.extend( true, {}, report[x][Object.keys(report[x]).length - 1] );\n\n                        delete report[x][Object.keys(report[x]).length - 1];\n                        delete report[x][Object.keys(report[x]).length - 1];\n                        delete report[x][Object.keys(report[x]).length - 1];\n                       \n                        $(\"#progress-custom\").find(\"div\").width( (( 100 / report_size ) * ( x + 1 )).toFixed( 0 ) + \"%\" );\n                        $(\"#progress-custom\").find(\"div\").html( (( 100 / report_size ) * ( x + 1 )).toFixed( 0 ) + \"%\" );\n                        $(\"#progress-custom\").find(\"div\").attr( \"aria-valuenow\", (( 100 / report_size ) * ( x + 1 )).toFixed( 0 ) ); \n\n                    }\n\n                    $(\"#progress-custom\").find(\"div\").addClass(\"progress-bar-success\");\n                    $(\"#message\").removeClass(\"alert alert-info\");\n                    $(\"#message\").addClass(\"alert alert-success\");\n                    $(\"#message\").html( \"<strong>Info!</strong>  Reporte generado.\" );\n                    //$(\"#progress_group\").addClass(\"hidden\");\n                    \n                    return report;\n                }else{\n\n                    $(\"#progress-custom\").find(\"div\").addClass(\"progress-bar-success\");\n                    $(\"#message\").removeClass(\"alert alert-info\");\n                    $(\"#message\").addClass(\"alert alert-success\");\n                    $(\"#message\").html( \"<strong>Info!</strong>  Reporte generado.\" );\n                    //$(\"#progress_group\").addClass(\"hidden\");\n\n                    return report;\n                }\n            }\n\n            function convertArrayOfObjectsToCSV(args) {  \n                var result, ctr, keys, columnDelimiter, lineDelimiter, data;\n        \n                data = args.data || null;\n                if (data == null || !data.length) {\n                    return null;\n                }\n        \n                columnDelimiter = args.columnDelimiter || ',';\n                lineDelimiter = args.lineDelimiter || '\\n';\n                \n                keys = Object.keys(data[0]);\n              \n                var enunciados = [];\n                for( var x = 0; x <  Object.keys(data[0]).length; x++ ){\n                    try {\n                        enunciados.push( data[0][x].local_alias );\n                    } catch (error) {\n                        console.log( \"ERROR\" );\n                        console.log( data[0] );\n                    }\n                    \n                }\n        \n                result = '';\n                result += enunciados.join(columnDelimiter);\n                result += lineDelimiter;\n        \n                data.forEach(function(item) {\n                    ctr = 0;\n                    keys.forEach(function(key) {\n                        if (ctr > 0) result += columnDelimiter;\n                        try {\n                            result += \"\\\"\" + item[key]['respuesta'].replace(/\"/g, '\\'') + \"\\\"\";\n                        } catch (error) {}\n                        ctr++;\n                    });\n                    result += lineDelimiter;\n                });\n        \n                return result;\n            };\n\n            function downloadCSV( data_ ) {  \n\n                var filename, link;\n                var csv = convertArrayOfObjectsToCSV({\n                    data: data_\n                });\n                \n\n                if( csv == null ){\n                    return\n                };\n                \n                filename = 'reporte.csv';\n                csvData = new Blob([csv], { type: 'text/csv' }); \n\n                var link = document.createElement(\"a\");\n                if (link.download !== undefined) {\n                    var url = URL.createObjectURL(csvData);\n                    link.setAttribute(\"href\", url);\n                    link.setAttribute(\"download\", filename);\n                    link.style = \"visibility:hidden\";\n                    document.body.appendChild(link);\n                    link.click();\n                    document.body.removeChild(link);\n                };\n\n            };\n\n            $('#btn-generar-reporte').click(function(){\n\n                var start_date = $('#start_date').val();\n                var end_date = $('#end_date').val();\n\n                if( start_date >= end_date ){\n                    swal(\n                        {title:'Información',\n                        text: 'Intervalo de fechas inválido',\n                        type: 'warning'},\n                        function(){}\n                    );\n                }else{\n\n                    $.ajax({\n                        type: \"POST\",\n                        url: \"../managers/periods_management/periods_api.php\",\n                        data: JSON.stringify({ \"function\": \"core_periods_get_period_by_date\", \"params\": [ start_date, end_date ] }),\n                        contentType: \"application/json; charset=utf-8\",\n                        dataType: \"json\",\n                        async: false,  \n                        success: function(data){\n                            id_semester = data.data_response;\n                        },\n                        failure: function(errMsg) {}\n                    });\n\n                    if( id_semester ){\n\n                        var preguntas = JSON.parse( $(\"#dphpforms-reports-preguntas\").html());\n                        let instance_id = $(\"#dphpforms-instance-id\").data(\"instance-id\");\n                    \n                        $(\".progress-bar\").removeClass(\"progress-bar-success\");\n                        $(\".progress-bar\").removeClass(\"progress-bar-success\");\n                        $(\".progress-bar\").width( \"0%\" );\n                        $(\".progress-bar\").html( \"0%\" );\n                        $(\".progress-bar\").attr( \"aria-valuenow\", \"0\" );\n                        $('#progress_group').css('display','block');\n                        $(\"#progress_group\").removeClass(\"hidden\");\n                        $(\"#message\").removeClass(\"alert alert-success\");\n                        $(\"#message\").addClass(\"alert alert-info\");\n                        $('#message').html( \"<strong>Info!</strong> Se está generando el reporte, esto puede tardar un par de minutos dependiendo de su conexión a internet, capacidad del ordenador, intervalo de tiempo seleccionado y rapidez del campus virtual.\" );\n                        \n                        $.ajax({\n                            type: 'POST',\n                            url: \"../managers/dphpforms/v2/dphpforms_api.php\",\n                            data: JSON.stringify( \n                                {\n                                    \"function\":\"find_records\",\n                                    \"params\":[\n                                        {\n                                            \"form\":\"seguimiento_pares\",\n                                            \"filterFields\":[\n                                                    [\"fecha\",[[start_date,\">=\"], [end_date,\"<=\"]], false],\n                                                    [\"id_instancia\", [[instance_id,\"LIKE\"]], false]\n                                                ],\n                                            \"orderFields\":[],\n                                            \"orderByDatabaseRecordDate\":false,\n                                            \"recordStatus\":[\"!deleted\"],\n                                            \"selectedFields\":[],\n                                            \"asFields\": []\n                                        }\n                                    ]\n                                } \n                            ),\n                            contentType: \"aplication/json\",\n                            dataType: \"json\",\n                            cache: \"false\",\n                            success: function(data) {\n                                let count_records = Object.keys( data['data_response'] ).length;\n                                let completed_records = [];\n                                let completed_records_datatable = [];\n                                let progress = 0;\n\n                                for( var t = 0; t < count_records; t++ ){\n\n                                    $.get( '../managers/dphpforms/dphpforms_get_record.php?record_id=' + data['data_response'][t]['id_registro'], function( record ) {\n                                            \n                                        if(  Object.keys( record['record'] ).length > 0  ){\n    \n                                                var seguimiento_base = $.extend( true, {}, preguntas );\n    \n                                                for( var x = 0; x <  Object.keys( record['record']['campos'] ).length; x++ ){\n    \n                                                    for( var k = 0; k < Object.keys( seguimiento_base ).length; k++ ){\n                                                        if( seguimiento_base[k].id == parseInt( record['record']['campos'][ x ]['id_pregunta'] ) ){\n                                                            seguimiento_base[k].respuesta = record['record']['campos'][ x ]['respuesta'];\n                                                                                                                    \n                                                        }\n                                                    }\n                                                };\n    \n                                                completed_records.push( seguimiento_base );\n                                            };\n    \n                                            progress ++;\n                                            $(\"#progress-download\").find(\"div\").width( (( 100 / count_records ) * progress).toFixed( 0 ) + \"%\" );\n                                            $(\"#progress-download\").find(\"div\").html( (( 100 / count_records ) * progress).toFixed( 0 ) + \"%\" );\n                                            $(\"#progress-download\").find(\"div\").attr( \"aria-valuenow\", (( 100 / count_records ) * progress).toFixed( 0 ) );\n                                            if( progress == count_records ){\n                                                $(\"#progress-download\").find(\"div\").addClass(\"progress-bar-success\");\n                                                setTimeout(function(){\n                                                    var tight_records = custom_actions( completed_records, \"seguimiento_pares\" );\n                                                    downloadCSV( tight_records );\n                                                    //render_datatable( tight_records );\n                                                },10);\n                                                \n                                            };\n                                            \n                                    }).fail(function(err) {\n                                        console.log(err);\n                                    });\n                                    $('#progress').text( Math.round( progress ) );\n                                }\n                                if( count_records == 0 ){ \n                                    $('#progress').text( 100 );\n                                    $(\"#message\").removeClass(\"alert alert-info\");\n                                    $(\"#message\").addClass(\"alert alert-success\");\n                                    $(\"#message\").html( \"<strong>Info!</strong>  Reporte generado.\" );\n                                    $(\"#progress_group\").addClass(\"hidden\");\n                                    \n                                };\n    \n                            },\n                            error: function(data) {}\n                                \n                         });\n\n                    }else{\n                        swal(\n                            {\n                                title:'Información',\n                                text: \"Las fechas deben estar en el lapso de tiempo que comprende un periodo académico. \",\n                                type: 'error'\n                            },\n                            function(){}\n                        );\n                    }\n                };\n            });\n        }\n    };\n      \n});\n\n"],"file":"dphpforms_reports.min.js"}