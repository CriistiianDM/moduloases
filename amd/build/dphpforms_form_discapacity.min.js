'use strict';define(['jquery','block_ases/jszip','block_ases/jquery.dataTables','block_ases/dataTables.autoFill','block_ases/dataTables.buttons','block_ases/buttons.html5','block_ases/buttons.flash','block_ases/buttons.print','block_ases/bootstrap','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2'],function(a){return{init:function init(){function n(C,D){var E=a('#input_json_saved').val();a.ajax({type:'POST',data:{func:'validate_json',json:C,json_prev:E,ases:D,instanceid:B(),id_schema:1},url:'../managers/student_profile/discapacity_tab_api.php',success:function success(F){swal({title:F.title,text:F.msg,type:F.status},function(){a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow')}),a('#input_json_saved').attr('value',C)},dataType:'json',cache:'false',error:function error(F){swal(F.title,F.msg,F.status)}})}function o(){a('#form_ficha_inicial').show(),p('input'),p('select'),p('textarea');var C=a('#input_json_saved').val();C=JSON.parse(C),q(),u(C)}function p(C){for(obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName(C)[i];i++)ele.disabled=!0}function q(){for(obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName('input')[i];i++)'input_json_saved'!=ele.id&&('checkbox'==ele.type&&(ele.checked=!1),'radio'==ele.type&&(ele.checked=!1),'text'==ele.type&&(ele.value=''),'range'==ele.type&&(ele.value=2),'number'==ele.type&&(ele.value=0));a('#div_institucion_apoyo').hide(),a('#div_actividades_otros_desc').hide(),a('#div_organizacion_asociacion').hide(),a('#div_otro_transporte').hide(),a('#div_otro_apoyo_principal').hide(),a('#div_porcentaje_inv').hide(),a('#div_otra_discapacidad').hide(),a('#div_descripcion_diagnostico').hide(),a('#div_otro_cond_adq').hide()}function r(C){var D={};for(i in D.title='\xC9xito',D.msg='El formulario fue validado con \xE9xito',D.status='success',C)switch(i){case'condicion_adquisicion':var E=C[i];for(op in E)if('otra_condicion'==op){if(''==E[op])return D.title='Condici\xF3n de adquisici\xF3n',D.status='error',D.msg='El campo '+op+' de adquisici\xF3n es obligatorio',D;if(z(E[op]))return D.title='Condici\xF3n de adquisici\xF3n',D.status='error',D.msg='El campo '+op+' de adquisici\xF3n no debe contener n\xFAmeros',D}break;case'diagnostico_discapacidad':var F=C[i];for(op in F)if('descripcion'==op){if(''==F[op])return D.title='Diagn\xF3stico de discapacidad',D.status='error',D.msg='El campo '+op+' diagn\xF3stico es obligatorio',D;if(z(F[op]))return D.title='Diagn\xF3stico de discapacidad',D.status='error',D.msg='El campo '+op+' diagn\xF3stico no debe contener n\xFAmeros',D}break;case'tipo_discapacidad':var G=C[i];for(op in G)if('otro_tipo'==op){if(''==G[op])return D.title='Tipo de discapacidad',D.status='error',D.msg='El campo '+op+' de discapacidad es obligatorio',D;if(z(G[op]))return D.title='Tipo de discapacidad',D.status='error',D.msg='El campo '+op+' de discapacidad no debe contener n\xFAmeros',D}break;case'certificado_invalidez':var H=C[i];for(op in H)if('porcentaje'==op){if(''==H[op])return D.title='Certificado de invalidez',D.status='error',D.msg='El campo '+op+' es obligatorio',D;if(0>H[op])return D.title='Certificado de invalidez',D.status='error',D.msg='El campo '+op+' no debe ser negativo',D;if(Number.isNaN(H[op]))return D.title='Certificado de invalidez',D.status='error',D.msg='El campo '+op+' debe ser num\xE9rico',D}break;case'dificultad_permanente_funciones':var I=C[i],J=void 0;for(item in I)for(op in J=I[item],J)if('dificultad'==op){if(''==J[op])return D.title='Dificultades permanentes',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+J.funcion+'\' es obligatorio',D;if(z(J[op]))return D.title='Dificultades permanentes',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+J.funcion+'\' no debe contener n\xFAmeros',D}break;case'condicion_salud_organos':var K=C[i],L=void 0;for(item in K)for(op in L=K[item],L)if('condicion'==op){if(''==L[op])return D.title='Condiciones de salud',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+L.organo+'\' es obligatorio',D;if(z(L[op]))return D.title='Condiciones de salud',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+L.organo+'\' no debe contener n\xFAmeros',D}break;case'necesidades_situaciones':var M=C[i],N=void 0;for(item in M)for(op in N=M[item],N)if('necesidad'==op){if(''==N[op])return D.title='Necesidades situaciones',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+N.situacion+'\' es obligatorio',D;if(z(N[op]))return D.title='Necesidades situaciones',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+N.situacion+'\' no debe contener n\xFAmeros',D}break;case'factores_impacto':var O=C[i],P=void 0;for(item in O)for(op in P=O[item],P)if('otro_factor'==op){if(''==P[op])return D.title='Factores de impacto',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+P.escenario+'\' es obligatorio',D;if(z(P[op]))return D.title='Factores de impacto',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+P.escenario+'\' no debe contener n\xFAmeros',D}break;case'posibilidad_actividades':var Q=C[i],R=void 0;for(item in Q)for(op in R=Q[item],R)if('otra_actividad'==op||'posibilidad'==op||'tipo_apoyo'==op){if(''==R[op])return D.title='Posibilidades en actividades',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+R.actividad+'\' es obligatorio',D;if(z(R[op]))return D.title='Posibilidades en actividades',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+R.actividad+'\' no debe contener n\xFAmeros',D}break;case'apoyo_principal_cotidiano':var S=C[i];if('{}'==JSON.stringify(S))return D.title='Apoyo principal',D.status='error',D.msg='El campo apoyo principal es obligatorio',D;for(op in S)if('otro_apoyo'==op){if(''==S[op])return D.title='Apoyo principal',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+S.apoyo_cotidiano+'\' es obligatorio',D;if(z(S[op]))return D.title='Apoyo principal',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+S.apoyo_cotidiano+'\' no debe contener n\xFAmeros',D}break;case'medio_transporte':var T=C[i];if('{}'==JSON.stringify(T))return D.title='Medio de transporte',D.status='error',D.msg='El campo medio de transporte es obligatorio',D;for(op in T)if('otro_transporte'==op){if(''==T[op])return D.title='Medio de transporte',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+T.transporte+'\' es obligatorio',D;if(z(T[op]))return D.title='Medio de transporte',D.status='error',D.msg='El campo '+op+' de la opci\xF3n \''+T.transporte+'\' no debe contener n\xFAmeros',D}break;case'participa_asociacion':var U=C[i];for(op in U)if('asociacion'==op){if(''==U[op])return D.title='Participaci\xF3n en organizaci\xF3n/asociaci\xF3n',D.status='error',D.msg='El campo '+op+' es obligatorio',D;if(z(U[op]))return D.title='Participaci\xF3n en organizaci\xF3n/asociaci\xF3n',D.status='error',D.msg='El campo '+op+' no debe contener n\xFAmeros',D}break;case'actividades_otros':var V=C[i];for(op in V)if('actividad'==op){if(''==V[op])return D.title='Actividades con otros',D.status='error',D.msg='El campo '+op+' es obligatorio',D;if(z(V[op]))return D.title='Actividades con otros',D.status='error',D.msg='El campo '+op+' no debe contener n\xFAmeros',D}break;case'apoyo_institucion':var W=C[i];for(op in W)if('apoyo_institu'==op||'institucion'==op){if(''==W[op])return D.title='Apoyo instituci\xF3n',D.status='error',D.msg='El campo '+op+' es obligatorio',D;if(z(W[op]))return D.title='Apoyo instituci\xF3n',D.status='error',D.msg='El campo '+op+' no debe contener n\xFAmeros',D}}return D}function s(C){a('#'+C).find('input').each(function(){a(this).prop('disabled',!1)})}function t(){a('#form_ficha_inicial').find(':input').not('.input_fields_discapacity_tab').not('.range_input').each(function(){'check_documentos_soporte'!=a(this).attr('id')&&a(this).prop('disabled',!1)})}function u(C){var D,E,F,G,H,I,J,K,L;for(i in C)switch(i){case'condicion_adquisicion':E=C[i].key_condicion,G=C[i].condicion,H=C[i].key_otra_condicion,I=C[i].otra_condicion,v(E,G,H,I);break;case'diagnostico_discapacidad':E=C[i].key_diagnostico,F=C[i].tiene_diagnostico,J=C[i].key_descripcion,K=C[i].descripcion,w(E,F,J,K);break;case'tipo_discapacidad':E=C[i].key_tipo,G=C[i].tipo_discapacidad,H=C[i].key_otro_tipo,I=C[i].otro_tipo,v(E,G,H,I);break;case'certificado_invalidez':E=C[i].key_certificado,F=C[i].tiene_certificado,J=C[i].key_porcentaje,K=C[i].porcentaje,w(E,F,J,K);break;case'dificultad_permanente_funciones':D=C[i],y(D,'key_funcion','funcion','key_dificultad','dificultad');break;case'condicion_salud_organos':D=C[i],y(D,'key_organo','organo','key_condicion','condicion');break;case'necesidades_situaciones':D=C[i],y(D,'key_situacion','situacion','key_necesidad','necesidad');break;case'posibilidad_actividades':for(obj_json in D=C[i],D)'check_otra_posibilidad'==D[obj_json].key_actividad&&(a('#'+D[obj_json].key_otra_actividad).val(D[obj_json].otra_actividad),a('#'+D[obj_json].key_otra_actividad).parent().show()),a('#'+D[obj_json].key_actividad).prop('checked',!0),a('#'+D[obj_json].key_posibilidad).val(D[obj_json].posibilidad),a('#'+D[obj_json].key_apoyo).val(D[obj_json].tipo_apoyo),'No la puede realizar'==D[obj_json].posibilidad?L=1:'Lo hace sin apoyo'==D[obj_json].posibilidad?L=2:'Lo hace con apoyo'==D[obj_json].posibilidad&&(L=3),a('#'+D[obj_json].key_posibilidad).siblings(':input[type=range]').val(L);break;case'factores_impacto':for(obj_json in D=C[i],D)('check_factor4'==D[obj_json].key_factor||'check_factor2_7'==D[obj_json].key_factor)&&a('#'+D[obj_json].key_otro_factor).val(D[obj_json].otro_factor),'check_factor2'==D[obj_json].key_factor&&a('#'+D[obj_json].key_factor).parent().next().show(),a('#'+D[obj_json].key_factor).prop('checked',!0);break;case'apoyo_principal_cotidiano':E=C[i].key_apoyo,F=C[i].apoyo_cotidiano,J=C[i].key_otro_apoyo,K=C[i].otro_apoyo,a('#'+E).prop('checked',!0),'input_radio_otro_oa'==E?(a('#'+J).val(K),a('#'+J).parent().show()):(a('#'+J).val(''),a('#'+J).parent().hide());break;case'medio_transporte':E=C[i].key_transoporte,F=C[i].transporte,J=C[i].key_otro_transporte,K=C[i].otro_transporte,a('#'+E).prop('checked',!0),'input_radio_otro_ot'==E?(a('#'+J).val(K),a('#'+J).parent().show()):(a('#'+J).val(''),a('#'+J).parent().hide());break;case'participa_asociacion':E=C[i].key_participa,F=C[i].participa,J=C[i].key_asociacion,K=C[i].asociacion,w(E,F,J,K);break;case'actividades_otros':E=C[i].key_realiza,F=C[i].realiza,J=C[i].key_actividad,K=C[i].actividad,w(E,F,J,K);break;case'apoyo_institucion':E=C[i].key_apoya,F=C[i].apoyo,J=C[i].key_apoyo_institu,K=C[i].apoyo_institu,1==F?(a('#'+E).prop('checked',!0),a('#'+J).val(K),J=C[i].key_institucion,K=C[i].institucion,a('#'+J).val(K),a('#'+J).parent().parent().show()):(a('#'+E).prop('checked',!1),a('#'+J).val(''),a('#'+J).parent().parent().hide());}}function v(C,D,E,F){var G;a('#'+C+' option').each(function(){a(this).text()==D&&(G=a(this).attr('value'),a('#'+C).val(G),'0'==G&&(a('#'+E).val(F),a('#'+E).parent().show()))})}function w(C,D,E,F){1==D?(a('#'+C).prop('checked',!0),a('#'+E).val(F),a('#'+E).parent().show()):(a('#'+C).prop('checked',!1),a('#'+E).val(''),a('#'+E).parent().hide())}function y(C,D,E,F,G){for(obj_json in C)a('#'+C[obj_json][D]).prop('checked',!0),a('#'+C[obj_json][F]).val(C[obj_json][G])}function z(C){for(i=0;i<C.length;i++)if(-1!='0123456789'.indexOf(C.charAt(i),0))return 1;return 0}function B(){var C=location.search.split('&');for(x in C)if(0<=C[x].indexOf('instanceid')){var D=C[x].split('=');return D[1]}return 0}''!=a('#input_json_saved').val()&&(a('#li_view_discapacity_initial').show(),a('#cancel_ficha_discapacity').parent().show()),a('#btn_ficha_inicial_discapacity').on('click',function(){}),a('#div_factor_impacto input').on('change',function(){a('#check_factor2').is(':checked')?(a('#div_factor_contexto').show(),a('#check_factor2_7').is(':checked')?(a('#input_factor2_7').prop('disabled',!1),a('#input_factor2_7').prop('required',!0)):(a('#input_factor2_7').prop('value',''),a('#input_factor2_7').prop('disabled',!0),a('#input_factor2_7').prop('required',!1))):a('#div_factor_contexto').hide(),a('#check_factor4').is(':checked')?(a('#input_factor4').prop('disabled',!1),a('#input_factor4').prop('required',!0)):(a('#input_factor4').prop('value',''),a('#input_factor4').prop('disabled',!0),a('#input_factor4').prop('required',!1))}),a('#div_necesidades input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=range]').on('change',function(){1==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','No la puede realizar'),2==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Lo hace sin apoyo'),3==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Lo hace con apoyo')}),a('#check_otra_posibilidad').on('click',function(){a(this).is(':checked')?(a('#div_otra_actividad').show(),a('#input_otro1').prop('required',!0),a('#input_otro1').prop('disabled',!1),a('#input_tipo_otro').prop('required',!0),a('#input_tipo_otro').prop('disabled',!1),a('#clasificacion_otro').prop('disabled',!1),a('#clasificacion_otro').prop('required',!0)):(a('#div_otra_actividad').hide(),a('#input_otro1').prop('value',''),a('#input_otro1').prop('disabled',!0),a('#input_posib_otro').prop('value',''),a('#input_tipo_otro').prop('value',''),a('#input_otro1').prop('required',!1),a('#input_tipo_otro').prop('required',!1),a('#input_tipo_otro').prop('disabled',!0),a('#clasificacion_otro').prop('disabled',!0),a('#clasificacion_otro').prop('required',!1),a('#clasificacion_otro').prop('value',null))}),a('#div_cond_salud input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_dificultad_permanente input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=range]').prop('disabled',!1),a(this).parent().find(':input[type=range]').prop('required',!0),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!1),a(this).parent().find(':input[name=input_apoyo]').prop('required',!0)):(a(this).parent().find(':input[type=range]').prop('value',null),a(this).parent().find(':input[type=range]').prop('disabled',!0),a(this).parent().find(':input[type=range]').prop('required',!1),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!0),a(this).parent().find(':input[name=input_apoyo]').prop('required',!1),a(this).parent().find(':input[type=text]').prop('value',''))}),a('#edit_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span><strong> (Edici\xF3n) </strong>'),a('#form_ficha_inicial').show(),t();var C=a('#input_json_saved').val();''!=C&&(C=JSON.parse(C)),u(C),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().show(),''!==a('#input_json_saved').val()&&a('#cancel_ficha_discapacity').parent().show();var D=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=D}),a('#view_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide();var C=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=C}),a('#cond_adquisicion').on('click',function(){'0'==a(this).val()?(a('#div_otro_cond_adq').show(),a('#otro_cond_adquisicion').prop('required',!0),s('div_otro_cond_adq')):(a('#div_otro_cond_adq').hide(),a('#otro_cond_adquisicion').prop('required',!1),a('#otro_cond_adquisicion').prop('value',''))}),a('#opciones_apoyo input[name=apoyo_principal]').on('change',function(){a('#input_radio_otro_oa').is(':checked')?(a('#div_otro_apoyo_principal').show(),a('#input_otro_apoyo').prop('required',!0),s('div_otro_apoyo_principal')):(a('#div_otro_apoyo_principal').hide(),a('#input_otro_apoyo').prop('required',!1),a('#input_otro_apoyo').prop('value',''))}),a('#opciones_transporte input[name=desplazamiento]').on('change',function(){a('#input_radio_otro_ot').is(':checked')?(a('#div_otro_transporte').show(),a('#input_otro_transporte').prop('required',!0),s('div_otro_transporte')):(a('#div_otro_transporte').hide(),a('#input_otro_transporte').prop('required',!1),a('#input_otro_transporte').prop('value',''))}),a('#tipo_discapacidad').on('click',function(){'0'==a(this).val()?(a('#div_otra_discapacidad').show(),a('#otra_discapacidad').prop('required',!0),s('div_otra_discapacidad')):(a('#div_otra_discapacidad').hide(),a('#otra_discapacidad').prop('required',!1),a('#otra_discapacidad').prop('value',''))}),a('#check_diagnostico').on('change',function(){a('#check_diagnostico').is(':checked')?(a('#div_descripcion_diagnostico').show(),a('#textarea_diagnostico').prop('required',!0)):(a('#div_descripcion_diagnostico').hide(),a('#textarea_diagnostico').prop('value',''),a('#textarea_diagnostico').prop('required',!1))}),a('#textarea_diagnostico').on('change',function(){var C=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=C}),a('#check_certificado_invalidez').on('change',function(){a('#check_certificado_invalidez').is(':checked')?(a('#div_porcentaje_inv').show(),a('#input_porcentaje_inv').prop('required',!0),s('div_porcentaje_inv')):(a('#div_porcentaje_inv').hide(),a('#input_porcentaje_inv').prop('required',!1),a('#input_porcentaje_inv').prop('value',''))}),a('#check_org').on('change',function(){a('#check_org').is(':checked')?(a('#div_organizacion_asociacion').show(),a('#input_org').prop('required',!0),s('div_organizacion_asociacion')):(a('#div_organizacion_asociacion').hide(),a('#input_org').prop('required',!1),a('#input_org').prop('value',''))}),a('#check_actividades_otros').on('change',function(){a('#check_actividades_otros').is(':checked')?(a('#div_actividades_otros_desc').show(),a('#input_actividades_otros').prop('required',!0),s('div_actividades_otros_desc')):(a('#div_actividades_otros_desc').hide(),a('#input_actividades_otros').prop('required',!1),a('#input_actividades_otros').prop('value',''))}),a('#check_apoyo_institu').on('change',function(){a('#check_apoyo_institu').is(':checked')?(a('#div_institucion_apoyo').show(),a('#input_institucion').prop('required',!0),a('#input_apoyo').prop('required',!0),s('div_institucion_apoyo')):(a('#div_institucion_apoyo').hide(),a('#input_institucion').prop('required',!1),a('#input_institucion').prop('value',''),a('#input_apoyo').prop('required',!1),a('#input_apoyo').prop('value',''))}),a('#cancel_ficha_discapacity').on('click',function(){swal({title:'Advertencia',text:'\xBFEst\xE1 seguro(a) que desea revertir los cambios?',type:'warning',showCancelButton:!0,confirmButtonText:'Si',cancelButtonText:'No',closeOnConfirm:!0},function(C){C&&(o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide())})}),a('#save_ficha_discapacity').on('click',function(){var da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,bb,cb,C,D,E,F,G,H,I,J,K,L,M,N,O,P,U,V,W,X,X,Y,Z,_,db=[],eb=[],fb=[],gb=[],hb=[],aa;da=a('#cond_adquisicion').val(),Ta=a('#cond_adquisicion').attr('id'),ia=a('#cond_adquisicion').find(':selected').text(),Ua={key_condicion:Ta,condicion:ia},0==da&&(sa=a('#otro_cond_adquisicion').attr('id'),ja=a('#otro_cond_adquisicion').val(),Ua.key_otra_condicion=sa,Ua.otra_condicion=ja),Da=a('#check_diagnostico').is(':checked'),Ea=a('#check_diagnostico').attr('id'),Fa={key_diagnostico:Ea},Da?(ka=a('#textarea_diagnostico').val(),Ca=a('#textarea_diagnostico').attr('id'),Fa.tiene_diagnostico=1,Fa.key_descripcion=Ca,Fa.descripcion=ka):Fa.tiene_diagnostico=0,la=a('#tipo_discapacidad').val(),Ga=a('#tipo_discapacidad').attr('id'),ma=a('#tipo_discapacidad').find(':selected').text(),Ia={key_tipo:Ga,tipo_discapacidad:ma},0==la&&(na=a('#otra_discapacidad').val(),Ha=a('#otra_discapacidad').attr('id'),Ia.key_otro_tipo=Ha,Ia.otro_tipo=na),Ja=a('#check_certificado_invalidez').is(':checked'),Ka=a('#check_certificado_invalidez').attr('id'),La={key_certificado:Ka},Ja?(Ma=a('#input_porcentaje_inv').attr('id'),xa=parseInt(a('#input_porcentaje_inv').val()),La.tiene_certificado=1,La.key_porcentaje=Ma,La.porcentaje=xa):La.tiene_certificado=0,a('#div_dificultad_permanente').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(C=a(this).attr('id'),E=a(this).attr('title'),F=a(this).parent().find(':input[type=text]').val(),D=a(this).parent().find(':input[type=text]').attr('id'),Wa={key_funcion:C,funcion:E,key_dificultad:D,dificultad:F},db.push(Wa))}),a('#div_cond_salud').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(G=a(this).attr('id'),I=a(this).attr('title'),J=a(this).parent().find(':input[type=text]').val(),H=a(this).parent().find(':input[type=text]').attr('id'),Xa={key_organo:G,organo:I,key_condicion:H,condicion:J},eb.push(Xa))}),a('#div_necesidades').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(L=a(this).attr('id'),situacion_name=a(this).attr('title'),necesidad_name=a(this).parent().find(':input[type=text]').val(),K=a(this).parent().find(':input[type=text]').attr('id'),Ya={key_situacion:L,situacion:situacion_name,key_necesidad:K,necesidad:necesidad_name},fb.push(Ya))}),a('#div_factor_impacto').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(M=a(this).attr('id'),N=a(this).attr('title'),Za={key_factor:M,escenario:N},('Otra \xBFCu\xE1l?'==N||'Otros, \xBFcu\xE1les?'==N)&&(P=a(this).parent().find(':input[type=text]').val(),O=a(this).parent().find('input[type=text]').attr('id'),Za.key_otro_factor=O,Za.otro_factor=P),gb.push(Za))}),a('#div_posibilidades_condiciones').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&('check_otra_posibilidad'==a(this).attr('id')?(U=a(this).attr('id'),V=a(this).attr('title'),W=a('#input_posib_otro').val(),key_pos_pa=a('#input_posib_otro').attr('id'),X=a('#input_tipo_otro').attr('id'),Y=a('#input_tipo_otro').val(),Z=a('#input_otro1').attr('id'),_=a('#input_otro1').val()):(U=a(this).attr('id'),V=a(this).attr('title'),W=a(this).parent().find(':input[type=text]').not('.input_apoyo').val(),key_pos_pa=a(this).parent().find(':input[type=text]').not('.input_apoyo').attr('id'),X=a(this).parent().find(':input[name=input_apoyo]').attr('id'),Y=a(this).parent().find(':input[name=input_apoyo]').val()),$a={key_actividad:U,actividad:V,key_posibilidad:key_pos_pa,posibilidad:W,key_apoyo:X,tipo_apoyo:Y},'check_otra_posibilidad'==a(this).attr('id')&&($a.key_otra_actividad=Z,$a.otra_actividad=_),hb.push($a))}),ea=a('#opciones_apoyo').find(':input[type=radio]:checked').val(),ga=a('#opciones_apoyo').find(':input[type=radio]:checked').attr('id'),_a={key_apoyo:ga,apoyo_cotidiano:ea},'Otro'==ea&&(ha=a('#input_otro_apoyo').attr('id'),fa=a('#input_otro_apoyo').val(),_a.key_otro_apoyo=ha,_a.otro_apoyo=fa),oa=a('#opciones_transporte').find(':input[type=radio]:checked').val(),qa=a('#opciones_transporte').find(':input[type=radio]:checked').attr('id'),ab={key_transoporte:qa,transporte:oa},'Otro'==oa&&(ra=a('#input_otro_transporte').attr('id'),pa=a('#input_otro_transporte').val(),ab.key_otro_transporte=ra,ab.otro_transporte=pa),ta=a('#check_org').is(':checked'),ua=a('#check_org').attr('id'),bb={key_participa:ua},ta?(va=a('#input_org').val(),wa=a('#input_org').attr('id'),bb.participa=1,bb.key_asociacion=wa,bb.asociacion=va):bb.participa=0,Ba=a('#check_actividades_otros').is(':checked'),Aa=a('#check_actividades_otros').attr('id'),cb={key_realiza:Aa},Ba?(ya=a('#input_actividades_otros').val(),za=a('#input_actividades_otros').attr('id'),cb.realiza=1,cb.key_actividad=za,cb.actividad=ya):cb.realiza=0,Na=a('#check_apoyo_institu').is(':checked'),Oa=a('#check_apoyo_institu').attr('id'),Va={key_apoya:Oa},Na?(Pa=a('#input_apoyo').val(),Qa=a('#input_apoyo').attr('id'),Va.apoyo=1,Va.key_apoyo_institu=Qa,Va.apoyo_institu=Pa,Ra=a('#input_institucion').val(),Sa=a('#input_institucion').attr('id'),Va.key_institucion=Sa,Va.institucion=Ra):Va.apoyo=0,aa={condicion_adquisicion:Ua,diagnostico_discapacidad:Fa,tipo_discapacidad:Ia,certificado_invalidez:La,dificultad_permanente_funciones:db,condicion_salud_organos:eb,necesidades_situaciones:fb,posibilidad_actividades:hb,factores_impacto:gb,apoyo_principal_cotidiano:_a,medio_transporte:ab,participa_asociacion:bb,actividades_otros:cb,apoyo_institucion:Va};var ba=r(aa);if('error'==ba.status)swal(ba.title,ba.msg,ba.status);else{var ca=aa;ca=JSON.stringify(ca);var ib=a('#id_ases').val();n(ca,ib)}})}}});