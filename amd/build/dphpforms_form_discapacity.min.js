'use strict';define(['jquery','block_ases/jszip','block_ases/jquery.dataTables','block_ases/dataTables.autoFill','block_ases/dataTables.buttons','block_ases/buttons.html5','block_ases/buttons.flash','block_ases/buttons.print','block_ases/bootstrap','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2'],function(a){return{init:function init(){function n(A,B){a.ajax({type:'POST',data:{func:'validate_json',json:A,ases:B,id_schema:1},url:'../managers/student_profile/discapacity_tab_api.php',success:function success(C){swal({title:C.title,text:C.msg,type:C.status},function(){a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow')}),a('#input_json_saved').attr('value',A)},dataType:'json',cache:'false',error:function error(C){swal(C.title,C.msg,C.status)}})}function o(){a('#form_ficha_inicial').show(),p('input'),p('select'),p('textarea');var A=a('#input_json_saved').val();A=JSON.parse(A),q(),u(A)}function p(A){for(obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName(A)[i];i++)ele.disabled=!0}function q(){for(obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName('input')[i];i++)'input_json_saved'!=ele.id&&('checkbox'==ele.type&&(ele.checked=!1),'radio'==ele.type&&(ele.checked=!1),'text'==ele.type&&(ele.value=''),'range'==ele.type&&(ele.value=2),'number'==ele.type&&(ele.value=0));a('#div_institucion_apoyo').hide(),a('#div_actividades_otros_desc').hide(),a('#div_organizacion_asociacion').hide(),a('#div_otro_transporte').hide(),a('#div_otro_apoyo_principal').hide(),a('#div_porcentaje_inv').hide(),a('#div_otra_discapacidad').hide(),a('#div_descripcion_diagnostico').hide(),a('#div_otro_cond_adq').hide()}function r(A){var B={};for(i in B.title='\xC9xito',B.msg='El formulario fue validado con \xE9xito',B.status='success',A)switch(i){case'condicion_adquisicion':var C=A[i];for(op in C)if('otra_condicion'==op){if(''==C[op])return B.title='Condici\xF3n de adquisici\xF3n',B.status='error',B.msg='El campo '+op+' de adquisici\xF3n es obligatorio',B;if(y(C[op]))return B.title='Condici\xF3n de adquisici\xF3n',B.status='error',B.msg='El campo '+op+' de adquisici\xF3n no debe contener n\xFAmeros',B}break;case'diagnostico_discapacidad':var D=A[i];for(op in D)if('descripcion'==op){if(''==D[op])return B.title='Diagn\xF3stico de discapacidad',B.status='error',B.msg='El campo '+op+' diagn\xF3stico es obligatorio',B;if(y(D[op]))return B.title='Diagn\xF3stico de discapacidad',B.status='error',B.msg='El campo '+op+' diagn\xF3stico no debe contener n\xFAmeros',B}break;case'tipo_discapacidad':var E=A[i];for(op in E)if('otro_tipo'==op){if(''==E[op])return B.title='Tipo de discapacidad',B.status='error',B.msg='El campo '+op+' de discapacidad es obligatorio',B;if(y(E[op]))return B.title='Tipo de discapacidad',B.status='error',B.msg='El campo '+op+' de discapacidad no debe contener n\xFAmeros',B}break;case'certificado_invalidez':var F=A[i];for(op in F)if('porcentaje'==op){if(''==F[op])return B.title='Certificado de invalidez',B.status='error',B.msg='El campo '+op+' es obligatorio',B;if(0>F[op])return B.title='Certificado de invalidez',B.status='error',B.msg='El campo '+op+' no debe ser negativo',B;if(Number.isNaN(F[op]))return B.title='Certificado de invalidez',B.status='error',B.msg='El campo '+op+' debe ser num\xE9rico',B}break;case'dificultad_permanente_funciones':var G=A[i],H=void 0;for(item in G)for(op in H=G[item],H)if('dificultad'==op){if(''==H[op])return B.title='Dificultades permanentes',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+H.funcion+'\' es obligatorio',B;if(y(H[op]))return B.title='Dificultades permanentes',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+H.funcion+'\' no debe contener n\xFAmeros',B}break;case'condicion_salud_organos':var I=A[i],J=void 0;for(item in I)for(op in J=I[item],J)if('condicion'==op){if(''==J[op])return B.title='Condiciones de salud',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+J.organo+'\' es obligatorio',B;if(y(J[op]))return B.title='Condiciones de salud',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+J.organo+'\' no debe contener n\xFAmeros',B}break;case'necesidades_situaciones':var K=A[i],L=void 0;for(item in K)for(op in L=K[item],L)if('necesidad'==op){if(''==L[op])return B.title='Necesidades situaciones',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+L.situacion+'\' es obligatorio',B;if(y(L[op]))return B.title='Necesidades situaciones',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+L.situacion+'\' no debe contener n\xFAmeros',B}break;case'factores_impacto':var M=A[i],N=void 0;for(item in M)for(op in N=M[item],N)if('otro_factor'==op){if(''==N[op])return B.title='Factores de impacto',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+N.escenario+'\' es obligatorio',B;if(y(N[op]))return B.title='Factores de impacto',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+N.escenario+'\' no debe contener n\xFAmeros',B}break;case'posibilidad_actividades':var O=A[i],P=void 0;for(item in O)for(op in P=O[item],P)if('otra_actividad'==op||'posibilidad'==op||'tipo_apoyo'==op){if(''==P[op])return B.title='Posibilidades en actividades',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+P.actividad+'\' es obligatorio',B;if(y(P[op]))return B.title='Posibilidades en actividades',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+P.actividad+'\' no debe contener n\xFAmeros',B}break;case'apoyo_principal_cotidiano':var Q=A[i];if('{}'==JSON.stringify(Q))return B.title='Apoyo principal',B.status='error',B.msg='El campo apoyo principal es obligatorio',B;for(op in Q)if('otro_apoyo'==op){if(''==Q[op])return B.title='Apoyo principal',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+Q.apoyo_cotidiano+'\' es obligatorio',B;if(y(Q[op]))return B.title='Apoyo principal',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+Q.apoyo_cotidiano+'\' no debe contener n\xFAmeros',B}break;case'medio_transporte':var R=A[i];if('{}'==JSON.stringify(R))return B.title='Medio de transporte',B.status='error',B.msg='El campo medio de transporte es obligatorio',B;for(op in R)if('otro_transporte'==op){if(''==R[op])return B.title='Medio de transporte',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+R.transporte+'\' es obligatorio',B;if(y(R[op]))return B.title='Medio de transporte',B.status='error',B.msg='El campo '+op+' de la opci\xF3n \''+R.transporte+'\' no debe contener n\xFAmeros',B}break;case'participa_asociacion':var S=A[i];for(op in S)if('asociacion'==op){if(''==S[op])return B.title='Participaci\xF3n en organizaci\xF3n/asociaci\xF3n',B.status='error',B.msg='El campo '+op+' es obligatorio',B;if(y(S[op]))return B.title='Participaci\xF3n en organizaci\xF3n/asociaci\xF3n',B.status='error',B.msg='El campo '+op+' no debe contener n\xFAmeros',B}break;case'actividades_otros':var T=A[i];for(op in T)if('actividad'==op){if(''==T[op])return B.title='Actividades con otros',B.status='error',B.msg='El campo '+op+' es obligatorio',B;if(y(T[op]))return B.title='Actividades con otros',B.status='error',B.msg='El campo '+op+' no debe contener n\xFAmeros',B}break;case'apoyo_institucion':var U=A[i];for(op in U)if('apoyo_institu'==op||'institucion'==op){if(''==U[op])return B.title='Apoyo instituci\xF3n',B.status='error',B.msg='El campo '+op+' es obligatorio',B;if(y(U[op]))return B.title='Apoyo instituci\xF3n',B.status='error',B.msg='El campo '+op+' no debe contener n\xFAmeros',B}}return B}function s(A){a('#'+A).find('input').each(function(){a(this).prop('disabled',!1)})}function t(){a('#form_ficha_inicial').find(':input').not('.input_fields_discapacity_tab').not('.range_input').each(function(){'check_documentos_soporte'!=a(this).attr('id')&&a(this).prop('disabled',!1)})}function u(A){var B,C,D,E,F,G,H,I,J;for(i in A)switch(i){case'condicion_adquisicion':C=A[i].key_condicion,E=A[i].condicion,F=A[i].key_otra_condicion,G=A[i].otra_condicion,v(C,E,F,G);break;case'diagnostico_discapacidad':C=A[i].key_diagnostico,D=A[i].tiene_diagnostico,H=A[i].key_descripcion,I=A[i].descripcion,w(C,D,H,I);break;case'tipo_discapacidad':C=A[i].key_tipo,E=A[i].tipo_discapacidad,F=A[i].key_otro_tipo,G=A[i].otro_tipo,v(C,E,F,G);break;case'certificado_invalidez':C=A[i].key_certificado,D=A[i].tiene_certificado,H=A[i].key_porcentaje,I=A[i].porcentaje,w(C,D,H,I);break;case'dificultad_permanente_funciones':B=A[i],x(B,'key_funcion','funcion','key_dificultad','dificultad');break;case'condicion_salud_organos':B=A[i],x(B,'key_organo','organo','key_condicion','condicion');break;case'necesidades_situaciones':B=A[i],x(B,'key_situacion','situacion','key_necesidad','necesidad');break;case'posibilidad_actividades':for(obj_json in B=A[i],B)'check_otra_posibilidad'==B[obj_json].key_actividad&&(a('#'+B[obj_json].key_otra_actividad).val(B[obj_json].otra_actividad),a('#'+B[obj_json].key_otra_actividad).parent().show()),a('#'+B[obj_json].key_actividad).prop('checked',!0),a('#'+B[obj_json].key_posibilidad).val(B[obj_json].posibilidad),a('#'+B[obj_json].key_apoyo).val(B[obj_json].tipo_apoyo),'No la puede realizar'==B[obj_json].posibilidad?J=1:'Lo hace sin apoyo'==B[obj_json].posibilidad?J=2:'Lo hace con apoyo'==B[obj_json].posibilidad&&(J=3),a('#'+B[obj_json].key_posibilidad).siblings(':input[type=range]').val(J);break;case'factores_impacto':for(obj_json in B=A[i],B)('check_factor4'==B[obj_json].key_factor||'check_factor2_7'==B[obj_json].key_factor)&&a('#'+B[obj_json].key_otro_factor).val(B[obj_json].otro_factor),'check_factor2'==B[obj_json].key_factor&&a('#'+B[obj_json].key_factor).parent().next().show(),a('#'+B[obj_json].key_factor).prop('checked',!0);break;case'apoyo_principal_cotidiano':C=A[i].key_apoyo,D=A[i].apoyo_cotidiano,H=A[i].key_otro_apoyo,I=A[i].otro_apoyo,a('#'+C).prop('checked',!0),'input_radio_otro_oa'==C?(a('#'+H).val(I),a('#'+H).parent().show()):(a('#'+H).val(''),a('#'+H).parent().hide());break;case'medio_transporte':C=A[i].key_transoporte,D=A[i].transporte,H=A[i].key_otro_transporte,I=A[i].otro_transporte,a('#'+C).prop('checked',!0),'input_radio_otro_ot'==C?(a('#'+H).val(I),a('#'+H).parent().show()):(a('#'+H).val(''),a('#'+H).parent().hide());break;case'participa_asociacion':C=A[i].key_participa,D=A[i].participa,H=A[i].key_asociacion,I=A[i].asociacion,w(C,D,H,I);break;case'actividades_otros':C=A[i].key_realiza,D=A[i].realiza,H=A[i].key_actividad,I=A[i].actividad,w(C,D,H,I);break;case'apoyo_institucion':C=A[i].key_apoya,D=A[i].apoyo,H=A[i].key_apoyo_institu,I=A[i].apoyo_institu,1==D?(a('#'+C).prop('checked',!0),a('#'+H).val(I),H=A[i].key_institucion,I=A[i].institucion,a('#'+H).val(I),a('#'+H).parent().parent().show()):(a('#'+C).prop('checked',!1),a('#'+H).val(''),a('#'+H).parent().parent().hide());}}function v(A,B,C,D){var E;a('#'+A+' option').each(function(){a(this).text()==B&&(E=a(this).attr('value'),a('#'+A).val(E),'0'==E&&(a('#'+C).val(D),a('#'+C).parent().show()))})}function w(A,B,C,D){1==B?(a('#'+A).prop('checked',!0),a('#'+C).val(D),a('#'+C).parent().show()):(a('#'+A).prop('checked',!1),a('#'+C).val(''),a('#'+C).parent().hide())}function x(A,B,C,D,E){for(obj_json in A)a('#'+A[obj_json][B]).prop('checked',!0),a('#'+A[obj_json][D]).val(A[obj_json][E])}function y(A){for(i=0;i<A.length;i++)if(-1!='0123456789'.indexOf(A.charAt(i),0))return 1;return 0}''!=a('#input_json_saved').val()&&(a('#li_view_discapacity_initial').show(),a('#cancel_ficha_discapacity').parent().show()),a('#btn_ficha_inicial_discapacity').on('click',function(){}),a('#div_factor_impacto input').on('change',function(){a('#check_factor2').is(':checked')?(a('#div_factor_contexto').show(),a('#check_factor2_7').is(':checked')?(a('#input_factor2_7').prop('disabled',!1),a('#input_factor2_7').prop('required',!0)):(a('#input_factor2_7').prop('value',''),a('#input_factor2_7').prop('disabled',!0),a('#input_factor2_7').prop('required',!1))):a('#div_factor_contexto').hide(),a('#check_factor4').is(':checked')?(a('#input_factor4').prop('disabled',!1),a('#input_factor4').prop('required',!0)):(a('#input_factor4').prop('value',''),a('#input_factor4').prop('disabled',!0),a('#input_factor4').prop('required',!1))}),a('#div_necesidades input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=range]').on('change',function(){1==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','No la puede realizar'),2==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Lo hace sin apoyo'),3==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Lo hace con apoyo')}),a('#check_otra_posibilidad').on('click',function(){a(this).is(':checked')?(a('#div_otra_actividad').show(),a('#input_otro1').prop('required',!0),a('#input_otro1').prop('disabled',!1),a('#input_tipo_otro').prop('required',!0),a('#input_tipo_otro').prop('disabled',!1),a('#clasificacion_otro').prop('disabled',!1),a('#clasificacion_otro').prop('required',!0)):(a('#div_otra_actividad').hide(),a('#input_otro1').prop('value',''),a('#input_otro1').prop('disabled',!0),a('#input_posib_otro').prop('value',''),a('#input_tipo_otro').prop('value',''),a('#input_otro1').prop('required',!1),a('#input_tipo_otro').prop('required',!1),a('#input_tipo_otro').prop('disabled',!0),a('#clasificacion_otro').prop('disabled',!0),a('#clasificacion_otro').prop('required',!1),a('#clasificacion_otro').prop('value',null))}),a('#div_cond_salud input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_dificultad_permanente input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=range]').prop('disabled',!1),a(this).parent().find(':input[type=range]').prop('required',!0),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!1),a(this).parent().find(':input[name=input_apoyo]').prop('required',!0)):(a(this).parent().find(':input[type=range]').prop('value',null),a(this).parent().find(':input[type=range]').prop('disabled',!0),a(this).parent().find(':input[type=range]').prop('required',!1),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!0),a(this).parent().find(':input[name=input_apoyo]').prop('required',!1),a(this).parent().find(':input[type=text]').prop('value',''))}),a('#edit_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span><strong> (Edici\xF3n) </strong>'),a('#form_ficha_inicial').show(),t();var A=a('#input_json_saved').val();''!=A&&(A=JSON.parse(A)),u(A),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().show(),a('#cancel_ficha_discapacity').parent().show();var B=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=B}),a('#view_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide();var A=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=A}),a('#cond_adquisicion').on('click',function(){'0'==a(this).val()?(a('#div_otro_cond_adq').show(),a('#otro_cond_adquisicion').prop('required',!0),s('div_otro_cond_adq')):(a('#div_otro_cond_adq').hide(),a('#otro_cond_adquisicion').prop('required',!1),a('#otro_cond_adquisicion').prop('value',''))}),a('#opciones_apoyo input[name=apoyo_principal]').on('change',function(){a('#input_radio_otro_oa').is(':checked')?(a('#div_otro_apoyo_principal').show(),a('#input_otro_apoyo').prop('required',!0),s('div_otro_apoyo_principal')):(a('#div_otro_apoyo_principal').hide(),a('#input_otro_apoyo').prop('required',!1),a('#input_otro_apoyo').prop('value',''))}),a('#opciones_transporte input[name=desplazamiento]').on('change',function(){a('#input_radio_otro_ot').is(':checked')?(a('#div_otro_transporte').show(),a('#input_otro_transporte').prop('required',!0),s('div_otro_transporte')):(a('#div_otro_transporte').hide(),a('#input_otro_transporte').prop('required',!1),a('#input_otro_transporte').prop('value',''))}),a('#tipo_discapacidad').on('click',function(){'0'==a(this).val()?(a('#div_otra_discapacidad').show(),a('#otra_discapacidad').prop('required',!0),s('div_otra_discapacidad')):(a('#div_otra_discapacidad').hide(),a('#otra_discapacidad').prop('required',!1),a('#otra_discapacidad').prop('value',''))}),a('#check_diagnostico').on('change',function(){a('#check_diagnostico').is(':checked')?(a('#div_descripcion_diagnostico').show(),a('#textarea_diagnostico').prop('required',!0)):(a('#div_descripcion_diagnostico').hide(),a('#textarea_diagnostico').prop('value',''),a('#textarea_diagnostico').prop('required',!1))}),a('#textarea_diagnostico').on('change',function(){var A=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=A}),a('#check_certificado_invalidez').on('change',function(){a('#check_certificado_invalidez').is(':checked')?(a('#div_porcentaje_inv').show(),a('#input_porcentaje_inv').prop('required',!0),s('div_porcentaje_inv')):(a('#div_porcentaje_inv').hide(),a('#input_porcentaje_inv').prop('required',!1),a('#input_porcentaje_inv').prop('value',''))}),a('#check_org').on('change',function(){a('#check_org').is(':checked')?(a('#div_organizacion_asociacion').show(),a('#input_org').prop('required',!0),s('div_organizacion_asociacion')):(a('#div_organizacion_asociacion').hide(),a('#input_org').prop('required',!1),a('#input_org').prop('value',''))}),a('#check_actividades_otros').on('change',function(){a('#check_actividades_otros').is(':checked')?(a('#div_actividades_otros_desc').show(),a('#input_actividades_otros').prop('required',!0),s('div_actividades_otros_desc')):(a('#div_actividades_otros_desc').hide(),a('#input_actividades_otros').prop('required',!1),a('#input_actividades_otros').prop('value',''))}),a('#check_apoyo_institu').on('change',function(){a('#check_apoyo_institu').is(':checked')?(a('#div_institucion_apoyo').show(),a('#input_institucion').prop('required',!0),a('#input_apoyo').prop('required',!0),s('div_institucion_apoyo')):(a('#div_institucion_apoyo').hide(),a('#input_institucion').prop('required',!1),a('#input_institucion').prop('value',''),a('#input_apoyo').prop('required',!1),a('#input_apoyo').prop('value',''))}),a('#cancel_ficha_discapacity').on('click',function(){swal({title:'Advertencia',text:'\xBFEst\xE1 seguro(a) que desea revertir los cambios?',type:'warning',showCancelButton:!0,confirmButtonText:'Si',cancelButtonText:'No',closeOnConfirm:!0},function(A){A&&(o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide())})}),a('#save_ficha_discapacity').on('click',function(){var ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,A,B,C,D,E,F,G,H,I,J,K,L,M,N,S,T,U,V,V,W,X,Y,bb=[],cb=[],db=[],eb=[],fb=[],Z;ba=a('#cond_adquisicion').val(),Ra=a('#cond_adquisicion').attr('id'),ga=a('#cond_adquisicion').find(':selected').text(),Sa={key_condicion:Ra,condicion:ga},0==ba&&(qa=a('#otro_cond_adquisicion').attr('id'),ha=a('#otro_cond_adquisicion').val(),Sa.key_otra_condicion=qa,Sa.otra_condicion=ha),Ba=a('#check_diagnostico').is(':checked'),Ca=a('#check_diagnostico').attr('id'),Da={key_diagnostico:Ca},Ba?(ia=a('#textarea_diagnostico').val(),Aa=a('#textarea_diagnostico').attr('id'),Da.tiene_diagnostico=1,Da.key_descripcion=Aa,Da.descripcion=ia):Da.tiene_diagnostico=0,ja=a('#tipo_discapacidad').val(),Ea=a('#tipo_discapacidad').attr('id'),ka=a('#tipo_discapacidad').find(':selected').text(),Ga={key_tipo:Ea,tipo_discapacidad:ka},0==ja&&(la=a('#otra_discapacidad').val(),Fa=a('#otra_discapacidad').attr('id'),Ga.key_otro_tipo=Fa,Ga.otro_tipo=la),Ha=a('#check_certificado_invalidez').is(':checked'),Ia=a('#check_certificado_invalidez').attr('id'),Ja={key_certificado:Ia},Ha?(Ka=a('#input_porcentaje_inv').attr('id'),va=parseInt(a('#input_porcentaje_inv').val()),Ja.tiene_certificado=1,Ja.key_porcentaje=Ka,Ja.porcentaje=va):Ja.tiene_certificado=0,a('#div_dificultad_permanente').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(A=a(this).attr('id'),C=a(this).attr('title'),D=a(this).parent().find(':input[type=text]').val(),B=a(this).parent().find(':input[type=text]').attr('id'),Ua={key_funcion:A,funcion:C,key_dificultad:B,dificultad:D},bb.push(Ua))}),a('#div_cond_salud').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(E=a(this).attr('id'),G=a(this).attr('title'),H=a(this).parent().find(':input[type=text]').val(),F=a(this).parent().find(':input[type=text]').attr('id'),Va={key_organo:E,organo:G,key_condicion:F,condicion:H},cb.push(Va))}),a('#div_necesidades').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(J=a(this).attr('id'),situacion_name=a(this).attr('title'),necesidad_name=a(this).parent().find(':input[type=text]').val(),I=a(this).parent().find(':input[type=text]').attr('id'),Wa={key_situacion:J,situacion:situacion_name,key_necesidad:I,necesidad:necesidad_name},db.push(Wa))}),a('#div_factor_impacto').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(K=a(this).attr('id'),L=a(this).attr('title'),Xa={key_factor:K,escenario:L},('Otra \xBFCu\xE1l?'==L||'Otros, \xBFcu\xE1les?'==L)&&(N=a(this).parent().find(':input[type=text]').val(),M=a(this).parent().find('input[type=text]').attr('id'),Xa.key_otro_factor=M,Xa.otro_factor=N),eb.push(Xa))}),a('#div_posibilidades_condiciones').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&('check_otra_posibilidad'==a(this).attr('id')?(S=a(this).attr('id'),T=a(this).attr('title'),U=a('#input_posib_otro').val(),key_pos_pa=a('#input_posib_otro').attr('id'),V=a('#input_tipo_otro').attr('id'),W=a('#input_tipo_otro').val(),X=a('#input_otro1').attr('id'),Y=a('#input_otro1').val()):(S=a(this).attr('id'),T=a(this).attr('title'),U=a(this).parent().find(':input[type=text]').not('.input_apoyo').val(),key_pos_pa=a(this).parent().find(':input[type=text]').not('.input_apoyo').attr('id'),V=a(this).parent().find(':input[name=input_apoyo]').attr('id'),W=a(this).parent().find(':input[name=input_apoyo]').val()),Ya={key_actividad:S,actividad:T,key_posibilidad:key_pos_pa,posibilidad:U,key_apoyo:V,tipo_apoyo:W},'check_otra_posibilidad'==a(this).attr('id')&&(Ya.key_otra_actividad=X,Ya.otra_actividad=Y),fb.push(Ya))}),ca=a('#opciones_apoyo').find(':input[type=radio]:checked').val(),ea=a('#opciones_apoyo').find(':input[type=radio]:checked').attr('id'),Za={key_apoyo:ea,apoyo_cotidiano:ca},'Otro'==ca&&(fa=a('#input_otro_apoyo').attr('id'),da=a('#input_otro_apoyo').val(),Za.key_otro_apoyo=fa,Za.otro_apoyo=da),ma=a('#opciones_transporte').find(':input[type=radio]:checked').val(),oa=a('#opciones_transporte').find(':input[type=radio]:checked').attr('id'),$a={key_transoporte:oa,transporte:ma},'Otro'==ma&&(pa=a('#input_otro_transporte').attr('id'),na=a('#input_otro_transporte').val(),$a.key_otro_transporte=pa,$a.otro_transporte=na),ra=a('#check_org').is(':checked'),sa=a('#check_org').attr('id'),_a={key_participa:sa},ra?(ta=a('#input_org').val(),ua=a('#input_org').attr('id'),_a.participa=1,_a.key_asociacion=ua,_a.asociacion=ta):_a.participa=0,za=a('#check_actividades_otros').is(':checked'),ya=a('#check_actividades_otros').attr('id'),ab={key_realiza:ya},za?(wa=a('#input_actividades_otros').val(),xa=a('#input_actividades_otros').attr('id'),ab.realiza=1,ab.key_actividad=xa,ab.actividad=wa):ab.realiza=0,La=a('#check_apoyo_institu').is(':checked'),Ma=a('#check_apoyo_institu').attr('id'),Ta={key_apoya:Ma},La?(Na=a('#input_apoyo').val(),Oa=a('#input_apoyo').attr('id'),Ta.apoyo=1,Ta.key_apoyo_institu=Oa,Ta.apoyo_institu=Na,Pa=a('#input_institucion').val(),Qa=a('#input_institucion').attr('id'),Ta.key_institucion=Qa,Ta.institucion=Pa):Ta.apoyo=0,Z={condicion_adquisicion:Sa,diagnostico_discapacidad:Da,tipo_discapacidad:Ga,certificado_invalidez:Ja,dificultad_permanente_funciones:bb,condicion_salud_organos:cb,necesidades_situaciones:db,posibilidad_actividades:fb,factores_impacto:eb,apoyo_principal_cotidiano:Za,medio_transporte:$a,participa_asociacion:_a,actividades_otros:ab,apoyo_institucion:Ta};var _=r(Z);if('error'==_.status)swal(_.title,_.msg,_.status);else{var aa=Z;aa=JSON.stringify(aa);var gb=a('#id_ases').val();n(aa,gb)}})}}});