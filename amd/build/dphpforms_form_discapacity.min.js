'use strict';define(['jquery','block_ases/jszip','block_ases/jquery.dataTables','block_ases/dataTables.autoFill','block_ases/dataTables.buttons','block_ases/buttons.html5','block_ases/buttons.flash','block_ases/buttons.print','block_ases/bootstrap','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2'],function(a){return{init:function init(){function n(D,E){var F=a('#input_json_saved').val();a.ajax({type:'POST',data:{func:'validate_json',json:D,json_prev:F,ases:E,instanceid:B(),courseid:C(),id_schema:1},url:'../managers/student_profile/discapacity_tab_api.php',success:function success(G){swal({title:G.title,text:G.msg,type:G.status},function(){a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow')}),a('#input_json_saved').attr('value',D)},dataType:'json',cache:'false',error:function error(G){swal(G.title,G.msg,G.status)}})}function o(){a('#form_ficha_inicial').show(),p('input'),p('select'),p('textarea');var D=a('#input_json_saved').val();D=JSON.parse(D),q(),u(D)}function p(D){for(obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName(D)[i];i++)ele.disabled=!0}function q(){for(obj=document.getElementById('form_ficha_inicial'),i=0;ele=obj.getElementsByTagName('input')[i];i++)'input_json_saved'!=ele.id&&('checkbox'==ele.type&&(ele.checked=!1),'radio'==ele.type&&(ele.checked=!1),'text'==ele.type&&(ele.value=''),'range'==ele.type&&(ele.value=2),'number'==ele.type&&(ele.value=0));a('#div_institucion_apoyo').hide(),a('#div_actividades_otros_desc').hide(),a('#div_organizacion_asociacion').hide(),a('#div_otro_transporte').hide(),a('#div_otro_apoyo_principal').hide(),a('#div_porcentaje_inv').hide(),a('#div_otra_discapacidad').hide(),a('#div_descripcion_diagnostico').hide(),a('#div_otro_cond_adq').hide()}function r(D){var E={};for(i in E.title='\xC9xito',E.msg='El formulario fue validado con \xE9xito',E.status='success',D)switch(i){case'condicion_adquisicion':var F=D[i];for(op in F)if('otra_condicion'==op){if(''==F[op])return E.title='Condici\xF3n de adquisici\xF3n',E.status='error',E.msg='El campo '+op+' de adquisici\xF3n es obligatorio',E;if(z(F[op]))return E.title='Condici\xF3n de adquisici\xF3n',E.status='error',E.msg='El campo '+op+' de adquisici\xF3n no debe contener n\xFAmeros',E}break;case'diagnostico_discapacidad':var G=D[i];for(op in G)if('descripcion'==op){if(''==G[op])return E.title='Diagn\xF3stico de discapacidad',E.status='error',E.msg='El campo '+op+' diagn\xF3stico es obligatorio',E;if(z(G[op]))return E.title='Diagn\xF3stico de discapacidad',E.status='error',E.msg='El campo '+op+' diagn\xF3stico no debe contener n\xFAmeros',E}break;case'tipo_discapacidad':var H=D[i];for(op in H)if('otro_tipo'==op){if(''==H[op])return E.title='Tipo de discapacidad',E.status='error',E.msg='El campo '+op+' de discapacidad es obligatorio',E;if(z(H[op]))return E.title='Tipo de discapacidad',E.status='error',E.msg='El campo '+op+' de discapacidad no debe contener n\xFAmeros',E}break;case'certificado_invalidez':var I=D[i];for(op in I)if('porcentaje'==op){if(''==I[op])return E.title='Certificado de invalidez',E.status='error',E.msg='El campo '+op+' es obligatorio',E;if(0>I[op])return E.title='Certificado de invalidez',E.status='error',E.msg='El campo '+op+' no debe ser negativo',E;if(Number.isNaN(I[op]))return E.title='Certificado de invalidez',E.status='error',E.msg='El campo '+op+' debe ser num\xE9rico',E}break;case'dificultad_permanente_funciones':var J=D[i],K=void 0;for(item in J)for(op in K=J[item],K)if('dificultad'==op){if(''==K[op])return E.title='Dificultades permanentes',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+K.funcion+'\' es obligatorio',E;if(z(K[op]))return E.title='Dificultades permanentes',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+K.funcion+'\' no debe contener n\xFAmeros',E}break;case'condicion_salud_organos':var L=D[i],M=void 0;for(item in L)for(op in M=L[item],M)if('condicion'==op){if(''==M[op])return E.title='Condiciones de salud',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+M.organo+'\' es obligatorio',E;if(z(M[op]))return E.title='Condiciones de salud',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+M.organo+'\' no debe contener n\xFAmeros',E}break;case'necesidades_situaciones':var N=D[i],O=void 0;for(item in N)for(op in O=N[item],O)if('necesidad'==op){if(''==O[op])return E.title='Necesidades situaciones',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+O.situacion+'\' es obligatorio',E;if(z(O[op]))return E.title='Necesidades situaciones',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+O.situacion+'\' no debe contener n\xFAmeros',E}break;case'factores_impacto':var P=D[i],Q=void 0;for(item in P)for(op in Q=P[item],Q)if('otro_factor'==op){if(''==Q[op])return E.title='Factores de impacto',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+Q.escenario+'\' es obligatorio',E;if(z(Q[op]))return E.title='Factores de impacto',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+Q.escenario+'\' no debe contener n\xFAmeros',E}break;case'posibilidad_actividades':var R=D[i],S=void 0;for(item in R)for(op in S=R[item],S)if('otra_actividad'==op||'posibilidad'==op||'tipo_apoyo'==op){if(''==S[op])return E.title='Posibilidades en actividades',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+S.actividad+'\' es obligatorio',E;if(z(S[op]))return E.title='Posibilidades en actividades',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+S.actividad+'\' no debe contener n\xFAmeros',E}break;case'apoyo_principal_cotidiano':var T=D[i];if('{}'==JSON.stringify(T))return E.title='Apoyo principal',E.status='error',E.msg='El campo apoyo principal es obligatorio',E;for(op in T)if('otro_apoyo'==op){if(''==T[op])return E.title='Apoyo principal',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+T.apoyo_cotidiano+'\' es obligatorio',E;if(z(T[op]))return E.title='Apoyo principal',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+T.apoyo_cotidiano+'\' no debe contener n\xFAmeros',E}break;case'medio_transporte':var U=D[i];if('{}'==JSON.stringify(U))return E.title='Medio de transporte',E.status='error',E.msg='El campo medio de transporte es obligatorio',E;for(op in U)if('otro_transporte'==op){if(''==U[op])return E.title='Medio de transporte',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+U.transporte+'\' es obligatorio',E;if(z(U[op]))return E.title='Medio de transporte',E.status='error',E.msg='El campo '+op+' de la opci\xF3n \''+U.transporte+'\' no debe contener n\xFAmeros',E}break;case'participa_asociacion':var V=D[i];for(op in V)if('asociacion'==op){if(''==V[op])return E.title='Participaci\xF3n en organizaci\xF3n/asociaci\xF3n',E.status='error',E.msg='El campo '+op+' es obligatorio',E;if(z(V[op]))return E.title='Participaci\xF3n en organizaci\xF3n/asociaci\xF3n',E.status='error',E.msg='El campo '+op+' no debe contener n\xFAmeros',E}break;case'actividades_otros':var W=D[i];for(op in W)if('actividad'==op){if(''==W[op])return E.title='Actividades con otros',E.status='error',E.msg='El campo '+op+' es obligatorio',E;if(z(W[op]))return E.title='Actividades con otros',E.status='error',E.msg='El campo '+op+' no debe contener n\xFAmeros',E}break;case'apoyo_institucion':var X=D[i];for(op in X)if('apoyo_institu'==op||'institucion'==op){if(''==X[op])return E.title='Apoyo instituci\xF3n',E.status='error',E.msg='El campo '+op+' es obligatorio',E;if(z(X[op]))return E.title='Apoyo instituci\xF3n',E.status='error',E.msg='El campo '+op+' no debe contener n\xFAmeros',E}}return E}function s(D){a('#'+D).find('input').each(function(){a(this).prop('disabled',!1)})}function t(){a('#form_ficha_inicial').find(':input').not('.input_fields_discapacity_tab').not('.range_input').each(function(){'check_documentos_soporte'!=a(this).attr('id')&&a(this).prop('disabled',!1)})}function u(D){var E,F,G,H,I,J,K,L,M;for(i in D)switch(i){case'condicion_adquisicion':F=D[i].key_condicion,H=D[i].condicion,I=D[i].key_otra_condicion,J=D[i].otra_condicion,v(F,H,I,J);break;case'diagnostico_discapacidad':F=D[i].key_diagnostico,G=D[i].tiene_diagnostico,K=D[i].key_descripcion,L=D[i].descripcion,w(F,G,K,L);break;case'tipo_discapacidad':F=D[i].key_tipo,H=D[i].tipo_discapacidad,I=D[i].key_otro_tipo,J=D[i].otro_tipo,v(F,H,I,J);break;case'certificado_invalidez':F=D[i].key_certificado,G=D[i].tiene_certificado,K=D[i].key_porcentaje,L=D[i].porcentaje,w(F,G,K,L);break;case'dificultad_permanente_funciones':E=D[i],y(E,'key_funcion','funcion','key_dificultad','dificultad');break;case'condicion_salud_organos':E=D[i],y(E,'key_organo','organo','key_condicion','condicion');break;case'necesidades_situaciones':E=D[i],y(E,'key_situacion','situacion','key_necesidad','necesidad');break;case'posibilidad_actividades':for(obj_json in E=D[i],E)'check_otra_posibilidad'==E[obj_json].key_actividad&&(a('#'+E[obj_json].key_otra_actividad).val(E[obj_json].otra_actividad),a('#'+E[obj_json].key_otra_actividad).parent().show()),a('#'+E[obj_json].key_actividad).prop('checked',!0),a('#'+E[obj_json].key_posibilidad).val(E[obj_json].posibilidad),a('#'+E[obj_json].key_apoyo).val(E[obj_json].tipo_apoyo),'No la puede realizar'==E[obj_json].posibilidad?M=1:'Lo hace sin apoyo'==E[obj_json].posibilidad?M=2:'Lo hace con apoyo'==E[obj_json].posibilidad&&(M=3),a('#'+E[obj_json].key_posibilidad).siblings(':input[type=range]').val(M);break;case'factores_impacto':for(obj_json in E=D[i],E)('check_factor4'==E[obj_json].key_factor||'check_factor2_7'==E[obj_json].key_factor)&&a('#'+E[obj_json].key_otro_factor).val(E[obj_json].otro_factor),'check_factor2'==E[obj_json].key_factor&&a('#'+E[obj_json].key_factor).parent().next().show(),a('#'+E[obj_json].key_factor).prop('checked',!0);break;case'apoyo_principal_cotidiano':F=D[i].key_apoyo,G=D[i].apoyo_cotidiano,K=D[i].key_otro_apoyo,L=D[i].otro_apoyo,a('#'+F).prop('checked',!0),'input_radio_otro_oa'==F?(a('#'+K).val(L),a('#'+K).parent().show()):(a('#'+K).val(''),a('#'+K).parent().hide());break;case'medio_transporte':F=D[i].key_transoporte,G=D[i].transporte,K=D[i].key_otro_transporte,L=D[i].otro_transporte,a('#'+F).prop('checked',!0),'input_radio_otro_ot'==F?(a('#'+K).val(L),a('#'+K).parent().show()):(a('#'+K).val(''),a('#'+K).parent().hide());break;case'participa_asociacion':F=D[i].key_participa,G=D[i].participa,K=D[i].key_asociacion,L=D[i].asociacion,w(F,G,K,L);break;case'actividades_otros':F=D[i].key_realiza,G=D[i].realiza,K=D[i].key_actividad,L=D[i].actividad,w(F,G,K,L);break;case'apoyo_institucion':F=D[i].key_apoya,G=D[i].apoyo,K=D[i].key_apoyo_institu,L=D[i].apoyo_institu,1==G?(a('#'+F).prop('checked',!0),a('#'+K).val(L),K=D[i].key_institucion,L=D[i].institucion,a('#'+K).val(L),a('#'+K).parent().parent().show()):(a('#'+F).prop('checked',!1),a('#'+K).val(''),a('#'+K).parent().parent().hide());}}function v(D,E,F,G){var H;a('#'+D+' option').each(function(){a(this).text()==E&&(H=a(this).attr('value'),a('#'+D).val(H),'0'==H&&(a('#'+F).val(G),a('#'+F).parent().show()))})}function w(D,E,F,G){1==E?(a('#'+D).prop('checked',!0),a('#'+F).val(G),a('#'+F).parent().show()):(a('#'+D).prop('checked',!1),a('#'+F).val(''),a('#'+F).parent().hide())}function y(D,E,F,G,H){for(obj_json in D)a('#'+D[obj_json][E]).prop('checked',!0),a('#'+D[obj_json][G]).val(D[obj_json][H])}function z(D){for(i=0;i<D.length;i++)if(-1!='0123456789'.indexOf(D.charAt(i),0))return 1;return 0}function B(){var D=location.search.split('&');for(x in D)if(0<=D[x].indexOf('instanceid')){var E=D[x].split('=');return E[1]}return 0}function C(){var D=location.search.split('&');for(x in D)if(0<=D[x].indexOf('courseid')){var E=D[x].split('=');return E[1]}return 0}''!=a('#input_json_saved').val()&&(a('#li_view_discapacity_initial').show(),a('#cancel_ficha_discapacity').parent().show()),a('#btn_ficha_inicial_discapacity').on('click',function(){}),a('#div_factor_impacto input').on('change',function(){a('#check_factor2').is(':checked')?(a('#div_factor_contexto').show(),a('#check_factor2_7').is(':checked')?(a('#input_factor2_7').prop('disabled',!1),a('#input_factor2_7').prop('required',!0)):(a('#input_factor2_7').prop('value',''),a('#input_factor2_7').prop('disabled',!0),a('#input_factor2_7').prop('required',!1))):a('#div_factor_contexto').hide(),a('#check_factor4').is(':checked')?(a('#input_factor4').prop('disabled',!1),a('#input_factor4').prop('required',!0)):(a('#input_factor4').prop('value',''),a('#input_factor4').prop('disabled',!0),a('#input_factor4').prop('required',!1))}),a('#div_necesidades input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=range]').on('change',function(){1==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','No la puede realizar'),2==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Lo hace sin apoyo'),3==a(this).val()&&a(this).parent().find(':input[type=text]').prop('value','Lo hace con apoyo')}),a('#check_otra_posibilidad').on('click',function(){a(this).is(':checked')?(a('#div_otra_actividad').show(),a('#input_otro1').prop('required',!0),a('#input_otro1').prop('disabled',!1),a('#input_tipo_otro').prop('required',!0),a('#input_tipo_otro').prop('disabled',!1),a('#clasificacion_otro').prop('disabled',!1),a('#clasificacion_otro').prop('required',!0)):(a('#div_otra_actividad').hide(),a('#input_otro1').prop('value',''),a('#input_otro1').prop('disabled',!0),a('#input_posib_otro').prop('value',''),a('#input_tipo_otro').prop('value',''),a('#input_otro1').prop('required',!1),a('#input_tipo_otro').prop('required',!1),a('#input_tipo_otro').prop('disabled',!0),a('#clasificacion_otro').prop('disabled',!0),a('#clasificacion_otro').prop('required',!1),a('#clasificacion_otro').prop('value',null))}),a('#div_cond_salud input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_dificultad_permanente input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=text]').prop('disabled',!1),a(this).parent().find(':input[type=text]').prop('required',!0)):(a(this).parent().find(':input[type=text]').prop('value',''),a(this).parent().find(':input[type=text]').prop('disabled',!0),a(this).parent().find(':input[type=text]').prop('required',!1))}),a('#div_posibilidades_condiciones input[type=checkbox]').on('change',function(){a(this).is(':checked')?(a(this).parent().find(':input[type=range]').prop('disabled',!1),a(this).parent().find(':input[type=range]').prop('required',!0),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!1),a(this).parent().find(':input[name=input_apoyo]').prop('required',!0)):(a(this).parent().find(':input[type=range]').prop('value',null),a(this).parent().find(':input[type=range]').prop('disabled',!0),a(this).parent().find(':input[type=range]').prop('required',!1),a(this).parent().find(':input[name=input_apoyo]').prop('disabled',!0),a(this).parent().find(':input[name=input_apoyo]').prop('required',!1),a(this).parent().find(':input[type=text]').prop('value',''))}),a('#edit_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span><strong> (Edici\xF3n) </strong>'),a('#form_ficha_inicial').show(),t();var D=a('#input_json_saved').val();''!=D&&(D=JSON.parse(D)),u(D),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().show(),''!==a('#input_json_saved').val()&&a('#cancel_ficha_discapacity').parent().show();var E=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=E}),a('#view_discapacity_initial').on('click',function(){a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide();var D=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=D}),a('#cond_adquisicion').on('click',function(){'0'==a(this).val()?(a('#div_otro_cond_adq').show(),a('#otro_cond_adquisicion').prop('required',!0),s('div_otro_cond_adq')):(a('#div_otro_cond_adq').hide(),a('#otro_cond_adquisicion').prop('required',!1),a('#otro_cond_adquisicion').prop('value',''))}),a('#opciones_apoyo input[name=apoyo_principal]').on('change',function(){a('#input_radio_otro_oa').is(':checked')?(a('#div_otro_apoyo_principal').show(),a('#input_otro_apoyo').prop('required',!0),s('div_otro_apoyo_principal')):(a('#div_otro_apoyo_principal').hide(),a('#input_otro_apoyo').prop('required',!1),a('#input_otro_apoyo').prop('value',''))}),a('#opciones_transporte input[name=desplazamiento]').on('change',function(){a('#input_radio_otro_ot').is(':checked')?(a('#div_otro_transporte').show(),a('#input_otro_transporte').prop('required',!0),s('div_otro_transporte')):(a('#div_otro_transporte').hide(),a('#input_otro_transporte').prop('required',!1),a('#input_otro_transporte').prop('value',''))}),a('#tipo_discapacidad').on('click',function(){'0'==a(this).val()?(a('#div_otra_discapacidad').show(),a('#otra_discapacidad').prop('required',!0),s('div_otra_discapacidad')):(a('#div_otra_discapacidad').hide(),a('#otra_discapacidad').prop('required',!1),a('#otra_discapacidad').prop('value',''))}),a('#check_diagnostico').on('change',function(){a('#check_diagnostico').is(':checked')?(a('#div_descripcion_diagnostico').show(),a('#textarea_diagnostico').prop('required',!0)):(a('#div_descripcion_diagnostico').hide(),a('#textarea_diagnostico').prop('value',''),a('#textarea_diagnostico').prop('required',!1))}),a('#textarea_diagnostico').on('change',function(){var D=a('#textarea_diagnostico').val();document.getElementById('descrip_diagnostico').innerHTML=D}),a('#check_certificado_invalidez').on('change',function(){a('#check_certificado_invalidez').is(':checked')?(a('#div_porcentaje_inv').show(),a('#input_porcentaje_inv').prop('required',!0),s('div_porcentaje_inv')):(a('#div_porcentaje_inv').hide(),a('#input_porcentaje_inv').prop('required',!1),a('#input_porcentaje_inv').prop('value',''))}),a('#check_org').on('change',function(){a('#check_org').is(':checked')?(a('#div_organizacion_asociacion').show(),a('#input_org').prop('required',!0),s('div_organizacion_asociacion')):(a('#div_organizacion_asociacion').hide(),a('#input_org').prop('required',!1),a('#input_org').prop('value',''))}),a('#check_actividades_otros').on('change',function(){a('#check_actividades_otros').is(':checked')?(a('#div_actividades_otros_desc').show(),a('#input_actividades_otros').prop('required',!0),s('div_actividades_otros_desc')):(a('#div_actividades_otros_desc').hide(),a('#input_actividades_otros').prop('required',!1),a('#input_actividades_otros').prop('value',''))}),a('#check_apoyo_institu').on('change',function(){a('#check_apoyo_institu').is(':checked')?(a('#div_institucion_apoyo').show(),a('#input_institucion').prop('required',!0),a('#input_apoyo').prop('required',!0),s('div_institucion_apoyo')):(a('#div_institucion_apoyo').hide(),a('#input_institucion').prop('required',!1),a('#input_institucion').prop('value',''),a('#input_apoyo').prop('required',!1),a('#input_apoyo').prop('value',''))}),a('#cancel_ficha_discapacity').on('click',function(){swal({title:'Advertencia',text:'\xBFEst\xE1 seguro(a) que desea revertir los cambios?',type:'warning',showCancelButton:!0,confirmButtonText:'Si',cancelButtonText:'No',closeOnConfirm:!0},function(D){D&&(o(),a('html, body').animate({scrollTop:650},'slow'),a('#form_ficha_inicial').animate({scrollTop:0},'slow'),a('#btn_ficha_inicial_discapacity').empty(),a('#btn_ficha_inicial_discapacity').append('Ficha inicial <span class="caret"></span> <strong> (Visualizaci\xF3n) </strong>'),a('#save_ficha_discapacity').parent().hide(),a('#cancel_ficha_discapacity').parent().hide())})}),a('#save_ficha_discapacity').on('click',function(){var ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,_a,ab,bb,cb,db,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,V,W,X,Y,Y,Z,_,aa,eb=[],fb=[],gb=[],hb=[],ib=[],ba;ea=a('#cond_adquisicion').val(),Ua=a('#cond_adquisicion').attr('id'),ja=a('#cond_adquisicion').find(':selected').text(),Va={key_condicion:Ua,condicion:ja},0==ea&&(ta=a('#otro_cond_adquisicion').attr('id'),ka=a('#otro_cond_adquisicion').val(),Va.key_otra_condicion=ta,Va.otra_condicion=ka),Ea=a('#check_diagnostico').is(':checked'),Fa=a('#check_diagnostico').attr('id'),Ga={key_diagnostico:Fa},Ea?(la=a('#textarea_diagnostico').val(),Da=a('#textarea_diagnostico').attr('id'),Ga.tiene_diagnostico=1,Ga.key_descripcion=Da,Ga.descripcion=la):Ga.tiene_diagnostico=0,ma=a('#tipo_discapacidad').val(),Ha=a('#tipo_discapacidad').attr('id'),na=a('#tipo_discapacidad').find(':selected').text(),Ja={key_tipo:Ha,tipo_discapacidad:na},0==ma&&(oa=a('#otra_discapacidad').val(),Ia=a('#otra_discapacidad').attr('id'),Ja.key_otro_tipo=Ia,Ja.otro_tipo=oa),Ka=a('#check_certificado_invalidez').is(':checked'),La=a('#check_certificado_invalidez').attr('id'),Ma={key_certificado:La},Ka?(Na=a('#input_porcentaje_inv').attr('id'),ya=parseInt(a('#input_porcentaje_inv').val()),Ma.tiene_certificado=1,Ma.key_porcentaje=Na,Ma.porcentaje=ya):Ma.tiene_certificado=0,a('#div_dificultad_permanente').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(D=a(this).attr('id'),F=a(this).attr('title'),G=a(this).parent().find(':input[type=text]').val(),E=a(this).parent().find(':input[type=text]').attr('id'),Xa={key_funcion:D,funcion:F,key_dificultad:E,dificultad:G},eb.push(Xa))}),a('#div_cond_salud').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(H=a(this).attr('id'),J=a(this).attr('title'),K=a(this).parent().find(':input[type=text]').val(),I=a(this).parent().find(':input[type=text]').attr('id'),Ya={key_organo:H,organo:J,key_condicion:I,condicion:K},fb.push(Ya))}),a('#div_necesidades').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(M=a(this).attr('id'),situacion_name=a(this).attr('title'),necesidad_name=a(this).parent().find(':input[type=text]').val(),L=a(this).parent().find(':input[type=text]').attr('id'),Za={key_situacion:M,situacion:situacion_name,key_necesidad:L,necesidad:necesidad_name},gb.push(Za))}),a('#div_factor_impacto').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&(N=a(this).attr('id'),O=a(this).attr('title'),$a={key_factor:N,escenario:O},('Otra \xBFCu\xE1l?'==O||'Otros, \xBFcu\xE1les?'==O)&&(Q=a(this).parent().find(':input[type=text]').val(),P=a(this).parent().find('input[type=text]').attr('id'),$a.key_otro_factor=P,$a.otro_factor=Q),hb.push($a))}),a('#div_posibilidades_condiciones').find(':input[type=checkbox]').each(function(){a(this).is(':checked')&&('check_otra_posibilidad'==a(this).attr('id')?(V=a(this).attr('id'),W=a(this).attr('title'),X=a('#input_posib_otro').val(),key_pos_pa=a('#input_posib_otro').attr('id'),Y=a('#input_tipo_otro').attr('id'),Z=a('#input_tipo_otro').val(),_=a('#input_otro1').attr('id'),aa=a('#input_otro1').val()):(V=a(this).attr('id'),W=a(this).attr('title'),X=a(this).parent().find(':input[type=text]').not('.input_apoyo').val(),key_pos_pa=a(this).parent().find(':input[type=text]').not('.input_apoyo').attr('id'),Y=a(this).parent().find(':input[name=input_apoyo]').attr('id'),Z=a(this).parent().find(':input[name=input_apoyo]').val()),_a={key_actividad:V,actividad:W,key_posibilidad:key_pos_pa,posibilidad:X,key_apoyo:Y,tipo_apoyo:Z},'check_otra_posibilidad'==a(this).attr('id')&&(_a.key_otra_actividad=_,_a.otra_actividad=aa),ib.push(_a))}),fa=a('#opciones_apoyo').find(':input[type=radio]:checked').val(),ha=a('#opciones_apoyo').find(':input[type=radio]:checked').attr('id'),ab={key_apoyo:ha,apoyo_cotidiano:fa},'Otro'==fa&&(ia=a('#input_otro_apoyo').attr('id'),ga=a('#input_otro_apoyo').val(),ab.key_otro_apoyo=ia,ab.otro_apoyo=ga),pa=a('#opciones_transporte').find(':input[type=radio]:checked').val(),ra=a('#opciones_transporte').find(':input[type=radio]:checked').attr('id'),bb={key_transoporte:ra,transporte:pa},'Otro'==pa&&(sa=a('#input_otro_transporte').attr('id'),qa=a('#input_otro_transporte').val(),bb.key_otro_transporte=sa,bb.otro_transporte=qa),ua=a('#check_org').is(':checked'),va=a('#check_org').attr('id'),cb={key_participa:va},ua?(wa=a('#input_org').val(),xa=a('#input_org').attr('id'),cb.participa=1,cb.key_asociacion=xa,cb.asociacion=wa):cb.participa=0,Ca=a('#check_actividades_otros').is(':checked'),Ba=a('#check_actividades_otros').attr('id'),db={key_realiza:Ba},Ca?(za=a('#input_actividades_otros').val(),Aa=a('#input_actividades_otros').attr('id'),db.realiza=1,db.key_actividad=Aa,db.actividad=za):db.realiza=0,Oa=a('#check_apoyo_institu').is(':checked'),Pa=a('#check_apoyo_institu').attr('id'),Wa={key_apoya:Pa},Oa?(Qa=a('#input_apoyo').val(),Ra=a('#input_apoyo').attr('id'),Wa.apoyo=1,Wa.key_apoyo_institu=Ra,Wa.apoyo_institu=Qa,Sa=a('#input_institucion').val(),Ta=a('#input_institucion').attr('id'),Wa.key_institucion=Ta,Wa.institucion=Sa):Wa.apoyo=0,ba={condicion_adquisicion:Va,diagnostico_discapacidad:Ga,tipo_discapacidad:Ja,certificado_invalidez:Ma,dificultad_permanente_funciones:eb,condicion_salud_organos:fb,necesidades_situaciones:gb,posibilidad_actividades:ib,factores_impacto:hb,apoyo_principal_cotidiano:ab,medio_transporte:bb,participa_asociacion:cb,actividades_otros:db,apoyo_institucion:Wa};var ca=r(ba);if('error'==ca.status)swal(ca.title,ca.msg,ca.status);else{var da=ba;da=JSON.stringify(da);var jb=a('#id_ases').val();n(da,jb)}})}}});