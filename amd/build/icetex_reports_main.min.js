define ("block_ases/icetex_reports_main",["jquery","block_ases/jszip","block_ases/pdfmake","block_ases/jquery.dataTables","block_ases/dataTables.autoFill","block_ases/dataTables.buttons","block_ases/buttons.html5","block_ases/buttons.flash","block_ases/buttons.print","block_ases/bootstrap","block_ases/sweetalert"],function(a,b){return{init:function init(){window.JSZip=b;a("#stu_res_button").on("click",function(){var b=a("#check_no_res").is(":checked");c(b)});a(document).on("click","#tableResStudents tbody tr td",function(){var b=a("#tableResStudents").DataTable(),c=b.cell(this).index().column;if(1<=c&&4>=c){a("#formulario").each(function(){this.reset});window.open("student_profile.php"+location.search+"&student_code="+b.cell(b.row(this).index(),1).data(),"_blank")}});jQuery.fn.dataTable.Api.register("sum()",function(){var c=0;return this.flatten().reduce(function(d,e){if("string"==typeof d){d=1*d.replace(/[\$.]/g,"")}if("string"==typeof e){e=1*e.replace(/[\$.]/g,"")}c=parseInt(d,10)+parseInt(e,10);return c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")},0)});a("#list-resolutions-panel").on("click",function(){e()});a("#report_button").on("click",function(){var b=a("#cohort_select select").val();if(""==b){swal("Informaci\xF3n","Seleccione una cohorte v\xE1lida","info")}else{f(b)}});a(document).on("change","#tableResStudents thead tr th select",function(){var b=a("#tableResStudents").DataTable(),c=a(this).parent().index()+1;b.columns(c-1).search(this.value).draw()});a(document).on("change","#tableResolutions thead tr th select",function(){var b=a("#tableResolutions").DataTable(),c=a(this).parent().index()+1;b.columns(c-1).search(this.value).draw()});function c(b){a("#div_res_students").html("<img class=\"icon-loading\" src=\"../icon/loading.gif\"/>");a.ajax({type:"POST",data:{loadR:"loadReport",value:b},url:"../managers/historic_icetex_reports/icetex_reports_processing.php",success:function success(b){a("#div_res_students").empty();a("#div_res_students").fadeIn(1e3).append("<table id=\"tableResStudents\" class=\"display\" cellspacing=\"0\" width=\"80%\"><thead><thead></table>");a("#tableResStudents").DataTable(b);a("#tableResStudents").css("cursor","pointer")},dataType:"json",cache:!1,error:function error(){swal("Error","Error al cargar el reporte","error")}})}function d(b){var c=b.column(3,{page:"current"}).data().sum(),d=b.column(3).data().sum(),e=b.column(5,{page:"current"}).data().sum();a(b.column(3).footer()).html("$"+c+"(Total $"+d+")");a(b.column(5).footer()).html("$"+e)}function e(){a("#div_resolutions").html("<img class=\"icon-loading\" src=\"../icon/loading.gif\"/>");a.ajax({type:"POST",data:{resR:"resReport"},url:"../managers/historic_icetex_reports/resolution_reports_processing.php",success:function success(b){a("#div_resolutions").empty();a("#div_resolutions").fadeIn(1e3).append("<table id=\"tableResolutions\" class=\"display\" cellspacing=\"0\" width=\"100%\"><thead><thead><tfoot id=\"table_res_foot\"><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tfoot></table>");var c=a("#tableResolutions").DataTable(b);a("#tableResolutions").on("page.dt",function(){d(c)});a("#tableResolutions").on("draw.dt",function(){d(c)});d(c);a("#div_resolutions").css("cursor","pointer")},dataType:"json",cache:!1,error:function error(){swal("Error","Error al cargar el reporte","error")}})}function f(b){a("#div_report_summary").html("<img class=\"icon-loading\" src=\"../icon/loading.gif\"/>");a.ajax({type:"POST",data:{summ:"summaryR",cohor:b},url:"../managers/historic_icetex_reports/summary_report_processing.php",success:function success(b){a("#div_report_summary").empty();a("#div_report_summary").fadeIn(1e3).append("<table id=\"tableSummary\" class=\"display\" cellspacing=\"0\" width=\"100%\"><thead><thead><tfoot id=\"table_summ_foot\"><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tfoot></table>");var c=a("#tableSummary").DataTable(b),d=c.column(9).data().sum(),e=c.column(3).data().sum(),f=c.column(5).data().sum(),g=c.column(7).data().sum();a(c.column(3).footer()).html("$"+e);a(c.column(5).footer()).html("$"+f);a(c.column(7).footer()).html("$"+g);a(c.column(9).footer()).html("$"+d);a("#div_report_summary").css("cursor","pointer")},dataType:"json",cache:!1,error:function error(){swal("Error","Error al cargar el reporte","error")}})}}}});
//# sourceMappingURL=icetex_reports_main.min.js.map
