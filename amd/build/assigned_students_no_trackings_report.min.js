define(["jquery","block_ases/jszip","block_ases/pdfmake","block_ases/jquery.dataTables","block_ases/dataTables.autoFill","block_ases/dataTables.buttons","block_ases/buttons.html5","block_ases/buttons.flash","block_ases/buttons.print","block_ases/bootstrap","block_ases/sweetalert","block_ases/loading_indicator"],function(t,e,a,s,o,n,i,l,r,c,d,u){return{init:function(){window.JSZip=e,function(){u.show();let e=t("#custom_metadata").data("instance-id");t.ajax({type:"POST",data:JSON.stringify({function:"load_report",params:[e]}),url:"../managers/no_trackings_report/student_no_trackings_report_api.php",success:function(e){u.hide(),t("#div_table").html(""),t("#div_table").fadeIn(1e3).append('<table id="tableEstSeguimientos" class="display" cellspacing="0" width="100%"><thead> </thead></table>'),t("#tableEstSeguimientos").DataTable(e.data_response),t("#dataTables_scrollBody").css("cursor","pointer")},dataType:"json",cache:!1,error:function(t){u.hide(),swal("Error","Error al cargar el reporte","error")}})}(),t(document).on("click","#tableEstSeguimientos tbody tr td",function(){var e=t("#tableEstSeguimientos").DataTable(),a=e.cell(this).index().column;a>=0&&a<=3&&(t("#formulario").each(function(){this.reset}),window.open("student_profile.php"+location.search+"&student_code="+e.cell(e.row(this).index(),0).data(),"_blank"))}),t(document).on("change","#tableEstSeguimientos thead tr th select",function(){var e=t("#tableEstSeguimientos").DataTable(),a=t(this).parent().index()+1;e.columns(a-1).search(this.value).draw()})}}});