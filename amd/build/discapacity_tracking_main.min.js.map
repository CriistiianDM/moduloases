{"version":3,"sources":["../src/discapacity_tracking_main.js"],"names":["define","$","jszip","dataTables","autoFill","buttons","html5","flash","print","bootstrap","sweetalert","jqueryui","select2","gmm","mustache","loading_indicator","init","append","document","on","show","ajax","url","data","dataType","async","success","template","hide","generate_modal","show_modal","error","console","log","parent","remove","inser_record_reasonable_adjusment","nuevaFila","find","swal"],"mappings":"AAQAA,OAAM,wCAAC,CACH,QADG,CAEH,kBAFG,CAGH,8BAHG,CAIH,gCAJG,CAKH,+BALG,CAMH,0BANG,CAOH,0BAPG,CAQH,0BARG,CASH,sBATG,CAUH,uBAVG,CAWH,qBAXG,CAYH,oBAZG,CAaH,mCAbG,CAcH,qBAdG,CAeH,8BAfG,CAAD,CAgBH,SAAUC,CAAV,CAAaC,CAAb,CAAoBC,CAApB,CAAgCC,CAAhC,CAA0CC,CAA1C,CAAmDC,CAAnD,CAA0DC,CAA1D,CAAiEC,CAAjE,CAAwEC,CAAxE,CAAmFC,CAAnF,CAA+FC,CAA/F,CAAyGC,CAAzG,CAAiHC,CAAjH,CAAsHC,CAAtH,CAAgIC,CAAhI,CAAmJ,CAClJ,MAAO,CACHC,IAAI,CAAE,eAAU,CAMRf,CAAC,CAAC,MAAD,CAAD,CAAUgB,MAAV,gHAGAhB,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,2BAAxB,CAAoD,UAAU,CAE1DJ,CAAiB,CAACK,IAAlB,GAEAnB,CAAC,CAACoB,IAAF,CAAO,CACHC,GAAG,CAAE,+DADF,CAEHC,IAAI,CAAE,IAFH,CAGHC,QAAQ,CAAE,MAHP,CAIHC,KAAK,GAJF,CAKHC,OAAO,CAAE,iBAAUC,CAAV,CAAoB,CACzBZ,CAAiB,CAACa,IAAlB,GAGAf,CAAG,CAACgB,cAAJ,CAAmB,+BAAnB,CAAoD,oBAApD,CAFmBF,CAEnB,CAAwF,IAAxF,CAA8F,UAAU,CAAEd,CAAG,CAACiB,UAAJ,CAAgB,gCAAhB,CAAoD,CAA9J,CAEH,CAXE,CAYHC,KAAK,CAAE,gBAAU,CACbhB,CAAiB,CAACa,IAAlB,GACAI,OAAO,CAACC,GAAR,CAAa,kFAAb,CACH,CAfE,CAAP,CAiBF,CArBF,EAwBAhC,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,2DAAxB,CAAqF,UAAY,CAC7FlB,CAAC,CAAC,IAAD,CAAD,CAAQiC,MAAR,GAAiBA,MAAjB,GAA0BC,MAA1B,EACH,CAFD,EAKAlC,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,qCAAxB,CAA+D,UAAY,CAEvEiB,CAAiC,EACpC,CAHD,EASAnC,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,wCAAxB,CAAkE,UAAY,CAE1E,GAAIkB,CAAAA,CAAS,CAAG,EAAhB,CACAA,CAAS,EAAI,yGAAb,CACAA,CAAS,EAAI,iGAAb,CACAA,CAAS,EAAI,sDAAb,CACAA,CAAS,EAAI,sEAAb,CACAA,CAAS,EAAI,sCAAb,CACAA,CAAS,EAAI,wCAAb,CACAA,CAAS,EAAI,yCAAb,CACAA,CAAS,EAAI,uCAAb,CACAA,CAAS,EAAI,yCAAb,CACAA,CAAS,EAAI,iBAAb,CACAA,CAAS,EAAI,qMAAb,CACApC,CAAC,CAAC,wCAAD,CAAD,CAA4CqC,IAA5C,CAAiD,OAAjD,EAA0DrB,MAA1D,CAAiEoB,CAAjE,CAEH,CAhBD,EAwBL,QAASD,CAAAA,CAAT,EAA6C,CAC5CG,IAAI,CACA,UADA,CAEA,kDAFA,CAGA,SAHA,CAKP,CAoDA,CAlIE,CAqIV,CAtJK,CAAN","sourcesContent":["/**\n * Controls discapacity form\n * @module amd/src/dphpforms_form_discapacity\n * @author Juan Pablo Castro\n * @copyright 2018 Juan Pablo Castro<juan.castro.vasquez@correounivalle.edu.co>\n * @license  http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine([\n    'jquery',\n    'block_ases/jszip',\n    'block_ases/jquery.dataTables',\n    'block_ases/dataTables.autoFill',\n    'block_ases/dataTables.buttons',\n    'block_ases/buttons.html5',\n    'block_ases/buttons.flash',\n    'block_ases/buttons.print',\n    'block_ases/bootstrap',\n    'block_ases/sweetalert',\n    'block_ases/jqueryui',\n    'block_ases/select2',\n    'block_ases/_general_modal_manager',\n    'block_ases/mustache',\n    'block_ases/loading_indicator'\n], function ($, jszip, dataTables, autoFill, buttons, html5, flash, print, bootstrap, sweetalert, jqueryui, select2,gmm, mustache, loading_indicator) {\n    return {\n        init: function(){\n\n                //Load css file to _discapacity_reasonable_adjusment_theme.mustache\n\n                let css_location = \"../style/_discapacity_reasonable_adjusment_theme.css\";\n    \n                $('head').append('<link rel=\"stylesheet\" href=\"' + css_location + '\" type=\"text/css\" />');\n\n                //Load _discapacity_reasonable_adjusment_theme.mustache into modal_manager\n                $(document).on('click', '#add_discapacity_tracking',function(){\n\n                    loading_indicator.show();\n\n                    $.ajax({\n                        url: \"../templates/_discapacity_reasonable_adjusment_theme.mustache\",\n                        data: null,\n                        dataType: \"text\",\n                        async: false,\n                        success: function( template ){\n                            loading_indicator.hide();\n                            let html_to_load = template;\n                            //Crear JSON con general_modal_manager\n                            gmm.generate_modal(\"modal_to_reasonable_adjusment\", \"Ajustes razonables\", html_to_load, null, function(){ gmm.show_modal( \".modal_to_reasonable_adjusment\" ) });\n              \n                        },\n                        error: function(){\n                            loading_indicator.hide();\n                            console.log( \"../templates/_discapacity_reasonable_adjusment_theme.mustache cannot be reached.\" );\n                        }\n                    });\n                 });\n\n                //Delete table row\n                $(document).on('click', '#table_actions_to_discapacity_tracking tbody tr td button', function () {\n                    $(this).parent().parent().remove();\n                });\n\n                //Insert new record of reasonable adjusment\n                $(document).on('click', '#insert_record_reasonable_adjusment', function () {\n                    //Function to insert record\n                    inser_record_reasonable_adjusment();\n                });\n                \n    \n                /**\n                 * Add new row\n                */\n                $(document).on('click', '#bt_add_action_to_discapacity_tracking', function () {\n    \n                    let nuevaFila = \"\";\n                    nuevaFila += '<tr><td> <input name=\"achievement_indicator\" class=\"input_fields_general_tab\"  type=\"text\"/></td>';\n                    nuevaFila += '<td> <input name=\"action_performed\" class=\"input_fields_general_tab\"  type=\"text\" /></td>';\n                    nuevaFila += '<td>  <select name=\"cars\" class=\"custom-select\">';\n                    nuevaFila += '<option selected disabled>Seleccione un estado de acción</option>';\n                    nuevaFila += '<option value=\"1\">Urgente</option>';\n                    nuevaFila += '<option value=\"2\">Realizado</option>';\n                    nuevaFila += '<option value=\"3\">En proceso</option>';\n                    nuevaFila += '<option value=\"4\">A futuro</option>';\n                    nuevaFila += '<option value=\"5\">Descartado</option>';\n                    nuevaFila += '</select> </td>';\n                    nuevaFila += '<td style=\"width: 10px !important;\"> <button type =\"button\" id=\"bt_delete_action\" title=\"Eliminar acción\" name=\"btn_delete_person\" style=\"visibility:visible;\"> </button></td> </tr>';\n                    $(\"#table_actions_to_discapacity_tracking\").find(\"tbody\").append(nuevaFila);\n    \n                });\n\n        \n             /**\n            * Function: inser_record_reasonable_adjusment()\n            * Params: undefined\n            * Result: String\n            */\n           function inser_record_reasonable_adjusment() {\n            swal(\n                \"Éxito\",\n                \"Se ha registrado ajuste razonable correctamente.\",\n                \"success\"\n            );\n        }\n\n            /**\n            * Function: has_numbers(str)\n            * Params: str (String)\n            * Result: true or false\n            */\n            function has_numbers(str) {\n                var numbers = \"0123456789\";\n                for (i = 0; i < str.length; i++) {\n                    if (numbers.indexOf(str.charAt(i), 0) != -1) {\n                        return 1;\n                    }\n                }\n                return 0;\n            }\n\n\n            /**\n            * Function: getIdinstancia()\n            * Params: undefined\n            * Result: String\n            */\n            function getIdinstancia() {\n                var urlParameters = location.search.split('&');\n\n                for (x in urlParameters) {\n                    if (urlParameters[x].indexOf('instanceid') >= 0) {\n                        var intanceparameter = urlParameters[x].split('=');\n                        return intanceparameter[1];\n                    }\n                }\n                return 0;\n            }\n\n            /**\n            * Function: getIdcourse(str)\n            * Params: undefined\n            * Result: String\n            */\n            function getIdcourse() {\n                var urlParameters = location.search.split('&');\n\n                for (x in urlParameters) {\n                    if (urlParameters[x].indexOf('courseid') >= 0) {\n                        var intanceparameter = urlParameters[x].split('=');\n                        return intanceparameter[1];\n                    }\n                }\n                return 0;\n            }\n\n        }\n\n    };\n});"],"file":"discapacity_tracking_main.min.js"}