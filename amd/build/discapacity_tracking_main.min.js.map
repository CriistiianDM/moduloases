{"version":3,"sources":["../src/discapacity_tracking_main.js"],"names":["define","$","jszip","dataTables","autoFill","buttons","html5","flash","print","bootstrap","sweetalert","jqueryui","select2","gmm","mustache","loading_indicator","init","append","document","on","show","ajax","url","data","dataType","async","success","template","hide","generate_modal","show_modal","error","console","log","parent","remove","inser_record_reasonable_adjusment","nuevaFila","find","swal"],"mappings":"AAQAA,OAAM,wCAAC,CACH,QADG,CAEH,kBAFG,CAGH,8BAHG,CAIH,gCAJG,CAKH,+BALG,CAMH,0BANG,CAOH,0BAPG,CAQH,0BARG,CASH,sBATG,CAUH,uBAVG,CAWH,qBAXG,CAYH,oBAZG,CAaH,mCAbG,CAcH,qBAdG,CAeH,8BAfG,CAAD,CAgBH,SAAUC,CAAV,CAAaC,CAAb,CAAoBC,CAApB,CAAgCC,CAAhC,CAA0CC,CAA1C,CAAmDC,CAAnD,CAA0DC,CAA1D,CAAiEC,CAAjE,CAAwEC,CAAxE,CAAmFC,CAAnF,CAA+FC,CAA/F,CAAyGC,CAAzG,CAAiHC,CAAjH,CAAsHC,CAAtH,CAAgIC,CAAhI,CAAmJ,CAClJ,MAAO,CACHC,IAAI,CAAE,eAAU,CAMRf,CAAC,CAAC,MAAD,CAAD,CAAUgB,MAAV,gHAGAhB,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,2BAAxB,CAAoD,UAAU,CAE1DJ,CAAiB,CAACK,IAAlB,GAEAnB,CAAC,CAACoB,IAAF,CAAO,CACHC,GAAG,CAAE,+DADF,CAEHC,IAAI,CAAE,IAFH,CAGHC,QAAQ,CAAE,MAHP,CAIHC,KAAK,GAJF,CAKHC,OAAO,CAAE,iBAAUC,CAAV,CAAoB,CACzBZ,CAAiB,CAACa,IAAlB,GAGAf,CAAG,CAACgB,cAAJ,CAAmB,+BAAnB,CAAoD,oBAApD,CAFmBF,CAEnB,CAAwF,IAAxF,CAA8F,UAAU,CAAEd,CAAG,CAACiB,UAAJ,CAAgB,gCAAhB,CAAoD,CAA9J,CAEH,CAXE,CAYHC,KAAK,CAAE,gBAAU,CACbhB,CAAiB,CAACa,IAAlB,GACAI,OAAO,CAACC,GAAR,CAAa,kFAAb,CACH,CAfE,CAAP,CAiBF,CArBF,EAwBAhC,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,2DAAxB,CAAqF,UAAY,CAC7FlB,CAAC,CAAC,IAAD,CAAD,CAAQiC,MAAR,GAAiBA,MAAjB,GAA0BC,MAA1B,EACH,CAFD,EAKAlC,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,qCAAxB,CAA+D,UAAY,CAEvEiB,CAAiC,EACpC,CAHD,EASAnC,CAAC,CAACiB,QAAD,CAAD,CAAYC,EAAZ,CAAe,OAAf,CAAwB,wCAAxB,CAAkE,UAAY,CAE1E,GAAIkB,CAAAA,CAAS,CAAG,EAAhB,CACAA,CAAS,EAAI,yGAAb,CACAA,CAAS,EAAI,iGAAb,CACAA,CAAS,EAAI,sDAAb,CACAA,CAAS,EAAI,sEAAb,CACAA,CAAS,EAAI,sCAAb,CACAA,CAAS,EAAI,wCAAb,CACAA,CAAS,EAAI,yCAAb,CACAA,CAAS,EAAI,uCAAb,CACAA,CAAS,EAAI,yCAAb,CACAA,CAAS,EAAI,iBAAb,CACAA,CAAS,EAAI,qMAAb,CACApC,CAAC,CAAC,wCAAD,CAAD,CAA4CqC,IAA5C,CAAiD,OAAjD,EAA0DrB,MAA1D,CAAiEoB,CAAjE,CAEH,CAhBD,EAwBL,QAASD,CAAAA,CAAT,EAA6C,CAC5CG,IAAI,CACA,UADA,CAEA,kDAFA,CAGA,SAHA,CAKP,CAoDA,CAlIE,CAqIV,CAtJK,CAAN","sourcesContent":["/**\r\n * Controls discapacity form\r\n * @module amd/src/dphpforms_form_discapacity\r\n * @author Juan Pablo Castro\r\n * @copyright 2018 Juan Pablo Castro<juan.castro.vasquez@correounivalle.edu.co>\r\n * @license  http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\ndefine([\r\n    'jquery',\r\n    'block_ases/jszip',\r\n    'block_ases/jquery.dataTables',\r\n    'block_ases/dataTables.autoFill',\r\n    'block_ases/dataTables.buttons',\r\n    'block_ases/buttons.html5',\r\n    'block_ases/buttons.flash',\r\n    'block_ases/buttons.print',\r\n    'block_ases/bootstrap',\r\n    'block_ases/sweetalert',\r\n    'block_ases/jqueryui',\r\n    'block_ases/select2',\r\n    'block_ases/_general_modal_manager',\r\n    'block_ases/mustache',\r\n    'block_ases/loading_indicator'\r\n], function ($, jszip, dataTables, autoFill, buttons, html5, flash, print, bootstrap, sweetalert, jqueryui, select2,gmm, mustache, loading_indicator) {\r\n    return {\r\n        init: function(){\r\n\r\n                //Load css file to _discapacity_reasonable_adjusment_theme.mustache\r\n\r\n                let css_location = \"../style/_discapacity_reasonable_adjusment_theme.css\";\r\n    \r\n                $('head').append('<link rel=\"stylesheet\" href=\"' + css_location + '\" type=\"text/css\" />');\r\n\r\n                //Load _discapacity_reasonable_adjusment_theme.mustache into modal_manager\r\n                $(document).on('click', '#add_discapacity_tracking',function(){\r\n\r\n                    loading_indicator.show();\r\n\r\n                    $.ajax({\r\n                        url: \"../templates/_discapacity_reasonable_adjusment_theme.mustache\",\r\n                        data: null,\r\n                        dataType: \"text\",\r\n                        async: false,\r\n                        success: function( template ){\r\n                            loading_indicator.hide();\r\n                            let html_to_load = template;\r\n                            //Crear JSON con general_modal_manager\r\n                            gmm.generate_modal(\"modal_to_reasonable_adjusment\", \"Ajustes razonables\", html_to_load, null, function(){ gmm.show_modal( \".modal_to_reasonable_adjusment\" ) });\r\n              \r\n                        },\r\n                        error: function(){\r\n                            loading_indicator.hide();\r\n                            console.log( \"../templates/_discapacity_reasonable_adjusment_theme.mustache cannot be reached.\" );\r\n                        }\r\n                    });\r\n                 });\r\n\r\n                //Delete table row\r\n                $(document).on('click', '#table_actions_to_discapacity_tracking tbody tr td button', function () {\r\n                    $(this).parent().parent().remove();\r\n                });\r\n\r\n                //Insert new record of reasonable adjusment\r\n                $(document).on('click', '#insert_record_reasonable_adjusment', function () {\r\n                    //Function to insert record\r\n                    inser_record_reasonable_adjusment();\r\n                });\r\n                \r\n    \r\n                /**\r\n                 * Add new row\r\n                */\r\n                $(document).on('click', '#bt_add_action_to_discapacity_tracking', function () {\r\n    \r\n                    let nuevaFila = \"\";\r\n                    nuevaFila += '<tr><td> <input name=\"achievement_indicator\" class=\"input_fields_general_tab\"  type=\"text\"/></td>';\r\n                    nuevaFila += '<td> <input name=\"action_performed\" class=\"input_fields_general_tab\"  type=\"text\" /></td>';\r\n                    nuevaFila += '<td>  <select name=\"cars\" class=\"custom-select\">';\r\n                    nuevaFila += '<option selected disabled>Seleccione un estado de acción</option>';\r\n                    nuevaFila += '<option value=\"1\">Urgente</option>';\r\n                    nuevaFila += '<option value=\"2\">Realizado</option>';\r\n                    nuevaFila += '<option value=\"3\">En proceso</option>';\r\n                    nuevaFila += '<option value=\"4\">A futuro</option>';\r\n                    nuevaFila += '<option value=\"5\">Descartado</option>';\r\n                    nuevaFila += '</select> </td>';\r\n                    nuevaFila += '<td style=\"width: 10px !important;\"> <button type =\"button\" id=\"bt_delete_action\" title=\"Eliminar acción\" name=\"btn_delete_person\" style=\"visibility:visible;\"> </button></td> </tr>';\r\n                    $(\"#table_actions_to_discapacity_tracking\").find(\"tbody\").append(nuevaFila);\r\n    \r\n                });\r\n\r\n        \r\n             /**\r\n            * Function: inser_record_reasonable_adjusment()\r\n            * Params: undefined\r\n            * Result: String\r\n            */\r\n           function inser_record_reasonable_adjusment() {\r\n            swal(\r\n                \"Éxito\",\r\n                \"Se ha registrado ajuste razonable correctamente.\",\r\n                \"success\"\r\n            );\r\n        }\r\n\r\n            /**\r\n            * Function: has_numbers(str)\r\n            * Params: str (String)\r\n            * Result: true or false\r\n            */\r\n            function has_numbers(str) {\r\n                var numbers = \"0123456789\";\r\n                for (i = 0; i < str.length; i++) {\r\n                    if (numbers.indexOf(str.charAt(i), 0) != -1) {\r\n                        return 1;\r\n                    }\r\n                }\r\n                return 0;\r\n            }\r\n\r\n\r\n            /**\r\n            * Function: getIdinstancia()\r\n            * Params: undefined\r\n            * Result: String\r\n            */\r\n            function getIdinstancia() {\r\n                var urlParameters = location.search.split('&');\r\n\r\n                for (x in urlParameters) {\r\n                    if (urlParameters[x].indexOf('instanceid') >= 0) {\r\n                        var intanceparameter = urlParameters[x].split('=');\r\n                        return intanceparameter[1];\r\n                    }\r\n                }\r\n                return 0;\r\n            }\r\n\r\n            /**\r\n            * Function: getIdcourse(str)\r\n            * Params: undefined\r\n            * Result: String\r\n            */\r\n            function getIdcourse() {\r\n                var urlParameters = location.search.split('&');\r\n\r\n                for (x in urlParameters) {\r\n                    if (urlParameters[x].indexOf('courseid') >= 0) {\r\n                        var intanceparameter = urlParameters[x].split('=');\r\n                        return intanceparameter[1];\r\n                    }\r\n                }\r\n                return 0;\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n});"],"file":"discapacity_tracking_main.min.js"}