{"version":3,"sources":["../src/grader-graphs.js"],"names":["define","Vuex","g_store","component","template","computed","mapState","mapGetters","itemNames","names","itemlength","itemSet","length","i","push","itemname","totalStudents","type","data","datasets","studentsCount","studentsAsesCount","backgroundColor","labels","options","passingStudents","finalPassingGradeSet","finalGradesSet","responsive","title","display","text","gradesReport","passingGradesCount","failingGradesCount","nullGradesCount","gradesInfo","itemOrderedNames","label","passingGradesSet","failingGradesSet","nullGradesSet","barValueSpacing","scales","yAxes","ticks","min","gradesHistogramGraph","lineGraphLabel","getGradesByRange","borderColor","fill","mounted","$store","dispatch","actions","FETCH_STATE","ctxpass","document","getElementById","getContext","piePassingStudents","Chart","ctxgrade","pieGraded","ctxbargrades","barGrades","ctxhistogram","lineFinals","name"],"mappings":"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","sourcesContent":["define([\r\n    'block_ases/vendor-vuex',\r\n    'block_ases/grader-store'\r\n], function (Vuex, g_store) {\r\n    var template = `\r\n    <div class=\"gridGraphs\">\r\n        <canvas id=\"pie_passing_students\" style=\"float:left\" width=\"600\" height=\"400\"></canvas>\r\n        <canvas id=\"pie_grades\" style=\"float:right\" width=\"600\" height=\"400\"></canvas>\r\n        <canvas id=\"bar_grades\" width=\"1400\" height=\"350\"></canvas>\r\n        <canvas id=\"grades_histogram\" width=\"1400\" height=\"350\"></canvas>\r\n    </div>\r\n    `;\r\n\r\n\r\n    var name = 'Graph';\r\n    var component  = {\r\n        template: template,\r\n        computed: {\r\n            ...Vuex.mapState([\r\n            ]),\r\n            ...Vuex.mapGetters([\r\n                'studentsCount',\r\n                'studentsAsesCount',\r\n                'passingGradesCount',\r\n                'failingGradesCount',\r\n                'nullGradesCount',\r\n                'finalGradesSet',\r\n                'finalPassingGradeSet',\r\n                'itemSet',\r\n                'itemOrderedNames',\r\n                'passingGradesSet',\r\n                'failingGradesSet',\r\n                'nullGradesSet',\r\n                'lineGraphLabel',\r\n                'getGradesByRange'\r\n            ]),\r\n            itemNames: function (){\r\n                names = [];\r\n                itemlength = this.itemSet.length;\r\n\r\n                for(i = 0; i < itemlength; i++){\r\n                    names.push(this.itemSet[i].itemname);\r\n                }\r\n\r\n                names.push(itemlength);\r\n                return names;\r\n            },\r\n            totalStudents: function (){\r\n                return{\r\n                    type: 'pie',\r\n                    data: {\r\n                        datasets: [{\r\n                            data: [this.studentsCount - this.studentsAsesCount, this.studentsAsesCount],\r\n                            backgroundColor: ['red', '#bdf2bd']\r\n                        }],\r\n\r\n                        // These labels appear in the legend and in the tooltips when hovering different arcs\r\n                        labels: [\r\n                            'Estudiantes no afiliados a ASES',\r\n                            'Estudiantes afiliados a ASES'\r\n                        ]\r\n                    },\r\n                    options: {\r\n                    }\r\n                }\r\n            },\r\n            passingStudents: function (){\r\n                return{\r\n                    type: 'pie',\r\n                    data: {\r\n                        datasets: [{\r\n                            data: [this.finalPassingGradeSet.length, this.finalGradesSet.length - this.finalPassingGradeSet.length],\r\n                            backgroundColor: ['green', 'red']\r\n                        }],\r\n\r\n                        // These labels appear in the legend and in the tooltips when hovering different arcs\r\n                        labels: [\r\n                            'Estudiantes que pasan la materia',\r\n                            'Estudiantes que no pasan la materia'\r\n                        ]\r\n                    },\r\n                    options: {\r\n                        responsive: false,\r\n                        title: {\r\n                            display: true,\r\n                            text: \"Porcentaje de aprobacion de estudiantes\"\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            gradesReport: function (){\r\n                return{\r\n                    type: 'pie',\r\n                    data: {\r\n                        datasets: [{\r\n                            data: [this.passingGradesCount, this.failingGradesCount, this.nullGradesCount],\r\n                            backgroundColor: ['green', 'red', 'gray']\r\n                        }],\r\n\r\n                        // These labels appear in the legend and in the tooltips when hovering different arcs\r\n                        labels: [\r\n                            'Notas ganadas',\r\n                            'Notas perdidas',\r\n                            'Notas no calificadas'\r\n                        ]\r\n                    },\r\n                    options: {\r\n                        responsive: false,\r\n                        title: {\r\n                            display: true,\r\n                            text: \"Estado general de notas\"\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            gradesInfo: function (){\r\n                return{\r\n                    type: 'bar',\r\n                    data: {labels: this.itemOrderedNames, //array with itemnames\r\n                        datasets: [\r\n                            //data: array with the amount of that type of grade\r\n                            {\r\n                                label: \"Notas ganadas\",\r\n                                backgroundColor: \"green\",\r\n                                data: this.passingGradesSet\r\n                            },\r\n                            {\r\n                                label: \"Notas perdidas\",\r\n                                backgroundColor: \"red\",\r\n                                data: this.failingGradesSet\r\n                            },\r\n                            {\r\n                                label: \"Notas no calificadas\",\r\n                                backgroundColor: \"gray\",\r\n                                data: this.nullGradesSet\r\n                            }\r\n                        ]},\r\n                        options: {\r\n                            title: {\r\n                                display: true,\r\n                                text: \"Porcentaje de aprobacion por calificacion\"\r\n                            },\r\n                            barValueSpacing: 20,\r\n                            scales: {\r\n                                yAxes: [{\r\n                                    ticks: {\r\n                                        min: 0,\r\n                                    }\r\n                                }]\r\n                            }\r\n                        }\r\n                }\r\n            },\r\n            gradesHistogramGraph: function () {\r\n                return{\r\n                    type: 'line',\r\n                    data: {\r\n                        labels: this.lineGraphLabel,\r\n                        datasets: [{\r\n                            data: this.getGradesByRange,\r\n                            label: \"Notas finales\",\r\n                            borderColor: \"#3e95cd\",\r\n                            fill: true\r\n                        }\r\n                        ]\r\n                    },\r\n                    options: {\r\n                        title: {\r\n                            display: true,\r\n                            text: 'Histograma de notas finales',\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n},\r\n        mounted () {\r\n            this.$store.dispatch(g_store.actions.FETCH_STATE);\r\n\r\n            /*var ctxcount = document.getElementById('pie_student_count').getContext('2d');\r\n            var pieTotalstudents = new Chart(ctxcount, this.totalStudents);*/\r\n\r\n            var ctxpass = document.getElementById('pie_passing_students').getContext('2d');\r\n            var piePassingStudents = new Chart(ctxpass, this.passingStudents);\r\n\r\n            var ctxgrade = document.getElementById('pie_grades').getContext('2d');\r\n            var pieGraded = new Chart(ctxgrade, this.gradesReport);\r\n\r\n            var ctxbargrades = document.getElementById(\"bar_grades\").getContext(\"2d\");\r\n            var barGrades= new Chart(ctxbargrades, this.gradesInfo);\r\n\r\n            var ctxhistogram = document.getElementById(\"grades_histogram\").getContext(\"2d\");\r\n            var lineFinals = new Chart(ctxhistogram, this.gradesHistogramGraph);\r\n        }\r\n    };\r\n    return {\r\n        component: component,\r\n        name: name\r\n    };\r\n});"],"file":"grader-graphs.min.js"}