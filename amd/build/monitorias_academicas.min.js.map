{"version":3,"sources":["../src/monitorias_academicas.js"],"names":["define","$","dataTables","buttons","html5","flash","print","gmm","select2","jqueryui","loading_indicator","sweetalert","extras","init","document","on","iniciar_agregar_monitoria","datepicker","setDefaults","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","firstDay","isRTL","showMonthAfterYear","yearSuffix","cargar_monitorias_default","data","html","fadeIn","append","DataTable","continuar_setup_inicial","click","eliminar_monitoria","ajax","url","dataType","async","success","template","generate_modal","show_modal","mostrar_agregar_monitoria","error","console","log","type","JSON","stringify","msg","materias","map","data_response","a","id","nombre","renderizar_opcion","agregar_materia_a_select","markup","e","real_event","params","args","originalEvent","target","hasClass","opcion","originalSelect2Event","preventDefault","stopPropagation","parseInt","status_code","find","remove","trigger","parent","hide","swal","error_response","responseText","event","prevselection","val","text","value","nuevo","Option","m","hasOwnProperty","newTag","$opcion","tag","trim","term","length","getUrlParams","location","search","instanceid","monitores","apellido","first","submit","show","dia","hora","materia","monitor","programar","prop","hasta","title","icon","reload","minDate","showWeek","dateFormat","change","attr","toggle","monitoria_info","toArray","td","innerHTML","showCancelButton","confirmButtonText","isConfirmed","page","query_string","query","substring","vars","split","i","pair"],"mappings":"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","sourcesContent":["// Standard license block omitted.\n/*\n * @package    block_ases\n * @copyright  ASES\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n/**\n * @module block_ases/asistencia_monitorias\n */\ndefine(['jquery',\n    'block_ases/jquery.dataTables',\n    'block_ases/dataTables.buttons',\n    'block_ases/buttons.html5',\n    'block_ases/buttons.flash',\n    'block_ases/buttons.print',\n    'block_ases/_general_modal_manager',\n    'block_ases/select2',\n    'block_ases/jqueryui',\n    'block_ases/loading_indicator',\n    'block_ases/sweetalert',\n    'extras',\n],\n    function ($, dataTables, buttons, html5, flash, print,  gmm, select2, jqueryui, loading_indicator, sweetalert, extras) {\n        return {\n            init: function () {\n                // adjuntar listeners\n                $(document).on('click', '#anadir_monitoria', iniciar_agregar_monitoria);\n                // localizacion\n                 //// datepicker\n                $.datepicker.setDefaults({\n                    closeText: \"Cerrar\",\n                    prevText: \"&#x3C;Ant\",\n                    nextText: \"Sig&#x3E;\",\n                    currentText: \"Hoy\",\n                    monthNames: [ \"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\n                    \"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\" ],\n                    monthNamesShort: [ \"ene\",\"feb\",\"mar\",\"abr\",\"may\",\"jun\",\n                    \"jul\",\"ago\",\"sep\",\"oct\",\"nov\",\"dic\" ],\n                    dayNames: [ \"domingo\",\"lunes\",\"martes\",\"miércoles\",\"jueves\",\"viernes\",\"sábado\" ],\n                    dayNamesShort: [ \"dom\",\"lun\",\"mar\",\"mié\",\"jue\",\"vie\",\"sáb\" ],\n                    dayNamesMin: [ \"D\",\"L\",\"M\",\"X\",\"J\",\"V\",\"S\" ],\n                    weekHeader: \"Sm\",\n                    firstDay: 1,\n                    isRTL: false,\n                    showMonthAfterYear: false,\n                    yearSuffix: \"\" });\n\n                },\n        cargar_monitorias_default: function(data){\n            $(\"#div_table\").html('');\n            $(\"#div_table\").fadeIn(500).append('<table id=\"tableResult\" class=\"stripe row-border order-column\" cellspacing=\"0\" width=\"100%\"><thead> </thead></table>');\n            $(\"#tableResult\").DataTable(data);\n        },\n        continuar_setup_inicial : function(){\n            $(\".dt-button.buttons-print.eliminar\").click(eliminar_monitoria);\n        }\n        \n    }\n\n    function iniciar_agregar_monitoria(){\n        // cargar mustache\n            $.ajax({\n                url: \"../templates/monitorias_academicas_anadir.mustache\",\n                data: null,\n                dataType: \"text\",\n                async: true,\n                success: function( template ){\n                    let html_to_load = template;\n                    //Crear JSON con general_modal_manager\n                    gmm.generate_modal(\"modal_fomulario_anadir\", \"Añadir monitoria\", html_to_load, null, function(){gmm.show_modal(\".modal_fomulario_anadir\")});\n                    mostrar_agregar_monitoria();\n                },\n                error: function(){\n                    console.log( \"../templates/monitorias_academicas_anadir.mustache cannot be reached.\" );\n                }\n            });\n    function mostrar_agregar_monitoria(){\n        listar_materias_select();\n        listar_monitores_select();\n        attach_listeners_botones();\n    \n        $(\"#fecha_hasta\").datepicker({\n            minDate: 0,\n            showWeek: true,\n            dateFormat: \"dd/M/y\"\n        });\n    \n        $(\"#programar_monitorias_chckbx\").change(() => {\n            $(\"#fecha_hasta\").attr(\"required\", $(\"#programar_monitorias_chckbx\").prop(\"checked\"));\n            $(\"#seleccionar-fecha-anadir\").toggle(300);\n        });\n    \n        function listar_materias_select(){\n            $.ajax({\n                type: \"POST\",\n                data: JSON.stringify({\n                    \"function\": 'cargar_materias',\n                    \"params\": [],\n                }),\n                url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\n                dataType: \"json\",\n                success: function(msg) {\n                    //$(\"#div_table\").html(msg.responseText);\n                    var materias = $.map(msg.data_response, function(a) {return {\"id\" : a.id, \"text\" : a.nombre}});\n                    console.log(materias);\n                    $('#materia').select2({\n                        \"data\" : materias,\n                        \"placeholder\": \"Seleccionar materia\",\n                        \"templateResult\" : renderizar_opcion,\n                        \"createTag\" : agregar_materia_a_select,\n                        \"tags\" : true,\n                        \"escapeMarkup\" : function (markup) {\n                            return markup;\n                        },\n                    }).on('select2:closing', function (e) {\n                        var real_event = e.params.args.originalEvent;\n                        if(real_event != null && $(real_event.target).hasClass('boton-eliminar-materia')){\n                                var opcion = e.params.args.originalSelect2Event.data;\n                                // eliminar materia\n                                e.preventDefault();\n                                e.stopPropagation();\n                                $.ajax({\n                                    type: \"POST\",\n                                    data: JSON.stringify({\n                                        \"function\": 'eliminar_materia',\n                                        \"params\": [parseInt(opcion.id)],\n                                    }),\n                                    url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\n                                    dataType: \"json\",\n                                    success: function(msg) {\n                                        if(msg.status_code == 0) {\n                                            $(\"#materia\").find(`option[value=${opcion.id}]`)[0].remove();\n                                            $('#materia').trigger('change');\n                                            $(real_event.target).parent(\".opcion-select\").parent(\".select2-results__option\").hide();\n                                        } else {\n                                            swal(\n                                                    'Error!',\n                                                    'Oops!: ' + msg.error_response,\n                                                    'error'\n                                                );\n                                        }\n                                    },\n                                    error: function(msg) {\n                                        console.log(\"Error eliminar bd de materia en backend\");\n                                        $(\"#debug\").html(msg.responseText);\n                                    }\n                                });\n                        } \n                      }).on('select2:opening', function(event){\n                        prevselection = $(event.target).find(':selected');\n                        $('#materia').val(null);\n                     }).on('select2:select', function(e){\n                         var opcion = e.params.data;\n                        if(opcion.id==-1){\n                            // agregar materia\n                            $.ajax({\n                                type: \"POST\",\n                                data: JSON.stringify({\n                                    \"function\": 'anadir_materia',\n                                    \"params\": [opcion.text],\n                                }),\n                                url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\n                                dataType: \"json\",\n                                success: function(msg) {\n                                    if(msg.status_code == 0) {\n                                        $('#materia').find(\"option[value=-1]\")[0].value = msg.id;\n                                        var nuevo = new Option(opcion.text, msg.id, false, true);\n                                        $('#materia').append(nuevo).trigger('change'); \n                                    } else {\n                                        swal(\n                                                'Error!',\n                                                'Oops!: ' + msg.data_response,\n                                                'error'\n                                            );\n                                    }\n                                },\n                                error: function(msg) {\n                                    console.log(\"Error insercion bd de materia en backend\");\n                                    $(\"#debug\").html(msg.responseText);\n                                }\n                            });\n                        }\n                     });\n    \n                },\n                error: function(msg) {\n                    console.log(\"Error consulta BD materias\");\n                    console.log(msg);\n                }\n            });\n            function renderizar_opcion(m){\n                if(m.hasOwnProperty('newTag') && m.newTag){\n                    return $(`<span id=\"materia_nueva\" class=\"opcion-select\">${m.text}<span style=\"opacity:0.5;margin-left:1ch\">(agregar)</span><div class=\"icono-agregar-materia\"><span>`)\n                }\n                var $opcion = $(`<span id=\"materia_${m.id}\" class=\"opcion-select\">${m.text}<div class=\"boton-eliminar-materia\"><span>`);\n                return $opcion;\n            }\n            function agregar_materia_a_select(tag){\n                if ($.trim(tag.term) === '' || $.trim(tag.term).length < 3) {\n                    return null;\n                  }\n\n                  return {\n                    id: -1,\n                    text: tag.term,\n                    newTag: true\n                  }\n            }\n        }\n    \n        function listar_monitores_select(){\n            $.ajax({\n                type: \"POST\",\n                data: JSON.stringify({\n                    \"function\": 'cargar_monitores',\n                    \"params\": [extras.getUrlParams(document.location.search).instanceid],\n                }),\n                url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\n                dataType: \"json\",\n                success: function(msg) {\n                    //$(\"#div_table\").html(msg.responseText);\n                    var monitores = $.map(msg.data_response, function(a) {return {\"id\" : a.id, \"text\" : a.nombre+' '+a.apellido}});\n                    $('#monitor').select2({\n                        \"data\" : monitores,\n                        \"placeholder\" : \"Seleccionar monitor\"\n                    });\n                    \n                },\n                error: function(msg) {\n                    console.log(\"Error consulta BD monitores\");\n                    $(\"#debug\").html(msg.responseText);\n                }\n            });\n        }\n    \n   \n        function attach_listeners_botones(){\n         \n            // cancelar\n            $(\"#cancel_monitoria_btn\").click(() => {$(\".general_modal_close\").first().click()});\n            // guardar monitoria\n            $(\"#form_anadir\").submit(function(e){\n                e.preventDefault();\n                loading_indicator.show();\n                var dia = $(\"select[name='dia']\").val();\n                var hora = $(\"#hora_inicio1 option:selected\").text()+\" \"+$(\"#hora_inicio2 option:selected\").text()+ \" - \"+ $(\"#hora_final1 option:selected\").text()+\" \"+$(\"#hora_final2 option:selected\").text();\n                var materia = $('#materia').find(':selected').first().val();\n                var monitor = $('#monitor').find(':selected').first().val();\n                var programar = $(\"#programar_monitorias_chckbx\").prop(\"checked\");\n                if(programar){\n                    var hasta = $(\"#fecha_hasta\").val();\n                }else{\n                    var hasta = -1;\n                }\n                $.ajax({\n                    type: \"POST\",\n                    data: JSON.stringify({\n                        \"function\": 'anadir_monitoria',\n                        \"params\": [dia, hora, materia, monitor, programar, hasta],\n                    }),\n                    url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\n                    dataType: \"json\",\n                    success: function(msg) {\n                        loading_indicator.hide();\n                        $(\".general_modal_close\").first().click();\n                        if(msg.status_code == 0) {\n                            swal(\n                                {title:\"Monitoria registrada\",\n                                text: \"Se ha agregado correctamente la monitoria\",\n                                icon: \"success\"},\n                                function (isConfirmed) {\n                                    location.reload()\n                                });\n                                \n                        } else {\n                            swal(\n                                    'Error!',\n                                    'Oops!: ' + msg.data_response,\n                                    'error'\n                                );\n                            console.log(msg);\n                        }\n                    },\n                    error: function(msg) {\n                        console.log(\"Error insercion bd de monitoria en backend\");\n                        $(\"#debug\").html(msg.responseText);\n                    }\n                });\n            });\n\n       \n        }\n    }\n    \n}\n\n\n    function eliminar_monitoria(e){\n        let monitoria_info = $(e.target).parent().parent().find(\"td\").toArray().map(td => td.innerHTML)\n        swal({\n            title: 'Eliminar monitoría',\n            text: \"¿Deseas eliminar la monitoría de  \"+monitoria_info[0]+\" programada los \"+monitoria_info[1]+\" de \"+ monitoria_info[2]+\"?\",\n            type: 'warning',\n            showCancelButton: true,\n            confirmButtonText: 'Eliminar'\n        }, function (isConfirmed) {\n            if (isConfirmed) {\n                console.log(e.target.id)\n                $.ajax({\n                    type: \"POST\",\n                    data: JSON.stringify({\n                        \"function\": 'eliminar_monitoria',\n                        \"params\": e.target.id,\n                    }),\n                    url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\n                    dataType: \"json\",\n                    success: function(msg) {\n                        location.reload();\n                    },\n                    error : function(msg) {\n                        swal('Error!', msg, 'error')\n                        console.log(msg)\n                    },\n                });\n            }\n        });\n    }\n\n\n});\n\n\ndefine('extras', function(){\n    return {\n        getUrlParams : function (page) {\n            var query_string = [];\n            var query = page.substring(1);\n            var vars = query.split(\"&\");\n            for (var i = 0; i < vars.length; i++) {\n                var pair = vars[i].split(\"=\");\n                query_string[pair[0]] = pair[1];\n            }\n            return query_string;\n        }\n    }\n});\n\n\n/* function manejar_modal_agregar_monitoria() {\n    // Get the modal\n    var modal_peer_tracking = $('#modal_peer_tracking');\n\n    // Get the <span> element that closes the modal\n    var span_close = $('.mymodal-close');\n    var cancel_button = $('#cancel_peer_tracking');\n\n    cancel_button.on('click', function () {\n        modal_peer_tracking.hide();\n    });\n\n    // When the user clicks on <span> (x), close the modal\n    span_close.on('click', function () {\n        modal_peer_tracking.hide();\n    });\n\n    var panel_heading = $('.panel-heading.heading_semester_tracking');\n\n\n\n    panel_heading.on('click', function () {\n        if ($(this).parent().attr('class') == 'collapsed') {\n            $('h4>span', this).removeClass('glyphicon-chevron-left');\n            $('h4>span', this).addClass('glyphicon-chevron-down');\n        } else {\n            $('h4>span', this).removeClass('glyphicon-chevron-down');\n            $('h4>span', this).addClass('glyphicon-chevron-left');\n        }\n    });\n} */"],"file":"monitorias_academicas.min.js"}