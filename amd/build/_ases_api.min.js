define(["jquery","block_ases/loading_indicator"],function(n,e){const t=["POST","GET"];let i=(i,o,a=[],s="POST",c=!0,r=!1,p,u)=>{if(s=s.toUpperCase(),r&&e.show(),!t.includes(s))throw new Error(`'${s}' is not a valid method.`);let d;if(n.ajax({type:s,url:`../managers/${i}/${i}_api.php`,data:JSON.stringify({function:o,params:a}),contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,processData:!1,async:c,success:function(n){r&&e.hide(),p instanceof Function&&p(n),c||(d=n)},error:function(n){r&&e.hide(),u instanceof Function&&u(n),c||(d=n)}}),!c)return d};return console.log("Ases API initialised"),{get:(n,e,t=[],o=!0,a=!1,s,c)=>i(n,e,t,"GET",o,a,s,c),post:(n,e,t=[],o=!0,a=!1,s,c)=>i(n,e,t,"POST",o,a,s,c)}});