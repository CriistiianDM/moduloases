{"version":3,"sources":["../src/academic_reports.js"],"names":["define","$","bootstrap","datatables","swal","init","document","ready","DataTable","on","table","colIndex","cell","index","column","username","attr","ajax","type","data","student","url","success","msg","title","text","showCancelButton","customClass","confirmButtonColor","confirmButtonText","closeOnConfirm","dataType","cache","error","console","log","course_id","location","search","window","open"],"mappings":"AAQAA,OAAM,+BAAC,CAAC,QAAD,CAAW,sBAAX,CAAmC,8BAAnC,CAAmE,wBAAnE,CAAD,CAA+F,SAASC,CAAT,CAAYC,CAAZ,CAAuBC,CAAvB,CAAmCC,CAAnC,CAAwC,CAE3I,MAAM,CAIJC,IAAI,CAAE,eAAW,CAEfJ,CAAC,CAACK,QAAD,CAAD,CAAYC,KAAZ,CAAkB,UAAU,CAE1BN,CAAC,CAAC,WAAD,CAAD,CAAeO,SAAf,GACAP,CAAC,CAAC,UAAD,CAAD,CAAcO,SAAd,EACD,CAJD,EAMAP,CAAC,CAACK,QAAD,CAAD,CAAYG,EAAZ,CAAe,OAAf,CAAwB,uBAAxB,CAAiD,UAAU,IAIrDC,CAAAA,CAAK,CAAGT,CAAC,CAAC,WAAD,CAAD,CAAeO,SAAf,EAJ6C,CAKrDG,CAAQ,CAAGD,CAAK,CAACE,IAAN,CAAW,IAAX,EAAiBC,KAAjB,GAAyBC,MALiB,CAOrDC,CAAQ,CAAGd,CAAC,CAAC,IAAD,CAAD,CAAQe,IAAR,CAAa,IAAb,CAP0C,CAgBzD,GAAe,CAAZ,EAAAL,CAAH,CAAiB,CAEfV,CAAC,CAACgB,IAAF,CAAO,CACLC,IAAI,CAAE,MADD,CAELC,IAAI,CAAE,CACJC,OAAO,CAAEL,CADL,CAEJG,IAAI,CAAE,YAFF,CAFD,CAOLG,GAAG,CAAE,8DAPA,CAQLC,OAAO,CAAE,iBAASC,CAAT,CAAa,CAEpBnB,CAAI,CAAC,CACHoB,KAAK,CAAE,gBADJ,CAEHN,IAAI,CAAE,MAFH,CAGHO,IAAI,CAAEF,CAHH,CAIHG,gBAAgB,GAJb,CAKHC,WAAW,CAAE,gBALV,CAMHC,kBAAkB,CAAE,SANjB,CAOHC,iBAAiB,CAAE,QAPhB,CAQHC,cAAc,GARX,CAAD,CASL,CAnBI,CAoBLC,QAAQ,CAAE,MApBL,CAqBLC,KAAK,CAAE,OArBF,CAsBLC,KAAK,CAAE,eAASV,CAAT,CAAa,CAClBW,OAAO,CAACC,GAAR,CAAYZ,CAAZ,CACD,CAxBI,CAAP,CA0BD,CACF,CA7CD,EAgDAtB,CAAC,CAACK,QAAD,CAAD,CAAYG,EAAZ,CAAe,OAAf,CAAwB,gBAAxB,CAA0C,UAAW,IAC/C2B,CAAAA,CAAS,CAAGnC,CAAC,CAAC,IAAD,CAAD,CAAQe,IAAR,CAAa,IAAb,CADmC,CAE/CK,CAAG,CAAG,wBAA0BgB,QAAQ,CAACC,MAAnC,CAA4C,aAA5C,CAA4DF,CAFnB,CAGnDG,MAAM,CAACC,IAAP,CAAYnB,CAAZ,CAAiB,QAAjB,CACD,CAJD,CAKD,CAjEG,CAmEP,CArEK,CAAN","sourcesContent":["/**\n * Academic report management\n * @module amd/src/academic_reports\n * @author Camilo José Cruz rivera\n * @copyright 2017 Camilo José Cruz Rivera <cruz.camilo@correounivalle.edu.co>\n * @license  http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\ndefine(['jquery', 'block_ases/bootstrap', 'block_ases/jquery.dataTables', 'block_ases/sweetalert2'], function($, bootstrap, datatables, swal){\n\n  return{\n    /**\n     *\n     */\n    init: function() {\n\n      $(document).ready(function(){\n        //Gets students and courses data tables\n        $(\"#students\").DataTable();\n        $(\"#courses\").DataTable();\n      });\n\n      $(document).on('click', '#students tbody tr td', function(){\n        // Assign to variables a web page, table (students), column index selected,\n        // student code (obtained by table), username (student id)\n        // var pagina = \"student_profile.php\";\n        var table = $(\"#students\").DataTable();\n        var colIndex = table.cell(this).index().column;\n        // var student_code = table.cell(table.row(this).index(), 0).data();\n        var username = $(this).attr('id');\n        // if (colIndex <= 2) {\n        //     $(\"#formulario\").each(function() {\n        //         this.reset;\n        //     });\n        //     document.getElementById(\"formulario\").reset();\n        //     location.href = pagina + location.search + \"&student_code=\" + student_code;\n        // }COMENTADO MIENTRAS ESTA LA FICHA ACADEMICA\n\n        if(colIndex == 3){\n\n          $.ajax({\n            type: \"POST\",\n            data: {\n              student: username,\n              type: \"load_loses\"\n            },\n            //Calls processing academic_reports_processing to execute ajax\n            url: \"../managers/academic_reports/academic_reports_processing.php\",\n            success: function(msg){\n              //Display all lose subjects\n              swal({\n                title: \"Notas Perdidas\",\n                type: \"info\",\n                text: msg,\n                showCancelButton: false,\n                customClass: 'notas_perdidas',\n                confirmButtonColor: \"#DD6B55\",\n                confirmButtonText: \"Cerrar\",\n                closeOnConfirm: true });\n            },\n            dataType: \"text\",\n            cache: \"false\",\n            error: function(msg){\n              console.log(msg);\n            },\n          });\n        }\n      });\n\n      //Opens a new tab to display a course report, given the course id and the location\n      $(document).on('click', '.curso_reporte', function() {\n        var course_id = $(this).attr('id');\n        var url = 'report_grade_book.php' + location.search + '&id_course=' + course_id;\n        window.open(url, '_blank');\n      });\n    }\n  };\n});"],"file":"academic_reports.min.js"}