{"version":3,"sources":["../src/ases_jquery_datatable.js"],"names":["define","$","add_column_filters","column_filter_selectors","dataTable","init_complete_function","api","columns","every","column","select","appendTo","header","on","val","fn","util","escapeRegex","search","draw","data","unique","sort","each","d","append","initComplete","common_lang_config","oPaginate","sFirst","sLast","sNext","sPrevious","sProcessing","sLengthMenu","sZeroRecords","sEmptyTable","sInfo","sInfoEmpty","sInfoFiltered","sInfoPostFix","sSearch","sUrl","sInfoThousands","sLoadingRecords"],"mappings":"AAYAA,OAAM,oCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CA8C3B,MAAO,CACHC,kBAAkB,CA/BG,QAArBA,CAAAA,kBAAqB,CAAUC,CAAV,CAAmCC,CAAnC,CAA8C,CACnE,GAAIC,CAAAA,CAAsB,CAAI,UAAY,CACtC,KAAKC,GAAL,GAAWC,OAAX,CAAmBJ,CAAnB,EAA4CK,KAA5C,CAAkD,UAAY,IACtDC,CAAAA,CAAM,CAAG,IAD6C,CAItDC,CAAM,CAAGT,CAAC,CAAC,+CAAD,CAAD,CACRU,QADQ,CACCV,CAAC,CAACQ,CAAM,CAACG,MAAP,EAAD,CADF,EAERC,EAFQ,CAEL,QAFK,CAEK,UAAY,CACtB,GAAIC,CAAAA,CAAG,CAAGb,CAAC,CAACc,EAAF,CAAKX,SAAL,CAAeY,IAAf,CAAoBC,WAApB,CACNhB,CAAC,CAAC,IAAD,CAAD,CAAQa,GAAR,EADM,CAAV,CAIAL,CAAM,CACDS,MADL,CACYJ,CAAG,CAAG,IAAMA,CAAN,CAAY,GAAf,CAAqB,EADpC,QAEKK,IAFL,EAGH,CAVQ,CAJ6C,CAgB1DV,CAAM,CAACW,IAAP,GAAcC,MAAd,GAAuBC,IAAvB,GAA8BC,IAA9B,CAAmC,SAAUC,CAAV,CAAgB,CAC/Cd,CAAM,CAACe,MAAP,CAAc,mBAAoBD,CAApB,CAAwB,KAAxB,CAA+BA,CAA/B,CAAmC,WAAjD,CACH,CAFD,CAGH,CAnBD,CAoBH,CArBD,CAsBA,GAAG,CAACpB,CAAJ,CAAe,CACX,MAAOC,CAAAA,CACV,CAFD,IAEO,CACHD,CAAS,CAACsB,YAAV,CAAyBrB,CAC5B,CACJ,CAEM,CAMHsB,kBAAkB,CAAE,6BAAa,CAC7B,MAAO,CACHT,MAAM,CAAE,SADL,CAEHU,SAAS,CAAE,CACPC,MAAM,CAAE,SADD,CAEPC,KAAK,CAAE,WAFA,CAGPC,KAAK,CAAE,WAHA,CAIPC,SAAS,CAAE,UAJJ,CAFR,CAQHC,WAAW,CAAE,eARV,CASHC,WAAW,CAAE,0BATV,CAUHC,YAAY,CAAE,8BAVX,CAWHC,WAAW,CAAE,yCAXV,CAYHC,KAAK,CAAE,2EAZJ,CAaHC,UAAU,CAAE,2DAbT,CAcHC,aAAa,CAAE,2CAdZ,CAeHC,YAAY,CAAE,EAfX,CAgBHC,OAAO,CAAE,SAhBN,CAiBHC,IAAI,CAAE,EAjBH,CAkBHC,cAAc,CAAE,GAlBb,CAmBHC,eAAe,CAAE,aAnBd,CAqBV,CA5BE,CA8BV,CA5EK,CAAN","sourcesContent":["/**\r\n * Ases datatable common functions and utilities\r\n * @module amd/src/ases_datatable\r\n * @author Luis Gerardo Manrique Cardona\r\n * @copyright 2018 Luis Gerardo Manrique Cardona <luis.manrique@correounivalle.edu.co>\r\n * @license  http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\n/**\r\n * @see https://datatables.net/examples/api/multi_filter_select.html\r\n */\r\n\r\ndefine(['jquery'], function($) {\r\n    /**\r\n     * Function than allows add the column filters in the datatable based in the datatable column data\r\n     * **This function is appended at initComplete function o fdatatable**\r\n     * @param {array} column_filter_selectors Array of strings with the column selector, can be\r\n     *  the column name, example: ['username', 'tipo_doc'] adds filter to username and tipo_doc columns\r\n     *  if they exists in the datatable.\r\n     *  **Each element of filter_column can be a column selector**\r\n     *  **Use this function in a initComplete function of the datatable**\r\n     *  @param dataTable Datatable var for append the column filters\r\n     *      if is empty, the function for init complete is returned and you should\r\n     *      add\r\n     *  @see https://datatables.net/reference/option/initComplete\r\n     *  @see https://datatables.net/reference/type/column-selector\r\n     * @function\r\n     */\r\n    var add_column_filters = function (column_filter_selectors, dataTable) {\r\n        var init_complete_function =  function () {\r\n            this.api().columns(column_filter_selectors).every(function () {\r\n                var column = this;\r\n\r\n\r\n                var select = $('<select><option value=\"\"></option></select>')\r\n                    .appendTo($(column.header()))\r\n                    .on('change', function () {\r\n                        var val = $.fn.dataTable.util.escapeRegex(\r\n                            $(this).val()\r\n                        );\r\n\r\n                        column\r\n                            .search(val ? '^' + val + '$' : '', true, false)\r\n                            .draw();\r\n                    });\r\n\r\n                column.data().unique().sort().each(function (d, j) {\r\n                    select.append('<option value=\"' + d + '\">' + d + '</option>');\r\n                });\r\n            });\r\n        };\r\n        if(!dataTable) {\r\n            return init_complete_function;\r\n        } else {\r\n            dataTable.initComplete = init_complete_function;\r\n        }\r\n    };\r\n\r\n    return {\r\n        add_column_filters: add_column_filters,\r\n        /**\r\n         * Get the common language configuration\r\n         * @returns object Return the common language configuration for jquery datatables in ases\r\n         */\r\n        common_lang_config: function  () {\r\n            return {\r\n                search: 'Buscar:',\r\n                oPaginate: {\r\n                    sFirst: 'Primero',\r\n                    sLast: 'Último',\r\n                    sNext: 'Siguiente',\r\n                    sPrevious: 'Anterior'\r\n                },\r\n                sProcessing: 'Procesando...',\r\n                sLengthMenu: 'Mostrar _MENU_ registros',\r\n                sZeroRecords: 'No se encontraron resultados',\r\n                sEmptyTable: 'Ningún dato disponible en esta tabla',\r\n                sInfo: 'Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros',\r\n                sInfoEmpty: 'Mostrando registros del 0 al 0 de un total de 0 registros',\r\n                sInfoFiltered: '(filtrado de un total de _MAX_ registros)',\r\n                sInfoPostFix: '',\r\n                sSearch: 'Buscar:',\r\n                sUrl: '',\r\n                sInfoThousands: ',',\r\n                sLoadingRecords: 'Cargando...'\r\n            };\r\n        }\r\n    };\r\n});"],"file":"ases_jquery_datatable.min.js"}