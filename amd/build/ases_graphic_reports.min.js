'use strict';define(['jquery','block_ases/jszip','block_ases/pdfmake','block_ases/jquery.dataTables','block_ases/dataTables.autoFill','block_ases/dataTables.buttons','block_ases/buttons.html5','block_ases/buttons.flash','block_ases/buttons.print','block_ases/bootstrap','block_ases/sweetalert2','block_ases/jqueryui','block_ases/select2','block_ases/Chart','block_ases/loading_indicator','block_ases/chartjs_plugin_datalabels'],function(a,b,c,d,e,f,g,h,j,l,m,n,o,p){function s(){a.ajax({type:'POST',data:{type:'carrera',cohort:a('#conditions').val()},url:'../managers/ases_report/asesreport_graphics_processing.php',success:function success(y){var z=Object.keys(y).map(function(F){return y[F]}),A=[],B=[],C='';z.sort(function(F,G){return G.count-F.count});var D=[];for(var E in z)C=z[E].nombre,cantidadPrograma=z[E].count,'PLAN TALENTOS PILOS'!=C&&('LICENCIATURA EN EDUCACI\xD3N B\xC1SICA CON \xC9NFASIS EN CIENCIAS NATURALES Y EDUCACI\xD3N AMBIENTAL'==C&&(C='LIC. EN EDU. B\xC1SICA \xC9NFASIS EN CIENCIAS NATURALES Y EDU. AMBIENTAL'),'LICENCIATURA EN EDUCACI\xD3N B\xC1SICA CON \xC9NFASIS EN CIENCIAS SOCIALES'==C&&(C='LIC. EN EDU. B\xC1SICA CON \xC9NFASIS EN CIENCIAS SOCIALES'),A.push(C),B.push(cantidadPrograma),D.push({programa:C,cantidad:cantidadPrograma}));u(A,B),t(D)},dataType:'json',cache:!1,async:!0,failure:function failure(){}})}function t(y){var z=a('#div_table').DataTable({retrieve:!0,bsort:!1,data:y,columns:[{title:'Programa',name:'programa',data:'programa'},{title:'Cantidad de estudiantes',name:'cantidad',data:'cantidad'}],dom:'lifrtpB',buttons:[{extend:'print',text:'Imprimir'},{extend:'csv',text:'CSV'},{extend:'excel',text:'Excel',className:'buttons-excel',filename:'Export excel',extension:'.xls'}]});z.draw()}function u(y,z){a('.chart-container').css('height','1300px'),a('.chart-container').css('width','1100px');for(var A=[],B=[],C=0;C<y.length;C++)0==C%2?(A.push('rgba(255, 99, 132, 0.2)'),B.push('rgba(255, 99, 132, 1)')):(A.push('rgba(130, 130, 130, 0.2)'),B.push('rgba(130, 130, 130, 1)'));var D=document.getElementById('grafica_tipos').getContext('2d'),F=new p(D,{type:'horizontalBar',data:{labels:y,datasets:[{label:'Cantidad de Estudiantes',data:z,backgroundColor:A,borderColor:B,borderWidth:3}]},options:{elements:{rectangle:{borderWidth:2}},responsive:!0,legend:{position:'top',display:!1},title:{display:!0,text:'No. de Estudiantes por Programa',fontSize:30},scales:{yAxes:[{ticks:{display:!0},categoryPercentage:1,barPercentage:1}]},maintainAspectRatio:!1,plugins:{datalabels:{display:!0,align:'center',anchor:'center'}}}})}function t(){var y=a('#form_general_report').serializeArray();y.push({name:'instance_id',value:w()})}function w(){var y=location.search.split('&');for(x in y)if(0<=y[x].indexOf('instanceid')){var z=y[x].split('=');return z[1]}return 0}return{init:function init(){window.JSZip=b,a('#conditions').on('change',function(){}),a('#list-students-status-panel').on('click',function(){s()})},load_defaults_students:function load_defaults_students(){},get_id_instance:function get_id_instance(){var y=location.search.split('&');for(x in y)if(0<=y[x].indexOf('instanceid')){var z=y[x].split('=');return z[1]}return 0}}});