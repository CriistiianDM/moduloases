'use strict';define(['jquery','block_ases/bootstrap','block_ases/sweetalert'],function(a){return{init:function init(){function d(){var f=new FormData;if(void 0==a('#archivo')[0].files[0])return swal({title:'Archivo no registrado.',text:'Seleccione el archivo a subir',html:!0,type:'error',confirmButtonColor:'#d51b23'}),void e();f.append('file',a('#archivo')[0].files[0]);var g=a('#selector').val()+'_processing.php';a.ajax({url:'../managers/historic_management/'+g,data:f,type:'POST',dataType:'json',cache:!1,contentType:!1,processData:!1,beforeSend:function beforeSend(){a('#response').html('<img src=\'../icon/facebook.gif\' />')},success:function success(h){alert('ENTRO'),console.log(h),a('#response').empty(),a('#informacion').empty(),h.success?a('#informacion').append('<div class="alert alert-success"><h4 align="center">Informaci\xF3n</h4><strong>Exito!</strong> <br><p>'+h.success+'</p></div>'):h.warning?a('#informacion').append('<div class="alert alert-warning"><h4 align="center">Informaci\xF3n</h4><strong>Cargado con inconsitencias!</strong> <br>'+h.warning+'</div>'):h.error&&a('#informacion').append('<div class="alert alert-danger"><h4 align="center">Informaci\xF3n</h4><strong>Error!</strong> <br>'+h.error+'</div>'),a('#informacion').append(h.urlzip)},error:function error(h){console.log(h),swal({title:'Error en conexion al servidor.',text:'No se ha podido establecer conexion al servidor',html:!0,type:'error',confirmButtonColor:'#d51b23'}),a('#response').html(''),e()}})}function e(){var f=a('#selector').val();switch(a('#informacion').empty(),f){case'academic':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga Historico Academico</h4><br><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username_estudiante</li> </ul> </p><p>Columnas extras aceptadas: <ul> <li>nota</li>  </ul> </p></div>');break;case'icetex':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga Historico ICETEX</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>username_estudiante</li></ul> </p><p>Columnas extras aceptadas: <ul> <li>otro</li>  </ul> </p></div>');break;default:}}e(),a('#selector').on('change',function(){e()}),a('#boton_subir').on('click',function(){a('#informacion').empty(),d()})}}});