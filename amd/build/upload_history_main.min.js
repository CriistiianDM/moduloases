'use strict';define(['jquery','block_ases/bootstrap','block_ases/sweetalert'],function(a){return{init:function init(){function d(){var f=new FormData;if(void 0==a('#archivo')[0].files[0])return swal({title:'Archivo no registrado.',text:'Seleccione el archivo a subir',html:!0,type:'error',confirmButtonColor:'#d51b23'}),void e();f.append('file',a('#archivo')[0].files[0]);var g=a('#selector').val()+'_processing.php';a.ajax({url:'../managers/historic_management/'+g,data:f,type:'POST',dataType:'json',cache:!1,contentType:!1,processData:!1,beforeSend:function beforeSend(){a('#response').html('<img src=\'../icon/facebook.gif\' />')},success:function success(h){swal({title:'Exito',text:'Archivo Cargado. Por favor consulte los detalles',html:!0,type:'warning',showCancelButton:!1,showConfirmButton:!1,timer:1300}),a('#response').empty(),a('#informacion').empty(),h.success?a('#informacion').append('<div class="alert alert-success"><h4 align="center">Informaci\xF3n</h4><strong>Exito!</strong> <br><p>'+h.success+'</p></div>'):h.warning?a('#informacion').append('<div class="alert alert-warning"><h4 align="center">Informaci\xF3n</h4><strong>Cargado con inconsitencias!</strong> <br>'+h.warning+'</div>'):h.error&&a('#informacion').append('<div class="alert alert-danger"><h4 align="center">Informaci\xF3n</h4><strong>Error!</strong> <br>'+h.error+'</div>'),a('#informacion').append(h.urlzip)},error:function error(h){console.log(h),swal({title:'Error en conexion al servidor.',text:'No se ha podido establecer conexion al servidor',html:!0,type:'error',confirmButtonColor:'#d51b23'}),a('#response').html(''),e()}})}function e(){var f=a('#selector').val();switch(a('#informacion').empty(),f){case'academic':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga hist\xF3rico acad\xE9mico</h4><br><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>codigo_estudiante</li> <li>semestre</li> <li>programa</li> <li>promedio_semestre</li> <li>promedio_acumulado</li> </ul> </p><p>Columnas extras aceptadas: <ul> <li>numero_bajo</li> <li>puesto_estimulo</li> <li>fecha_cancelacion</li> </ul> </p></div>');break;case'materias':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga materias</h4><br><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>codigo_estudiante</li> <li>semestre</li> <li>programa</li> <li>nombre_materia</li> <li>codigo_materia</li> <li>creditos</li> <li>nota</li> <li>fecha_cancelacion_materia</li> </ul> </p></div>');break;case'icetex':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga hist\xF3rico ICETEX</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>cedula_estudiante</li><li>programa</li><li>codigo_resolucion</li> <li>monto_estudiante</li></ul> </p></div>');break;case'resolution':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga resoluci\xF3n ICETEX</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>codigo_resolucion</li><li>nombre_semestre</li><li>fecha</li><li>total_girado</li></ul></p> <p>Columnas extras aceptadas: <ul> <li>nota_credito</li> <li>cantidad_estudiantes</li></div>');break;case'historic_icetex_status':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga hist\xF3rico de estados ICETEX</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>cedula_estudiante</li><li>semestre</li><li>estado_icetex</li></ul> </p></div>');break;case'student_status':a('#informacion').append('<div class="alert alert-info"><h4 align="center">Informaci\xF3n de carga de estado de estudiantes</h4><br> <strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul><li>codigo_estudiante</li><li>codigo_programa</li><li>semestre</li></ul> </p><p>Columnas extras aceptadas: <ul><li>estado_grado</li> <li>cancelo_semestre</li></ul> </p></div>');break;default:}}e(),a('#selector').on('change',function(){e()}),a('#boton_subir').on('click',function(){a('#informacion').empty(),d()})}}});