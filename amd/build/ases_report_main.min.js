define(["jquery","block_ases/datatables.net","block_ases/datatables.net-buttons","block_ases/buttons.flash","block_ases/jszip","block_ases/bootstrap","block_ases/sweetalert","block_ases/buttons.html5","block_ases/buttons.print","block_ases/jqueryui"],function(t){function a(){var a=t("#formulario").serializeArray();a.push({name:"idinstancia",value:e()}),t("#div_table").html('<img class="icon-loading" src="../icon/loading.gif"/>'),t.ajax({type:"POST",data:a,url:"../managers/ases_report/asesreport_server_processing.php",success:function(a){a.error?alert(a.error):(t("#div_table").html(""),t("#div_table").fadeIn(1e3).append('<table id="tableResult" class="display" cellspacing="0" width="100%"><thead> </thead></table>'),t("#tableResult").DataTable(a.data),t("#tableResult tr").each(function(){t.each(this.cells,function(){"bajo"==t(this).html()?t(this).addClass("bajo"):"medio"==t(this).html()?t(this).addClass("medio"):"alto"==t(this).html()&&t(this).addClass("alto")})}),t("#tableResult").bind("DOMSubtreeModified",function(){t("#tableResult tr").each(function(){t.each(this.cells,function(){"bajo"==t(this).html()?t(this).addClass("bajo"):"medio"==t(this).html()?t(this).addClass("medio"):"alto"==t(this).html()&&t(this).addClass("alto")})})}))},dataType:"json",cache:"false",error:function(t){alert("Error al conectar con el servidor")}})}function e(){var t=location.search.split("&");for(x in t)if(t[x].indexOf("instanceid")>=0){var a=t[x].split("=");return a[1]}return 0}return{init:function(){t("#btn-send-indexform").on("click",function(){a()}),t(document).on("click","#tableResult tbody tr td",function(){var a="student_profile.php",e=t("#tableResult").DataTable(),s=e.cell(this).index().column;2>=s&&(t("#formulario").each(function(){this.reset}),location.href=a+location.search+"&student_code="+e.cell(e.row(this).index(),0).data())})}}});
