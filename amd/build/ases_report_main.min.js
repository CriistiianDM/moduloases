define(["jquery","block_ases/jszip","block_ases/pdfmake","block_ases/jquery.dataTables","block_ases/dataTables.autoFill","block_ases/dataTables.buttons","block_ases/buttons.html5","block_ases/buttons.flash","block_ases/buttons.print","block_ases/bootstrap","block_ases/sweetalert2"],function(e,a,s,n,t,i,c,o,d,r,l){return{init:function(){window.JSZip=a,e(document).on("click","#tableResult tbody tr td",function(){var a=e("#tableResult").DataTable();a.cell(this).index().column<=2&&(e("#formulario").each(function(){this.reset}),location.href="student_profile.php"+location.search+"&student_code="+a.cell(a.row(this).index(),0).data())}),e("#contact_fields_check").on("change",function(){e("#contact_fields_check").prop("checked")?e("#contact_fields input[type='checkbox']").prop("checked",!0):e("#contact_fields input[type='checkbox']").prop("checked",!1),h()}),e("#status_fields_check").on("change",function(){e("#status_fields_check").prop("checked")?e("input[name='status_fields[]']").prop("checked",!0):e("input[name='status_fields[]']").prop("checked",!1),h()}),e("#academic_fields_check").on("change",function(){e("#academic_fields_check").prop("checked")?e("input[name='academic_fields[]']").prop("checked",!0):e("input[name='academic_fields[]']").prop("checked",!1),h()}),e("#risk_fields_check").on("change",function(){e("#risk_fields_check").prop("checked")?e("input[name='risk_fields[]']").prop("checked",!0):e("input[name='risk_fields[]']").prop("checked",!1),h()}),e("#assignment_fields_check").on("change",function(){e("#assignment_fields_check").prop("checked")?e("input[name='assignment_fields[]']").prop("checked",!0):e("input[name='assignment_fields[]']").prop("checked",!1),h()}),e("#conditions").on("change",function(){h()}),e("#contact_fields input[type='checkbox']").on("change",function(){h()}),e("input[name='status_fields[]']").on("change",function(){h()}),e("input[name='academic_fields[]']").on("change",function(){h()}),e("input[name='risk_fields[]']").on("change",function(){h()}),e("input[name='assignment_fields[]']").on("change",function(){h()}),e(document).on("change",".select_risk",function(){var a=e("#tableResult").DataTable(),s=e(this).parent().index()+1;e(this).parent().find(":selected").text();a.columns(s-1).search(this.value).draw()}),e(document).on("change",".filter_assignments",function(){var a=e("#tableResult").DataTable(),s=e(this).parent().index()+1;e(this).parent().find(":selected").text();a.columns(s-1).search(this.value).draw()}),e(document).on("change",".select_filter_statuses",function(){var a=e("#tableResult").DataTable(),s=e(this).parent().index()+1,n=e(this).parent().find(":selected").text();a.columns(s-1).search(n?"^"+n+"$":"",!0,!1).draw()}),e(document).on("click",".summary-title",function(){var a=e(e(this).data("icon"));a.hasClass("glyphicon-chevron-right")?(a.removeClass("glyphicon-chevron-right"),a.addClass("glyphicon-chevron-down")):(a.addClass("glyphicon-chevron-right"),a.removeClass("glyphicon-chevron-down"));var s=e(e(this).data("target"));"none"!=s.css("display")?s.hide(300):s.show(300)}),e(".panel-heading-summary").on("click",function(){var a=e(this).find(".icon-group-cohort");a.hasClass("glyphicon-chevron-right")?(a.removeClass("glyphicon-chevron-right"),a.addClass("glyphicon-chevron-down")):(a.addClass("glyphicon-chevron-right"),a.removeClass("glyphicon-chevron-down"));var s=e(e(this).data("target"));"none"!=s.css("display")?s.hide(300):s.show(300)})},load_defaults_students:function(a){e("#div_table").html(""),e("#div_table").fadeIn(1e3).append('<table id="tableResult" class="stripe row-border order-column" cellspacing="0" width="100%"><thead> </thead></table>'),e("#tableResult").DataTable(a)},create_table:function(){},get_id_instance:function(){var e=location.search.split("&");for(x in e){if(e[x].indexOf("instanceid")>=0)return e[x].split("=")[1]}return 0}};function h(){var a;(a=e("#form_general_report").serializeArray()).push({name:"instance_id",value:p()}),e("#div_table").html('<img class="icon-loading" src="../icon/loading.gif"/>'),e.ajax({type:"POST",data:a,url:"../managers/ases_report/asesreport_server_processing.php",success:function(a){e("#div_table").html(""),e("#div_table").fadeIn(1e3).append('<table id="tableResult" class="display" cellspacing="0" width="100%"><thead> </thead></table>'),e("#tableResult").DataTable(a),e("#tableResult tr").each(function(){e.each(this.cells,function(){"Bajo"==e(this).html()?e(this).addClass("riesgo_bajo"):"Medio"==e(this).html()?e(this).addClass("riesgo_medio"):"Alto"==e(this).html()&&e(this).addClass("riesgo_alto")})}),e("#tableResult").bind("DOMSubtreeModified",function(){e("#tableResult tr").each(function(){e.each(this.cells,function(){"Bajo"==e(this).html()?e(this).addClass("riesgo_bajo"):"Medio"==e(this).html()?e(this).addClass("riesgo_medio"):"Alto"==e(this).html()&&e(this).addClass("riesgo_alto")})})})},dataType:"json",cache:"false",error:function(e){alert("Error al conectar con el servidor")}});var s=e("#conditions").val();"TODOS"==s?(e("#div-summary-spp").prop("hidden",!1),e("#div-summary-spe").prop("hidden",!1),e("#div-summary-3740").prop("hidden",!1),e("#div-summary-oa").prop("hidden",!1)):"TODOS-SPP"==s||"SPP"==s.substring(0,3)?(e("#div-summary-spp").prop("hidden",!1),e("#div-summary-spe").prop("hidden",!0),e("#div-summary-3740").prop("hidden",!0),e("#div-summary-oa").prop("hidden",!0)):"TODOS-SPE"==s||"SPE"==s.substring(0,3)?(e("#div-summary-spp").prop("hidden",!0),e("#div-summary-spe").prop("hidden",!1),e("#div-summary-3740").prop("hidden",!0),e("#div-summary-oa").prop("hidden",!0)):"TODOS-3740"==s||"3740"==s.substring(0,4)?(e("#div-summary-spp").prop("hidden",!0),e("#div-summary-spe").prop("hidden",!0),e("#div-summary-3740").prop("hidden",!1),e("#div-summary-oa").prop("hidden",!0)):"TODOS-OTROS"==s&&(e("#div-summary-spp").prop("hidden",!0),e("#div-summary-spe").prop("hidden",!0),e("#div-summary-3740").prop("hidden",!0),e("#div-summary-oa").prop("hidden",!1))}function p(){var e=location.search.split("&");for(x in e){if(e[x].indexOf("instanceid")>=0)return e[x].split("=")[1]}return 0}});