'use strict';define(['jquery','block_ases/datatables.net','block_ases/datatables.net-buttons','block_ases/buttons.flash','block_ases/jszip','block_ases/bootstrap','block_ases/sweetalert','block_ases/buttons.html5','block_ases/buttons.print','block_ases/jqueryui'],function(a){function b(){var d=a('#form_general_report').serializeArray();d.push({name:'instance_id',value:c()}),a('#div_table').html('<img class="icon-loading" src="../icon/loading.gif"/>'),a.ajax({type:'POST',data:d,url:'../managers/ases_report/asesreport_server_processing.php',success:function success(e){a('#div_table').html(''),a('#div_table').fadeIn(1e3).append('<table id="tableResult" class="display" cellspacing="0" width="100%"><thead> </thead></table>'),a('#tableResult').DataTable(e),a('#tableResult tr').each(function(){a.each(this.cells,function(){'bajo'==a(this).html()?a(this).addClass('bajo'):'medio'==a(this).html()?a(this).addClass('medio'):'alto'==a(this).html()&&a(this).addClass('alto')})}),a('#tableResult').bind('DOMSubtreeModified',function(){a('#tableResult tr').each(function(){a.each(this.cells,function(){'bajo'==a(this).html()?a(this).addClass('bajo'):'medio'==a(this).html()?a(this).addClass('medio'):'alto'==a(this).html()&&a(this).addClass('alto')})})})},dataType:'json',cache:'false',error:function error(){alert('Error al conectar con el servidor')}})}function c(){var d=location.search.split('&');for(x in d)if(0<=d[x].indexOf('instanceid')){var e=d[x].split('=');return e[1]}return 0}return{init:function init(){a('#send_form_btn').on('click',function(){b()}),a(document).on('click','#tableResult tbody tr td',function(){var e=a('#tableResult').DataTable(),f=e.cell(this).index().column;2>=f&&(a('#formulario').each(function(){this.reset}),location.href='student_profile.php'+location.search+'&student_code='+e.cell(e.row(this).index(),0).data())})}}});