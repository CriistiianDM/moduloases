define(["jquery","block_ases/jszip","block_ases/pdfmake","block_ases/jquery.dataTables","block_ases/dataTables.autoFill","block_ases/dataTables.buttons","block_ases/buttons.html5","block_ases/buttons.flash","block_ases/buttons.print","block_ases/dataTables.fixedColumns","block_ases/bootstrap","block_ases/sweetalert"],function(e,t,a,c,s,i,n,l,o,d,r,h){return{init:function(){window.JSZip=t,e("#send_form_btn").on("click",function(){var t;(t=e("#form_general_report").serializeArray()).push({name:"instance_id",value:function(){var e=location.search.split("&");for(x in e)if(e[x].indexOf("instanceid")>=0){var t=e[x].split("=");return t[1]}return 0}()}),e("#div_table").html('<img class="icon-loading" src="../icon/loading.gif"/>'),e.ajax({type:"POST",data:t,url:"../managers/ases_report/asesreport_server_processing.php",success:function(t){e("#div_table").html(""),e("#div_table").fadeIn(1e3).append('<table id="tableResult" class="display" cellspacing="0" width="100%"><thead> </thead></table>'),e("#tableResult").DataTable(t),e("#tableResult tr").each(function(){e.each(this.cells,function(){"Bajo"==e(this).html()?e(this).addClass("bajo"):"Medio"==e(this).html()?e(this).addClass("medio"):"Alto"==e(this).html()&&e(this).addClass("alto")})}),e("#tableResult").bind("DOMSubtreeModified",function(){e("#tableResult tr").each(function(){e.each(this.cells,function(){"bajo"==e(this).html()?e(this).addClass("bajo"):"medio"==e(this).html()?e(this).addClass("medio"):"alto"==e(this).html()&&e(this).addClass("alto")})})})},dataType:"json",cache:"false",error:function(e){alert("Error al conectar con el servidor")}})}),e(document).on("click","#tableResult tbody tr td",function(){var t=e("#tableResult").DataTable();t.cell(this).index().column<=2&&(e("#formulario").each(function(){this.reset}),location.href="student_profile.php"+location.search+"&student_code="+t.cell(t.row(this).index(),0).data())}),e("#conditions").on("change",function(){"TODOS"!=e("#conditions").val()?e("#cohort_check").prop("checked",!1):e("#cohort_check").prop("checked",!0)}),e("#contact_fields_check").on("change",function(){e("#contact_fields_check").prop("checked")?e("#contact_fields input[type='checkbox']").prop("checked",!0):e("#contact_fields input[type='checkbox']").prop("checked",!1)}),e("#status_fields_check").on("change",function(){e("#status_fields_check").prop("checked")?e("input[name='status_fields[]']").prop("checked",!0):e("input[name='status_fields[]']").prop("checked",!1)}),e("#academic_fields_check").on("change",function(){e("#academic_fields_check").prop("checked")?e("input[name='academic_fields[]']").prop("checked",!0):e("input[name='academic_fields[]']").prop("checked",!1)}),e("#risk_fields_check").on("change",function(){e("#risk_fields_check").prop("checked")?e("input[name='risk_fields[]']").prop("checked",!0):e("input[name='risk_fields[]']").prop("checked",!1)}),e(document).on("change","#tableResult thead tr th select",function(){var t=e("#tableResult").DataTable(),a=e(this).parent().index()+1;e(this).parent().find(":selected").text();t.columns(a-1).search(this.value).draw()})},load_defaults_students:function(t){e("#div_table").html(""),e("#div_table").fadeIn(1e3).append('<table id="tableResult" class="stripe row-border order-column" cellspacing="0" width="100%"><thead> </thead></table>'),e("#tableResult").DataTable(t)},create_table:function(){},get_id_instance:function(){var e=location.search.split("&");for(x in e){if(e[x].indexOf("instanceid")>=0)return e[x].split("=")[1]}return 0}}});
