{"version":3,"sources":["../src/socioed_profile_main.js"],"names":["define","$","init","student_code","attr","on","codigo_monitor","val","dphpforms_instance","removeClass","fadeIn","find","data","creado_por","click","get","html","append","id_creado_por","response","registered_by","firstname","lastname","after","count_buttons_dphpforms","length","css","width"],"mappings":"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","sourcesContent":["/**\r\n * Social-educative tracking\r\n * @module amd/src/socioed_profile_main\r\n * @author Jorge Eduardo Mayor Fern√°ndez\r\n * @copyright 2019 Jorge Eduardo Mayor <mayor.jorge@correounivalle.edu.co>\r\n * @license  http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\ndefine(['jquery'], function($) {\r\n\r\n    return {\r\n\r\n        init: function() {\r\n\r\n            var student_code = $('#dphpforms_ases_student_code').attr('data-info');\r\n\r\n            $('#button_add_v2_track').on('click', function() {\r\n\r\n                var codigo_monitor = $('#current_user_id').val();\r\n                var dphpforms_instance = $('#dphpforms_block_instance').attr('data-info');\r\n\r\n                $('div').removeClass('regla_incumplida');\r\n                $('#modal_v2_peer_tracking').fadeIn(300);\r\n                $('.id_estudiante').find('input').val(student_code);\r\n                $('.id_creado_por').find('input').val(codigo_monitor);\r\n                $('.id_instancia').find('input').val(dphpforms_instance);\r\n                $('.id_monitor').find('input').val( $(\"#dphpforms_monitor_id\").data(\"info\") );\r\n                $('.id_practicante').find('input').val( $(\"#dphpforms_practicing_id\").data(\"info\") );\r\n                $('.id_profesional').find('input').val( $(\"#dphpforms_professional_id\").data(\"info\") );\r\n                $('.username').find('input').val( $(\"#dphpforms_username\").data(\"info\") );\r\n\r\n            });\r\n\r\n            $('#button_primer_acercamiento').on('click', function() {\r\n\r\n                var creado_por = $('#current_user_id').val();\r\n\r\n                $('div').removeClass('regla_incumplida');\r\n                $('#modal_primer_acercamiento').fadeIn(300);\r\n                $('.primer_acerca_id_estudiante_field').find('input').val(student_code);\r\n                $('.primer_acerca_id_creado_por_field').find('input').val(creado_por);\r\n            });\r\n\r\n            $('#button_actualizar_primer_acercamiento').click(function(){\r\n                $('div').removeClass('regla_incumplida');\r\n                $.get( \"../managers/dphpforms/dphpforms_forms_core.php?form_id=primer_acercamiento&record_id=\" + $(this).attr('data-record-id'), function( data ) {\r\n                    $(\"#primer_acercamiento_form\").html(\"\");\r\n                    $('#primer_acercamiento_form').append( data );\r\n                    $('#modal_primer_acercamiento').fadeIn(300);\r\n\r\n                    var id_creado_por = $('#modal_primer_acercamiento').find('.pa_id_creado_por').find('input').val();\r\n\r\n                    $.get( \"../managers/user_management/api_user.php?function=get_user_information&arg=\" + id_creado_por, function( response ) {\r\n\r\n                        var registered_by = response.firstname + ' ' + response.lastname;\r\n\r\n                        $('#modal_primer_acercamiento').find('h1').after('<hr style=\"border-color:#444;\"><h3>Registrado por: <strong>' + registered_by + '</strong></h3>');\r\n\r\n                        var count_buttons_dphpforms = $('.dphpforms-record .btn-dphpforms-univalle').length;\r\n                        if( count_buttons_dphpforms == 2 ){\r\n                            $('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css( { 'margin-left' : ( ($('.dphpforms-updater').width()/2) - 72 ) + 'px'  } );\r\n                        }else if( count_buttons_dphpforms == 3 ){\r\n                            $('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css( { 'margin-left' : ( ($('.dphpforms-updater').width()/2) - 72 - 30 ) + 'px'  } );\r\n                        }\r\n                    });\r\n                });\r\n            });\r\n        }\r\n    };\r\n});\r\n\r\n"],"file":"socioed_profile_main.min.js"}