{"version":3,"sources":["../src/dataTables.buttons.js"],"names":["factory","define","amd","$","window","document","exports","module","root","fn","dataTable","require","jQuery","DataTable","_instCounter","_buttonCounter","_dtButtons","ext","buttons","Buttons","dt","config","isArray","c","extend","defaults","s","Api","listenKeys","namespace","dom","container","tag","addClass","className","_constructor","prototype","action","node","button","_nodeToButton","conf","active","flag","klass","jqNode","hasClass","toggleClass","add","idx","split","base","i","ien","length","_expandButton","_draw","disable","disabled","destroy","off","slice","remove","buttonInsts","settings","inst","splice","enable","removeClass","name","processing","host","_nodeToHost","call","_removeKey","inArray","text","label","buttonLiner","collection","linerTag","inCollection","opt","children","html","that","dtSettings","_buttons","push","on","e","activeElement","body","character","String","fromCharCode","keyCode","toLowerCase","indexOf","_keypress","_addKey","key","isPlainObject","detach","append","inserter","attachTo","attachPoint","buttonCounter","_resolveExtends","built","_buildButton","collectionDom","attr","_collection","init","buttonDom","linerDom","available","table","triggerHandler","iTabIndex","id","preventDefault","blur","liner","enabled","titleAttr","buttonContainer","get","ret","_buttonsHandled","run","click","shiftKey","altKey","ctrlKey","metaKey","recurse","a","join","toConfObject","loop","objArray","originalClassName","postfixButtons","prefixButtons","background","show","fade","css","appendTo","fadeIn","fadeOut","instanceSelector","group","map","v","names","process","input","trim","buttonSelector","insts","selector","nodeBuilder","baseIdx","nodes","match","indexes","replace","filter","each","nodeName","tabIndex","version","i18n","collectionParent","parents","hostPosition","position","tableContainer","multiLevel","insertPoint","trigger","collectionLayout","insertAfter","top","left","outerHeight","tableBottom","offset","height","listBottom","listTop","tableTop","listRight","outerWidth","tableRight","width","backgroundClassName","setTimeout","back","addBack","target","autoClose","copy","copyHtml5","copyFlash","csv","csvHtml5","csvFlash","excel","excelHtml5","excelFlash","pdf","pdfHtml5","pdfFlash","pageLength","lengthMenu","aLengthMenu","vals","lang","_","page","len","val","draw","register","buttonGroup","res","iterator","ctx","_groupSelector","registerPlural","set","jq","groupSelector","context","pluck","unique","_infoTimer","title","message","time","clearTimeout","info","options","_exportData","filename","_filename","_title","messageTop","_message","messageBottom","extension","_stringOrFunction","option","caption","eq","side","_exportTextarea","inOpts","rows","columns","modifier","search","order","orthogonal","stripHtml","stripNewlines","decodeEntities","format","header","d","strip","footer","str","innerHTML","value","el","column","toArray","select","selected","any","rowIndexes","selectedCells","cells","render","cellNodes","cellCounter","row","j","opts","oInit","feature","fnInit","api","cFeature"],"mappings":"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","sourcesContent":["/*! Buttons for DataTables 1.5.1\r\n * ©2016-2017 SpryMedia Ltd - datatables.net/license\r\n */\r\n\r\n(function( factory ){\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\t// AMD\r\n\t\tdefine( ['jquery', 'block_ases/jquery.dataTables'], function ( $ ) {\r\n\t\t\treturn factory( $, window, document );\r\n\t\t} );\r\n\t}\r\n\telse if ( typeof exports === 'object' ) {\r\n\t\t// CommonJS\r\n\t\tmodule.exports = function (root, $) {\r\n\t\t\tif ( ! root ) {\r\n\t\t\t\troot = window;\r\n\t\t\t}\r\n\r\n\t\t\tif ( ! $ || ! $.fn.dataTable ) {\r\n\t\t\t\t$ = require('block_ases/jquery.dataTables')(root, $).$;\r\n\t\t\t}\r\n\r\n\t\t\treturn factory( $, root, root.document );\r\n\t\t};\r\n\t}\r\n\telse {\r\n\t\t// Browser\r\n\t\tfactory( jQuery, window, document );\r\n\t}\r\n}(function( $, window, document, undefined ) {\r\n'use strict';\r\nvar DataTable = $.fn.dataTable;\r\n\r\n\r\n// Used for namespacing events added to the document by each instance, so they\r\n// can be removed on destroy\r\nvar _instCounter = 0;\r\n\r\n// Button namespacing counter for namespacing events on individual buttons\r\nvar _buttonCounter = 0;\r\n\r\nvar _dtButtons = DataTable.ext.buttons;\r\n\r\n/**\r\n * [Buttons description]\r\n * @param {[type]}\r\n * @param {[type]}\r\n */\r\nvar Buttons = function( dt, config )\r\n{\r\n\t// If there is no config set it to an empty object\r\n\tif ( typeof( config ) === 'undefined' ) {\r\n\t\tconfig = {};\t\r\n\t}\r\n\t\r\n\t// Allow a boolean true for defaults\r\n\tif ( config === true ) {\r\n\t\tconfig = {};\r\n\t}\r\n\r\n\t// For easy configuration of buttons an array can be given\r\n\tif ( $.isArray( config ) ) {\r\n\t\tconfig = { buttons: config };\r\n\t}\r\n\r\n\tthis.c = $.extend( true, {}, Buttons.defaults, config );\r\n\r\n\t// Don't want a deep copy for the buttons\r\n\tif ( config.buttons ) {\r\n\t\tthis.c.buttons = config.buttons;\r\n\t}\r\n\r\n\tthis.s = {\r\n\t\tdt: new DataTable.Api( dt ),\r\n\t\tbuttons: [],\r\n\t\tlistenKeys: '',\r\n\t\tnamespace: 'dtb'+(_instCounter++)\r\n\t};\r\n\r\n\tthis.dom = {\r\n\t\tcontainer: $('<'+this.c.dom.container.tag+'/>')\r\n\t\t\t.addClass( this.c.dom.container.className )\r\n\t};\r\n\r\n\tthis._constructor();\r\n};\r\n\r\n\r\n$.extend( Buttons.prototype, {\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Public methods\r\n\t */\r\n\r\n\t/**\r\n\t * Get the action of a button\r\n\t * @param  {int|string} Button index\r\n\t * @return {function}\r\n\t *//**\r\n\t * Set the action of a button\r\n\t * @param  {node} node Button element\r\n\t * @param  {function} action Function to set\r\n\t * @return {Buttons} Self for chaining\r\n\t */\r\n\taction: function ( node, action )\r\n\t{\r\n\t\tvar button = this._nodeToButton( node );\r\n\r\n\t\tif ( action === undefined ) {\r\n\t\t\treturn button.conf.action;\r\n\t\t}\r\n\r\n\t\tbutton.conf.action = action;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Add an active class to the button to make to look active or get current\r\n\t * active state.\r\n\t * @param  {node} node Button element\r\n\t * @param  {boolean} [flag] Enable / disable flag\r\n\t * @return {Buttons} Self for chaining or boolean for getter\r\n\t */\r\n\tactive: function ( node, flag ) {\r\n\t\tvar button = this._nodeToButton( node );\r\n\t\tvar klass = this.c.dom.button.active;\r\n\t\tvar jqNode = $(button.node);\r\n\r\n\t\tif ( flag === undefined ) {\r\n\t\t\treturn jqNode.hasClass( klass );\r\n\t\t}\r\n\r\n\t\tjqNode.toggleClass( klass, flag === undefined ? true : flag );\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Add a new button\r\n\t * @param {object} config Button configuration object, base string name or function\r\n\t * @param {int|string} [idx] Button index for where to insert the button\r\n\t * @return {Buttons} Self for chaining\r\n\t */\r\n\tadd: function ( config, idx )\r\n\t{\r\n\t\tvar buttons = this.s.buttons;\r\n\r\n\t\tif ( typeof idx === 'string' ) {\r\n\t\t\tvar split = idx.split('-');\r\n\t\t\tvar base = this.s;\r\n\r\n\t\t\tfor ( var i=0, ien=split.length-1 ; i<ien ; i++ ) {\r\n\t\t\t\tbase = base.buttons[ split[i]*1 ];\r\n\t\t\t}\r\n\r\n\t\t\tbuttons = base.buttons;\r\n\t\t\tidx = split[ split.length-1 ]*1;\r\n\t\t}\r\n\r\n\t\tthis._expandButton( buttons, config, false, idx );\r\n\t\tthis._draw();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Get the container node for the buttons\r\n\t * @return {jQuery} Buttons node\r\n\t */\r\n\tcontainer: function ()\r\n\t{\r\n\t\treturn this.dom.container;\r\n\t},\r\n\r\n\t/**\r\n\t * Disable a button\r\n\t * @param  {node} node Button node\r\n\t * @return {Buttons} Self for chaining\r\n\t */\r\n\tdisable: function ( node ) {\r\n\t\tvar button = this._nodeToButton( node );\r\n\r\n\t\t$(button.node).addClass( this.c.dom.button.disabled );\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Destroy the instance, cleaning up event handlers and removing DOM\r\n\t * elements\r\n\t * @return {Buttons} Self for chaining\r\n\t */\r\n\tdestroy: function ()\r\n\t{\r\n\t\t// Key event listener\r\n\t\t$('body').off( 'keyup.'+this.s.namespace );\r\n\r\n\t\t// Individual button destroy (so they can remove their own events if\r\n\t\t// needed). Take a copy as the array is modified by `remove`\r\n\t\tvar buttons = this.s.buttons.slice();\r\n\t\tvar i, ien;\r\n\t\t\r\n\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\tthis.remove( buttons[i].node );\r\n\t\t}\r\n\r\n\t\t// Container\r\n\t\tthis.dom.container.remove();\r\n\r\n\t\t// Remove from the settings object collection\r\n\t\tvar buttonInsts = this.s.dt.settings()[0];\r\n\r\n\t\tfor ( i=0, ien=buttonInsts.length ; i<ien ; i++ ) {\r\n\t\t\tif ( buttonInsts.inst === this ) {\r\n\t\t\t\tbuttonInsts.splice( i, 1 );\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Enable / disable a button\r\n\t * @param  {node} node Button node\r\n\t * @param  {boolean} [flag=true] Enable / disable flag\r\n\t * @return {Buttons} Self for chaining\r\n\t */\r\n\tenable: function ( node, flag )\r\n\t{\r\n\t\tif ( flag === false ) {\r\n\t\t\treturn this.disable( node );\r\n\t\t}\r\n\r\n\t\tvar button = this._nodeToButton( node );\r\n\t\t$(button.node).removeClass( this.c.dom.button.disabled );\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Get the instance name for the button set selector\r\n\t * @return {string} Instance name\r\n\t */\r\n\tname: function ()\r\n\t{\r\n\t\treturn this.c.name;\r\n\t},\r\n\r\n\t/**\r\n\t * Get a button's node\r\n\t * @param  {node} node Button node\r\n\t * @return {jQuery} Button element\r\n\t */\r\n\tnode: function ( node )\r\n\t{\r\n\t\tvar button = this._nodeToButton( node );\r\n\t\treturn $(button.node);\r\n\t},\r\n\r\n\t/**\r\n\t * Set / get a processing class on the selected button\r\n\t * @param  {boolean} flag true to add, false to remove, undefined to get\r\n\t * @return {boolean|Buttons} Getter value or this if a setter.\r\n\t */\r\n\tprocessing: function ( node, flag )\r\n\t{\r\n\t\tvar button = this._nodeToButton( node );\r\n\r\n\t\tif ( flag === undefined ) {\r\n\t\t\treturn $(button.node).hasClass( 'processing' );\r\n\t\t}\r\n\r\n\t\t$(button.node).toggleClass( 'processing', flag );\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Remove a button.\r\n\t * @param  {node} node Button node\r\n\t * @return {Buttons} Self for chaining\r\n\t */\r\n\tremove: function ( node )\r\n\t{\r\n\t\tvar button = this._nodeToButton( node );\r\n\t\tvar host = this._nodeToHost( node );\r\n\t\tvar dt = this.s.dt;\r\n\r\n\t\t// Remove any child buttons first\r\n\t\tif ( button.buttons.length ) {\r\n\t\t\tfor ( var i=button.buttons.length-1 ; i>=0 ; i-- ) {\r\n\t\t\t\tthis.remove( button.buttons[i].node );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Allow the button to remove event handlers, etc\r\n\t\tif ( button.conf.destroy ) {\r\n\t\t\tbutton.conf.destroy.call( dt.button(node), dt, $(node), button.conf );\r\n\t\t}\r\n\r\n\t\tthis._removeKey( button.conf );\r\n\r\n\t\t$(button.node).remove();\r\n\r\n\t\tvar idx = $.inArray( button, host );\r\n\t\thost.splice( idx, 1 );\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t * Get the text for a button\r\n\t * @param  {int|string} node Button index\r\n\t * @return {string} Button text\r\n\t *//**\r\n\t * Set the text for a button\r\n\t * @param  {int|string|function} node Button index\r\n\t * @param  {string} label Text\r\n\t * @return {Buttons} Self for chaining\r\n\t */\r\n\ttext: function ( node, label )\r\n\t{\r\n\t\tvar button = this._nodeToButton( node );\r\n\t\tvar buttonLiner = this.c.dom.collection.buttonLiner;\r\n\t\tvar linerTag = button.inCollection && buttonLiner && buttonLiner.tag ?\r\n\t\t\tbuttonLiner.tag :\r\n\t\t\tthis.c.dom.buttonLiner.tag;\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar jqNode = $(button.node);\r\n\t\tvar text = function ( opt ) {\r\n\t\t\treturn typeof opt === 'function' ?\r\n\t\t\t\topt( dt, jqNode, button.conf ) :\r\n\t\t\t\topt;\r\n\t\t};\r\n\r\n\t\tif ( label === undefined ) {\r\n\t\t\treturn text( button.conf.text );\r\n\t\t}\r\n\r\n\t\tbutton.conf.text = label;\r\n\r\n\t\tif ( linerTag ) {\r\n\t\t\tjqNode.children( linerTag ).html( text(label) );\r\n\t\t}\r\n\t\telse {\r\n\t\t\tjqNode.html( text(label) );\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Constructor\r\n\t */\r\n\r\n\t/**\r\n\t * Buttons constructor\r\n\t * @private\r\n\t */\r\n\t_constructor: function ()\r\n\t{\r\n\t\tvar that = this;\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar dtSettings = dt.settings()[0];\r\n\t\tvar buttons =  this.c.buttons;\r\n\r\n\t\tif ( ! dtSettings._buttons ) {\r\n\t\t\tdtSettings._buttons = [];\r\n\t\t}\r\n\r\n\t\tdtSettings._buttons.push( {\r\n\t\t\tinst: this,\r\n\t\t\tname: this.c.name\r\n\t\t} );\r\n\r\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\tthis.add( buttons[i] );\r\n\t\t}\r\n\r\n\t\tdt.on( 'destroy', function () {\r\n\t\t\tthat.destroy();\r\n\t\t} );\r\n\r\n\t\t// Global key event binding to listen for button keys\r\n\t\t$('body').on( 'keyup.'+this.s.namespace, function ( e ) {\r\n\t\t\tif ( ! document.activeElement || document.activeElement === document.body ) {\r\n\t\t\t\t// SUse a string of characters for fast lookup of if we need to\r\n\t\t\t\t// handle this\r\n\t\t\t\tvar character = String.fromCharCode(e.keyCode).toLowerCase();\r\n\r\n\t\t\t\tif ( that.s.listenKeys.toLowerCase().indexOf( character ) !== -1 ) {\r\n\t\t\t\t\tthat._keypress( character, e );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} );\r\n\t},\r\n\r\n\r\n\t/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n\t * Private methods\r\n\t */\r\n\r\n\t/**\r\n\t * Add a new button to the key press listener\r\n\t * @param {object} conf Resolved button configuration object\r\n\t * @private\r\n\t */\r\n\t_addKey: function ( conf )\r\n\t{\r\n\t\tif ( conf.key ) {\r\n\t\t\tthis.s.listenKeys += $.isPlainObject( conf.key ) ?\r\n\t\t\t\tconf.key.key :\r\n\t\t\t\tconf.key;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Insert the buttons into the container. Call without parameters!\r\n\t * @param  {node} [container] Recursive only - Insert point\r\n\t * @param  {array} [buttons] Recursive only - Buttons array\r\n\t * @private\r\n\t */\r\n\t_draw: function ( container, buttons )\r\n\t{\r\n\t\tif ( ! container ) {\r\n\t\t\tcontainer = this.dom.container;\r\n\t\t\tbuttons = this.s.buttons;\r\n\t\t}\r\n\r\n\t\tcontainer.children().detach();\r\n\r\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\tcontainer.append( buttons[i].inserter );\r\n\t\t\tcontainer.append( ' ' );\r\n\r\n\t\t\tif ( buttons[i].buttons && buttons[i].buttons.length ) {\r\n\t\t\t\tthis._draw( buttons[i].collection, buttons[i].buttons );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Create buttons from an array of buttons\r\n\t * @param  {array} attachTo Buttons array to attach to\r\n\t * @param  {object} button Button definition\r\n\t * @param  {boolean} inCollection true if the button is in a collection\r\n\t * @private\r\n\t */\r\n\t_expandButton: function ( attachTo, button, inCollection, attachPoint )\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar buttonCounter = 0;\r\n\t\tvar buttons = ! $.isArray( button ) ?\r\n\t\t\t[ button ] :\r\n\t\t\tbutton;\r\n\r\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\tvar conf = this._resolveExtends( buttons[i] );\r\n\r\n\t\t\tif ( ! conf ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// If the configuration is an array, then expand the buttons at this\r\n\t\t\t// point\r\n\t\t\tif ( $.isArray( conf ) ) {\r\n\t\t\t\tthis._expandButton( attachTo, conf, inCollection, attachPoint );\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvar built = this._buildButton( conf, inCollection );\r\n\t\t\tif ( ! built ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif ( attachPoint !== undefined ) {\r\n\t\t\t\tattachTo.splice( attachPoint, 0, built );\r\n\t\t\t\tattachPoint++;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tattachTo.push( built );\r\n\t\t\t}\r\n\r\n\t\t\tif ( built.conf.buttons ) {\r\n\t\t\t\tvar collectionDom = this.c.dom.collection;\r\n\t\t\t\tbuilt.collection = $('<'+collectionDom.tag+'/>')\r\n\t\t\t\t\t.addClass( collectionDom.className )\r\n\t\t\t\t\t.attr( 'role', 'menu') ;\r\n\t\t\t\tbuilt.conf._collection = built.collection;\r\n\r\n\t\t\t\tthis._expandButton( built.buttons, built.conf.buttons, true, attachPoint );\r\n\t\t\t}\r\n\r\n\t\t\t// init call is made here, rather than buildButton as it needs to\r\n\t\t\t// be selectable, and for that it needs to be in the buttons array\r\n\t\t\tif ( conf.init ) {\r\n\t\t\t\tconf.init.call( dt.button( built.node ), dt, $(built.node), conf );\r\n\t\t\t}\r\n\r\n\t\t\tbuttonCounter++;\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Create an individual button\r\n\t * @param  {object} config            Resolved button configuration\r\n\t * @param  {boolean} inCollection `true` if a collection button\r\n\t * @return {jQuery} Created button node (jQuery)\r\n\t * @private\r\n\t */\r\n\t_buildButton: function ( config, inCollection )\r\n\t{\r\n\t\tvar buttonDom = this.c.dom.button;\r\n\t\tvar linerDom = this.c.dom.buttonLiner;\r\n\t\tvar collectionDom = this.c.dom.collection;\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar text = function ( opt ) {\r\n\t\t\treturn typeof opt === 'function' ?\r\n\t\t\t\topt( dt, button, config ) :\r\n\t\t\t\topt;\r\n\t\t};\r\n\r\n\t\tif ( inCollection && collectionDom.button ) {\r\n\t\t\tbuttonDom = collectionDom.button;\r\n\t\t}\r\n\r\n\t\tif ( inCollection && collectionDom.buttonLiner ) {\r\n\t\t\tlinerDom = collectionDom.buttonLiner;\r\n\t\t}\r\n\r\n\t\t// Make sure that the button is available based on whatever requirements\r\n\t\t// it has. For example, Flash buttons require Flash\r\n\t\tif ( config.available && ! config.available( dt, config ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar action = function ( e, dt, button, config ) {\r\n\t\t\tconfig.action.call( dt.button( button ), e, dt, button, config );\r\n\r\n\t\t\t$(dt.table().node()).triggerHandler( 'buttons-action.dt', [\r\n\t\t\t\tdt.button( button ), dt, button, config \r\n\t\t\t] );\r\n\t\t};\r\n\r\n\t\tvar button = $('<'+buttonDom.tag+'/>')\r\n\t\t\t.addClass( buttonDom.className )\r\n\t\t\t.attr( 'tabindex', this.s.dt.settings()[0].iTabIndex )\r\n\t\t\t.attr( 'aria-controls', this.s.dt.table().node().id )\r\n\t\t\t.on( 'click.dtb', function (e) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tif ( ! button.hasClass( buttonDom.disabled ) && config.action ) {\r\n\t\t\t\t\taction( e, dt, button, config );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbutton.blur();\r\n\t\t\t} )\r\n\t\t\t.on( 'keyup.dtb', function (e) {\r\n\t\t\t\tif ( e.keyCode === 13 ) {\r\n\t\t\t\t\tif ( ! button.hasClass( buttonDom.disabled ) && config.action ) {\r\n\t\t\t\t\t\taction( e, dt, button, config );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t// Make `a` tags act like a link\r\n\t\tif ( buttonDom.tag.toLowerCase() === 'a' ) {\r\n\t\t\tbutton.attr( 'href', '#' );\r\n\t\t}\r\n\r\n\t\tif ( linerDom.tag ) {\r\n\t\t\tvar liner = $('<'+linerDom.tag+'/>')\r\n\t\t\t\t.html( text( config.text ) )\r\n\t\t\t\t.addClass( linerDom.className );\r\n\r\n\t\t\tif ( linerDom.tag.toLowerCase() === 'a' ) {\r\n\t\t\t\tliner.attr( 'href', '#' );\r\n\t\t\t}\r\n\r\n\t\t\tbutton.append( liner );\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbutton.html( text( config.text ) );\r\n\t\t}\r\n\r\n\t\tif ( config.enabled === false ) {\r\n\t\t\tbutton.addClass( buttonDom.disabled );\r\n\t\t}\r\n\r\n\t\tif ( config.className ) {\r\n\t\t\tbutton.addClass( config.className );\r\n\t\t}\r\n\r\n\t\tif ( config.titleAttr ) {\r\n\t\t\tbutton.attr( 'title', text( config.titleAttr ) );\r\n\t\t}\r\n\r\n\t\tif ( config.attr ) {\r\n\t\t\tbutton.attr( config.attr );\r\n\t\t}\r\n\r\n\t\tif ( ! config.namespace ) {\r\n\t\t\tconfig.namespace = '.dt-button-'+(_buttonCounter++);\r\n\t\t}\r\n\r\n\t\tvar buttonContainer = this.c.dom.buttonContainer;\r\n\t\tvar inserter;\r\n\t\tif ( buttonContainer && buttonContainer.tag ) {\r\n\t\t\tinserter = $('<'+buttonContainer.tag+'/>')\r\n\t\t\t\t.addClass( buttonContainer.className )\r\n\t\t\t\t.append( button );\r\n\t\t}\r\n\t\telse {\r\n\t\t\tinserter = button;\r\n\t\t}\r\n\r\n\t\tthis._addKey( config );\r\n\r\n\t\treturn {\r\n\t\t\tconf:         config,\r\n\t\t\tnode:         button.get(0),\r\n\t\t\tinserter:     inserter,\r\n\t\t\tbuttons:      [],\r\n\t\t\tinCollection: inCollection,\r\n\t\t\tcollection:   null\r\n\t\t};\r\n\t},\r\n\r\n\t/**\r\n\t * Get the button object from a node (recursive)\r\n\t * @param  {node} node Button node\r\n\t * @param  {array} [buttons] Button array, uses base if not defined\r\n\t * @return {object} Button object\r\n\t * @private\r\n\t */\r\n\t_nodeToButton: function ( node, buttons )\r\n\t{\r\n\t\tif ( ! buttons ) {\r\n\t\t\tbuttons = this.s.buttons;\r\n\t\t}\r\n\r\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\tif ( buttons[i].node === node ) {\r\n\t\t\t\treturn buttons[i];\r\n\t\t\t}\r\n\r\n\t\t\tif ( buttons[i].buttons.length ) {\r\n\t\t\t\tvar ret = this._nodeToButton( node, buttons[i].buttons );\r\n\r\n\t\t\t\tif ( ret ) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Get container array for a button from a button node (recursive)\r\n\t * @param  {node} node Button node\r\n\t * @param  {array} [buttons] Button array, uses base if not defined\r\n\t * @return {array} Button's host array\r\n\t * @private\r\n\t */\r\n\t_nodeToHost: function ( node, buttons )\r\n\t{\r\n\t\tif ( ! buttons ) {\r\n\t\t\tbuttons = this.s.buttons;\r\n\t\t}\r\n\r\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\tif ( buttons[i].node === node ) {\r\n\t\t\t\treturn buttons;\r\n\t\t\t}\r\n\r\n\t\t\tif ( buttons[i].buttons.length ) {\r\n\t\t\t\tvar ret = this._nodeToHost( node, buttons[i].buttons );\r\n\r\n\t\t\t\tif ( ret ) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Handle a key press - determine if any button's key configured matches\r\n\t * what was typed and trigger the action if so.\r\n\t * @param  {string} character The character pressed\r\n\t * @param  {object} e Key event that triggered this call\r\n\t * @private\r\n\t */\r\n\t_keypress: function ( character, e )\r\n\t{\r\n\t\t// Check if this button press already activated on another instance of Buttons\r\n\t\tif ( e._buttonsHandled ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar run = function ( conf, node ) {\r\n\t\t\tif ( ! conf.key ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( conf.key === character ) {\r\n\t\t\t\te._buttonsHandled = true;\r\n\t\t\t\t$(node).click();\r\n\t\t\t}\r\n\t\t\telse if ( $.isPlainObject( conf.key ) ) {\r\n\t\t\t\tif ( conf.key.key !== character ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( conf.key.shiftKey && ! e.shiftKey ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( conf.key.altKey && ! e.altKey ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( conf.key.ctrlKey && ! e.ctrlKey ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( conf.key.metaKey && ! e.metaKey ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Made it this far - it is good\r\n\t\t\t\te._buttonsHandled = true;\r\n\t\t\t\t$(node).click();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tvar recurse = function ( a ) {\r\n\t\t\tfor ( var i=0, ien=a.length ; i<ien ; i++ ) {\r\n\t\t\t\trun( a[i].conf, a[i].node );\r\n\r\n\t\t\t\tif ( a[i].buttons.length ) {\r\n\t\t\t\t\trecurse( a[i].buttons );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\trecurse( this.s.buttons );\r\n\t},\r\n\r\n\t/**\r\n\t * Remove a key from the key listener for this instance (to be used when a\r\n\t * button is removed)\r\n\t * @param  {object} conf Button configuration\r\n\t * @private\r\n\t */\r\n\t_removeKey: function ( conf )\r\n\t{\r\n\t\tif ( conf.key ) {\r\n\t\t\tvar character = $.isPlainObject( conf.key ) ?\r\n\t\t\t\tconf.key.key :\r\n\t\t\t\tconf.key;\r\n\r\n\t\t\t// Remove only one character, as multiple buttons could have the\r\n\t\t\t// same listening key\r\n\t\t\tvar a = this.s.listenKeys.split('');\r\n\t\t\tvar idx = $.inArray( character, a );\r\n\t\t\ta.splice( idx, 1 );\r\n\t\t\tthis.s.listenKeys = a.join('');\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Resolve a button configuration\r\n\t * @param  {string|function|object} conf Button config to resolve\r\n\t * @return {object} Button configuration\r\n\t * @private\r\n\t */\r\n\t_resolveExtends: function ( conf )\r\n\t{\r\n\t\tvar dt = this.s.dt;\r\n\t\tvar i, ien;\r\n\t\tvar toConfObject = function ( base ) {\r\n\t\t\tvar loop = 0;\r\n\r\n\t\t\t// Loop until we have resolved to a button configuration, or an\r\n\t\t\t// array of button configurations (which will be iterated\r\n\t\t\t// separately)\r\n\t\t\twhile ( ! $.isPlainObject(base) && ! $.isArray(base) ) {\r\n\t\t\t\tif ( base === undefined ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( typeof base === 'function' ) {\r\n\t\t\t\t\tbase = base( dt, conf );\r\n\r\n\t\t\t\t\tif ( ! base ) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if ( typeof base === 'string' ) {\r\n\t\t\t\t\tif ( ! _dtButtons[ base ] ) {\r\n\t\t\t\t\t\tthrow 'Unknown button type: '+base;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbase = _dtButtons[ base ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tloop++;\r\n\t\t\t\tif ( loop > 30 ) {\r\n\t\t\t\t\t// Protect against misconfiguration killing the browser\r\n\t\t\t\t\tthrow 'Buttons: Too many iterations';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn $.isArray( base ) ?\r\n\t\t\t\tbase :\r\n\t\t\t\t$.extend( {}, base );\r\n\t\t};\r\n\r\n\t\tconf = toConfObject( conf );\r\n\r\n\t\twhile ( conf && conf.extend ) {\r\n\t\t\t// Use `toConfObject` in case the button definition being extended\r\n\t\t\t// is itself a string or a function\r\n\t\t\tif ( ! _dtButtons[ conf.extend ] ) {\r\n\t\t\t\tthrow 'Cannot extend unknown button type: '+conf.extend;\r\n\t\t\t}\r\n\r\n\t\t\tvar objArray = toConfObject( _dtButtons[ conf.extend ] );\r\n\t\t\tif ( $.isArray( objArray ) ) {\r\n\t\t\t\treturn objArray;\r\n\t\t\t}\r\n\t\t\telse if ( ! objArray ) {\r\n\t\t\t\t// This is a little brutal as it might be possible to have a\r\n\t\t\t\t// valid button without the extend, but if there is no extend\r\n\t\t\t\t// then the host button would be acting in an undefined state\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Stash the current class name\r\n\t\t\tvar originalClassName = objArray.className;\r\n\r\n\t\t\tconf = $.extend( {}, objArray, conf );\r\n\r\n\t\t\t// The extend will have overwritten the original class name if the\r\n\t\t\t// `conf` object also assigned a class, but we want to concatenate\r\n\t\t\t// them so they are list that is combined from all extended buttons\r\n\t\t\tif ( originalClassName && conf.className !== originalClassName ) {\r\n\t\t\t\tconf.className = originalClassName+' '+conf.className;\r\n\t\t\t}\r\n\r\n\t\t\t// Buttons to be added to a collection  -gives the ability to define\r\n\t\t\t// if buttons should be added to the start or end of a collection\r\n\t\t\tvar postfixButtons = conf.postfixButtons;\r\n\t\t\tif ( postfixButtons ) {\r\n\t\t\t\tif ( ! conf.buttons ) {\r\n\t\t\t\t\tconf.buttons = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( i=0, ien=postfixButtons.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tconf.buttons.push( postfixButtons[i] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconf.postfixButtons = null;\r\n\t\t\t}\r\n\r\n\t\t\tvar prefixButtons = conf.prefixButtons;\r\n\t\t\tif ( prefixButtons ) {\r\n\t\t\t\tif ( ! conf.buttons ) {\r\n\t\t\t\t\tconf.buttons = [];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( i=0, ien=prefixButtons.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tconf.buttons.splice( i, 0, prefixButtons[i] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconf.prefixButtons = null;\r\n\t\t\t}\r\n\r\n\t\t\t// Although we want the `conf` object to overwrite almost all of\r\n\t\t\t// the properties of the object being extended, the `extend`\r\n\t\t\t// property should come from the object being extended\r\n\t\t\tconf.extend = objArray.extend;\r\n\t\t}\r\n\r\n\t\treturn conf;\r\n\t}\r\n} );\r\n\r\n\r\n\r\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n * Statics\r\n */\r\n\r\n/**\r\n * Show / hide a background layer behind a collection\r\n * @param  {boolean} Flag to indicate if the background should be shown or\r\n *   hidden \r\n * @param  {string} Class to assign to the background\r\n * @static\r\n */\r\nButtons.background = function ( show, className, fade ) {\r\n\tif ( fade === undefined ) {\r\n\t\tfade = 400;\r\n\t}\r\n\r\n\tif ( show ) {\r\n\t\t$('<div/>')\r\n\t\t\t.addClass( className )\r\n\t\t\t.css( 'display', 'none' )\r\n\t\t\t.appendTo( 'body' )\r\n\t\t\t.fadeIn( fade );\r\n\t}\r\n\telse {\r\n\t\t$('body > div.'+className)\r\n\t\t\t.fadeOut( fade, function () {\r\n\t\t\t\t$(this)\r\n\t\t\t\t\t.removeClass( className )\r\n\t\t\t\t\t.remove();\r\n\t\t\t} );\r\n\t}\r\n};\r\n\r\n/**\r\n * Instance selector - select Buttons instances based on an instance selector\r\n * value from the buttons assigned to a DataTable. This is only useful if\r\n * multiple instances are attached to a DataTable.\r\n * @param  {string|int|array} Instance selector - see `instance-selector`\r\n *   documentation on the DataTables site\r\n * @param  {array} Button instance array that was attached to the DataTables\r\n *   settings object\r\n * @return {array} Buttons instances\r\n * @static\r\n */\r\nButtons.instanceSelector = function ( group, buttons )\r\n{\r\n\tif ( ! group ) {\r\n\t\treturn $.map( buttons, function ( v ) {\r\n\t\t\treturn v.inst;\r\n\t\t} );\r\n\t}\r\n\r\n\tvar ret = [];\r\n\tvar names = $.map( buttons, function ( v ) {\r\n\t\treturn v.name;\r\n\t} );\r\n\r\n\t// Flatten the group selector into an array of single options\r\n\tvar process = function ( input ) {\r\n\t\tif ( $.isArray( input ) ) {\r\n\t\t\tfor ( var i=0, ien=input.length ; i<ien ; i++ ) {\r\n\t\t\t\tprocess( input[i] );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( typeof input === 'string' ) {\r\n\t\t\tif ( input.indexOf( ',' ) !== -1 ) {\r\n\t\t\t\t// String selector, list of names\r\n\t\t\t\tprocess( input.split(',') );\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// String selector individual name\r\n\t\t\t\tvar idx = $.inArray( $.trim(input), names );\r\n\r\n\t\t\t\tif ( idx !== -1 ) {\r\n\t\t\t\t\tret.push( buttons[ idx ].inst );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( typeof input === 'number' ) {\r\n\t\t\t// Index selector\r\n\t\t\tret.push( buttons[ input ].inst );\r\n\t\t}\r\n\t};\r\n\t\r\n\tprocess( group );\r\n\r\n\treturn ret;\r\n};\r\n\r\n/**\r\n * Button selector - select one or more buttons from a selector input so some\r\n * operation can be performed on them.\r\n * @param  {array} Button instances array that the selector should operate on\r\n * @param  {string|int|node|jQuery|array} Button selector - see\r\n *   `button-selector` documentation on the DataTables site\r\n * @return {array} Array of objects containing `inst` and `idx` properties of\r\n *   the selected buttons so you know which instance each button belongs to.\r\n * @static\r\n */\r\nButtons.buttonSelector = function ( insts, selector )\r\n{\r\n\tvar ret = [];\r\n\tvar nodeBuilder = function ( a, buttons, baseIdx ) {\r\n\t\tvar button;\r\n\t\tvar idx;\r\n\r\n\t\tfor ( var i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\tbutton = buttons[i];\r\n\r\n\t\t\tif ( button ) {\r\n\t\t\t\tidx = baseIdx !== undefined ?\r\n\t\t\t\t\tbaseIdx+i :\r\n\t\t\t\t\ti+'';\r\n\r\n\t\t\t\ta.push( {\r\n\t\t\t\t\tnode: button.node,\r\n\t\t\t\t\tname: button.conf.name,\r\n\t\t\t\t\tidx:  idx\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tif ( button.buttons ) {\r\n\t\t\t\t\tnodeBuilder( a, button.buttons, idx+'-' );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tvar run = function ( selector, inst ) {\r\n\t\tvar i, ien;\r\n\t\tvar buttons = [];\r\n\t\tnodeBuilder( buttons, inst.s.buttons );\r\n\r\n\t\tvar nodes = $.map( buttons, function (v) {\r\n\t\t\treturn v.node;\r\n\t\t} );\r\n\r\n\t\tif ( $.isArray( selector ) || selector instanceof $ ) {\r\n\t\t\tfor ( i=0, ien=selector.length ; i<ien ; i++ ) {\r\n\t\t\t\trun( selector[i], inst );\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( selector === null || selector === undefined || selector === '*' ) {\r\n\t\t\t// Select all\r\n\t\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\t\tret.push( {\r\n\t\t\t\t\tinst: inst,\r\n\t\t\t\t\tnode: buttons[i].node\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( typeof selector === 'number' ) {\r\n\t\t\t// Main button index selector\r\n\t\t\tret.push( {\r\n\t\t\t\tinst: inst,\r\n\t\t\t\tnode: inst.s.buttons[ selector ].node\r\n\t\t\t} );\r\n\t\t}\r\n\t\telse if ( typeof selector === 'string' ) {\r\n\t\t\tif ( selector.indexOf( ',' ) !== -1 ) {\r\n\t\t\t\t// Split\r\n\t\t\t\tvar a = selector.split(',');\r\n\r\n\t\t\t\tfor ( i=0, ien=a.length ; i<ien ; i++ ) {\r\n\t\t\t\t\trun( $.trim(a[i]), inst );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if ( selector.match( /^\\d+(\\-\\d+)*$/ ) ) {\r\n\t\t\t\t// Sub-button index selector\r\n\t\t\t\tvar indexes = $.map( buttons, function (v) {\r\n\t\t\t\t\treturn v.idx;\r\n\t\t\t\t} );\r\n\r\n\t\t\t\tret.push( {\r\n\t\t\t\t\tinst: inst,\r\n\t\t\t\t\tnode: buttons[ $.inArray( selector, indexes ) ].node\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\telse if ( selector.indexOf( ':name' ) !== -1 ) {\r\n\t\t\t\t// Button name selector\r\n\t\t\t\tvar name = selector.replace( ':name', '' );\r\n\r\n\t\t\t\tfor ( i=0, ien=buttons.length ; i<ien ; i++ ) {\r\n\t\t\t\t\tif ( buttons[i].name === name ) {\r\n\t\t\t\t\t\tret.push( {\r\n\t\t\t\t\t\t\tinst: inst,\r\n\t\t\t\t\t\t\tnode: buttons[i].node\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// jQuery selector on the nodes\r\n\t\t\t\t$( nodes ).filter( selector ).each( function () {\r\n\t\t\t\t\tret.push( {\r\n\t\t\t\t\t\tinst: inst,\r\n\t\t\t\t\t\tnode: this\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if ( typeof selector === 'object' && selector.nodeName ) {\r\n\t\t\t// Node selector\r\n\t\t\tvar idx = $.inArray( selector, nodes );\r\n\r\n\t\t\tif ( idx !== -1 ) {\r\n\t\t\t\tret.push( {\r\n\t\t\t\t\tinst: inst,\r\n\t\t\t\t\tnode: nodes[ idx ]\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tfor ( var i=0, ien=insts.length ; i<ien ; i++ ) {\r\n\t\tvar inst = insts[i];\r\n\r\n\t\trun( selector, inst );\r\n\t}\r\n\r\n\treturn ret;\r\n};\r\n\r\n\r\n/**\r\n * Buttons defaults. For full documentation, please refer to the docs/option\r\n * directory or the DataTables site.\r\n * @type {Object}\r\n * @static\r\n */\r\nButtons.defaults = {\r\n\tbuttons: [ 'copy', 'excel', 'csv', 'pdf', 'print' ],\r\n\tname: 'main',\r\n\ttabIndex: 0,\r\n\tdom: {\r\n\t\tcontainer: {\r\n\t\t\ttag: 'div',\r\n\t\t\tclassName: 'dt-buttons'\r\n\t\t},\r\n\t\tcollection: {\r\n\t\t\ttag: 'div',\r\n\t\t\tclassName: 'dt-button-collection'\r\n\t\t},\r\n\t\tbutton: {\r\n\t\t\ttag: 'button',\r\n\t\t\tclassName: 'dt-button',\r\n\t\t\tactive: 'active',\r\n\t\t\tdisabled: 'disabled'\r\n\t\t},\r\n\t\tbuttonLiner: {\r\n\t\t\ttag: 'span',\r\n\t\t\tclassName: ''\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * Version information\r\n * @type {string}\r\n * @static\r\n */\r\nButtons.version = '1.5.1';\r\n\r\n\r\n$.extend( _dtButtons, {\r\n\tcollection: {\r\n\t\ttext: function ( dt ) {\r\n\t\t\treturn dt.i18n( 'buttons.collection', 'Collection' );\r\n\t\t},\r\n\t\tclassName: 'buttons-collection',\r\n\t\taction: function ( e, dt, button, config ) {\r\n\t\t\tvar host = button;\r\n\t\t\tvar collectionParent = $(button).parents('div.dt-button-collection');\r\n\t\t\tvar hostPosition = host.position();\r\n\t\t\tvar tableContainer = $( dt.table().container() );\r\n\t\t\tvar multiLevel = false;\r\n\t\t\tvar insertPoint = host;\r\n\r\n\t\t\t// Remove any old collection\r\n\t\t\tif ( collectionParent.length ) {\r\n\t\t\t\tmultiLevel = $('.dt-button-collection').position();\r\n\t\t\t\tinsertPoint = collectionParent;\r\n\t\t\t\t$('body').trigger( 'click.dtb-collection' );\r\n\t\t\t}\r\n\r\n\t\t\tconfig._collection\r\n\t\t\t\t.addClass( config.collectionLayout )\r\n\t\t\t\t.css( 'display', 'none' )\r\n\t\t\t\t.insertAfter( insertPoint )\r\n\t\t\t\t.fadeIn( config.fade );\r\n\t\t\t\r\n\r\n\t\t\tvar position = config._collection.css( 'position' );\r\n\r\n\t\t\tif ( multiLevel && position === 'absolute' ) {\r\n\t\t\t\tconfig._collection.css( {\r\n\t\t\t\t\ttop: multiLevel.top,\r\n\t\t\t\t\tleft: multiLevel.left\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\telse if ( position === 'absolute' ) {\r\n\t\t\t\tconfig._collection.css( {\r\n\t\t\t\t\ttop: hostPosition.top + host.outerHeight(),\r\n\t\t\t\t\tleft: hostPosition.left\r\n\t\t\t\t} );\r\n\r\n\t\t\t\t// calculate overflow when positioned beneath\r\n\t\t\t\tvar tableBottom = tableContainer.offset().top + tableContainer.height();\r\n\t\t\t\tvar listBottom = hostPosition.top + host.outerHeight() + config._collection.outerHeight();\r\n\t\t\t\tvar bottomOverflow = listBottom - tableBottom;\r\n\t\t\t\t\r\n\t\t\t\t// calculate overflow when positioned above\r\n\t\t\t\tvar listTop = hostPosition.top - config._collection.outerHeight();\r\n\t\t\t\tvar tableTop = tableContainer.offset().top;\r\n\t\t\t\tvar topOverflow = tableTop - listTop;\r\n\t\t\t\t\r\n\t\t\t\t// if bottom overflow is larger, move to the top because it fits better\r\n\t\t\t\tif (bottomOverflow > topOverflow) {\r\n\t\t\t\t\tconfig._collection.css( 'top', hostPosition.top - config._collection.outerHeight() - 5);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar listRight = hostPosition.left + config._collection.outerWidth();\r\n\t\t\t\tvar tableRight = tableContainer.offset().left + tableContainer.width();\r\n\t\t\t\tif ( listRight > tableRight ) {\r\n\t\t\t\t\tconfig._collection.css( 'left', hostPosition.left - ( listRight - tableRight ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// Fix position - centre on screen\r\n\t\t\t\tvar top = config._collection.height() / 2;\r\n\t\t\t\tif ( top > $(window).height() / 2 ) {\r\n\t\t\t\t\ttop = $(window).height() / 2;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconfig._collection.css( 'marginTop', top*-1 );\r\n\t\t\t}\r\n\r\n\t\t\tif ( config.background ) {\r\n\t\t\t\tButtons.background( true, config.backgroundClassName, config.fade );\r\n\t\t\t}\r\n\r\n\t\t\t// Need to break the 'thread' for the collection button being\r\n\t\t\t// activated by a click - it would also trigger this event\r\n\t\t\tsetTimeout( function () {\r\n\t\t\t\t// This is bonkers, but if we don't have a click listener on the\r\n\t\t\t\t// background element, iOS Safari will ignore the body click\r\n\t\t\t\t// listener below. An empty function here is all that is\r\n\t\t\t\t// required to make it work...\r\n\t\t\t\t$('div.dt-button-background').on( 'click.dtb-collection', function () {} );\r\n\r\n\t\t\t\t$('body').on( 'click.dtb-collection', function (e) {\r\n\t\t\t\t\t// andSelf is deprecated in jQ1.8, but we want 1.7 compat\r\n\t\t\t\t\tvar back = $.fn.addBack ? 'addBack' : 'andSelf';\r\n\r\n\t\t\t\t\tif ( ! $(e.target).parents()[back]().filter( config._collection ).length ) {\r\n\t\t\t\t\t\tconfig._collection\r\n\t\t\t\t\t\t\t.fadeOut( config.fade, function () {\r\n\t\t\t\t\t\t\t\tconfig._collection.detach();\r\n\t\t\t\t\t\t\t} );\r\n\r\n\t\t\t\t\t\t$('div.dt-button-background').off( 'click.dtb-collection' );\r\n\t\t\t\t\t\tButtons.background( false, config.backgroundClassName, config.fade );\r\n\r\n\t\t\t\t\t\t$('body').off( 'click.dtb-collection' );\r\n\t\t\t\t\t\tdt.off( 'buttons-action.b-internal' );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t}, 10 );\r\n\r\n\t\t\tif ( config.autoClose ) {\r\n\t\t\t\tdt.on( 'buttons-action.b-internal', function () {\r\n\t\t\t\t\t$('div.dt-button-background').click();\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t},\r\n\t\tbackground: true,\r\n\t\tcollectionLayout: '',\r\n\t\tbackgroundClassName: 'dt-button-background',\r\n\t\tautoClose: false,\r\n\t\tfade: 400,\r\n\t\tattr: {\r\n\t\t\t'aria-haspopup': true\r\n\t\t}\r\n\t},\r\n\tcopy: function ( dt, conf ) {\r\n\t\tif ( _dtButtons.copyHtml5 ) {\r\n\t\t\treturn 'copyHtml5';\r\n\t\t}\r\n\t\tif ( _dtButtons.copyFlash && _dtButtons.copyFlash.available( dt, conf ) ) {\r\n\t\t\treturn 'copyFlash';\r\n\t\t}\r\n\t},\r\n\tcsv: function ( dt, conf ) {\r\n\t\t// Common option that will use the HTML5 or Flash export buttons\r\n\t\tif ( _dtButtons.csvHtml5 && _dtButtons.csvHtml5.available( dt, conf ) ) {\r\n\t\t\treturn 'csvHtml5';\r\n\t\t}\r\n\t\tif ( _dtButtons.csvFlash && _dtButtons.csvFlash.available( dt, conf ) ) {\r\n\t\t\treturn 'csvFlash';\r\n\t\t}\r\n\t},\r\n\texcel: function ( dt, conf ) {\r\n\t\t// Common option that will use the HTML5 or Flash export buttons\r\n\t\tif ( _dtButtons.excelHtml5 && _dtButtons.excelHtml5.available( dt, conf ) ) {\r\n\t\t\treturn 'excelHtml5';\r\n\t\t}\r\n\t\tif ( _dtButtons.excelFlash && _dtButtons.excelFlash.available( dt, conf ) ) {\r\n\t\t\treturn 'excelFlash';\r\n\t\t}\r\n\t},\r\n\tpdf: function ( dt, conf ) {\r\n\t\t// Common option that will use the HTML5 or Flash export buttons\r\n\t\tif ( _dtButtons.pdfHtml5 && _dtButtons.pdfHtml5.available( dt, conf ) ) {\r\n\t\t\treturn 'pdfHtml5';\r\n\t\t}\r\n\t\tif ( _dtButtons.pdfFlash && _dtButtons.pdfFlash.available( dt, conf ) ) {\r\n\t\t\treturn 'pdfFlash';\r\n\t\t}\r\n\t},\r\n\tpageLength: function ( dt ) {\r\n\t\tvar lengthMenu = dt.settings()[0].aLengthMenu;\r\n\t\tvar vals = $.isArray( lengthMenu[0] ) ? lengthMenu[0] : lengthMenu;\r\n\t\tvar lang = $.isArray( lengthMenu[0] ) ? lengthMenu[1] : lengthMenu;\r\n\t\tvar text = function ( dt ) {\r\n\t\t\treturn dt.i18n( 'buttons.pageLength', {\r\n\t\t\t\t\"-1\": 'Show all rows',\r\n\t\t\t\t_:    'Show %d rows'\r\n\t\t\t}, dt.page.len() );\r\n\t\t};\r\n\r\n\t\treturn {\r\n\t\t\textend: 'collection',\r\n\t\t\ttext: text,\r\n\t\t\tclassName: 'buttons-page-length',\r\n\t\t\tautoClose: true,\r\n\t\t\tbuttons: $.map( vals, function ( val, i ) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttext: lang[i],\r\n\t\t\t\t\tclassName: 'button-page-length',\r\n\t\t\t\t\taction: function ( e, dt ) {\r\n\t\t\t\t\t\tdt.page.len( val ).draw();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinit: function ( dt, node, conf ) {\r\n\t\t\t\t\t\tvar that = this;\r\n\t\t\t\t\t\tvar fn = function () {\r\n\t\t\t\t\t\t\tthat.active( dt.page.len() === val );\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tdt.on( 'length.dt'+conf.namespace, fn );\r\n\t\t\t\t\t\tfn();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdestroy: function ( dt, node, conf ) {\r\n\t\t\t\t\t\tdt.off( 'length.dt'+conf.namespace );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t} ),\r\n\t\t\tinit: function ( dt, node, conf ) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tdt.on( 'length.dt'+conf.namespace, function () {\r\n\t\t\t\t\tthat.text( text( dt ) );\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\t\t\tdestroy: function ( dt, node, conf ) {\r\n\t\t\t\tdt.off( 'length.dt'+conf.namespace );\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n} );\r\n\r\n\r\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n * DataTables API\r\n *\r\n * For complete documentation, please refer to the docs/api directory or the\r\n * DataTables site\r\n */\r\n\r\n// Buttons group and individual button selector\r\nDataTable.Api.register( 'buttons()', function ( group, selector ) {\r\n\t// Argument shifting\r\n\tif ( selector === undefined ) {\r\n\t\tselector = group;\r\n\t\tgroup = undefined;\r\n\t}\r\n\r\n\tthis.selector.buttonGroup = group;\r\n\r\n\tvar res = this.iterator( true, 'table', function ( ctx ) {\r\n\t\tif ( ctx._buttons ) {\r\n\t\t\treturn Buttons.buttonSelector(\r\n\t\t\t\tButtons.instanceSelector( group, ctx._buttons ),\r\n\t\t\t\tselector\r\n\t\t\t);\r\n\t\t}\r\n\t}, true );\r\n\r\n\tres._groupSelector = group;\r\n\treturn res;\r\n} );\r\n\r\n// Individual button selector\r\nDataTable.Api.register( 'button()', function ( group, selector ) {\r\n\t// just run buttons() and truncate\r\n\tvar buttons = this.buttons( group, selector );\r\n\r\n\tif ( buttons.length > 1 ) {\r\n\t\tbuttons.splice( 1, buttons.length );\r\n\t}\r\n\r\n\treturn buttons;\r\n} );\r\n\r\n// Active buttons\r\nDataTable.Api.registerPlural( 'buttons().active()', 'button().active()', function ( flag ) {\r\n\tif ( flag === undefined ) {\r\n\t\treturn this.map( function ( set ) {\r\n\t\t\treturn set.inst.active( set.node );\r\n\t\t} );\r\n\t}\r\n\r\n\treturn this.each( function ( set ) {\r\n\t\tset.inst.active( set.node, flag );\r\n\t} );\r\n} );\r\n\r\n// Get / set button action\r\nDataTable.Api.registerPlural( 'buttons().action()', 'button().action()', function ( action ) {\r\n\tif ( action === undefined ) {\r\n\t\treturn this.map( function ( set ) {\r\n\t\t\treturn set.inst.action( set.node );\r\n\t\t} );\r\n\t}\r\n\r\n\treturn this.each( function ( set ) {\r\n\t\tset.inst.action( set.node, action );\r\n\t} );\r\n} );\r\n\r\n// Enable / disable buttons\r\nDataTable.Api.register( ['buttons().enable()', 'button().enable()'], function ( flag ) {\r\n\treturn this.each( function ( set ) {\r\n\t\tset.inst.enable( set.node, flag );\r\n\t} );\r\n} );\r\n\r\n// Disable buttons\r\nDataTable.Api.register( ['buttons().disable()', 'button().disable()'], function () {\r\n\treturn this.each( function ( set ) {\r\n\t\tset.inst.disable( set.node );\r\n\t} );\r\n} );\r\n\r\n// Get button nodes\r\nDataTable.Api.registerPlural( 'buttons().nodes()', 'button().node()', function () {\r\n\tvar jq = $();\r\n\r\n\t// jQuery will automatically reduce duplicates to a single entry\r\n\t$( this.each( function ( set ) {\r\n\t\tjq = jq.add( set.inst.node( set.node ) );\r\n\t} ) );\r\n\r\n\treturn jq;\r\n} );\r\n\r\n// Get / set button processing state\r\nDataTable.Api.registerPlural( 'buttons().processing()', 'button().processing()', function ( flag ) {\r\n\tif ( flag === undefined ) {\r\n\t\treturn this.map( function ( set ) {\r\n\t\t\treturn set.inst.processing( set.node );\r\n\t\t} );\r\n\t}\r\n\r\n\treturn this.each( function ( set ) {\r\n\t\tset.inst.processing( set.node, flag );\r\n\t} );\r\n} );\r\n\r\n// Get / set button text (i.e. the button labels)\r\nDataTable.Api.registerPlural( 'buttons().text()', 'button().text()', function ( label ) {\r\n\tif ( label === undefined ) {\r\n\t\treturn this.map( function ( set ) {\r\n\t\t\treturn set.inst.text( set.node );\r\n\t\t} );\r\n\t}\r\n\r\n\treturn this.each( function ( set ) {\r\n\t\tset.inst.text( set.node, label );\r\n\t} );\r\n} );\r\n\r\n// Trigger a button's action\r\nDataTable.Api.registerPlural( 'buttons().trigger()', 'button().trigger()', function () {\r\n\treturn this.each( function ( set ) {\r\n\t\tset.inst.node( set.node ).trigger( 'click' );\r\n\t} );\r\n} );\r\n\r\n// Get the container elements\r\nDataTable.Api.registerPlural( 'buttons().containers()', 'buttons().container()', function () {\r\n\tvar jq = $();\r\n\tvar groupSelector = this._groupSelector;\r\n\r\n\t// We need to use the group selector directly, since if there are no buttons\r\n\t// the result set will be empty\r\n\tthis.iterator( true, 'table', function ( ctx ) {\r\n\t\tif ( ctx._buttons ) {\r\n\t\t\tvar insts = Buttons.instanceSelector( groupSelector, ctx._buttons );\r\n\r\n\t\t\tfor ( var i=0, ien=insts.length ; i<ien ; i++ ) {\r\n\t\t\t\tjq = jq.add( insts[i].container() );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\treturn jq;\r\n} );\r\n\r\n// Add a new button\r\nDataTable.Api.register( 'button().add()', function ( idx, conf ) {\r\n\tvar ctx = this.context;\r\n\r\n\t// Don't use `this` as it could be empty - select the instances directly\r\n\tif ( ctx.length ) {\r\n\t\tvar inst = Buttons.instanceSelector( this._groupSelector, ctx[0]._buttons );\r\n\r\n\t\tif ( inst.length ) {\r\n\t\t\tinst[0].add( conf, idx );\r\n\t\t}\r\n\t}\r\n\r\n\treturn this.button( this._groupSelector, idx );\r\n} );\r\n\r\n// Destroy the button sets selected\r\nDataTable.Api.register( 'buttons().destroy()', function () {\r\n\tthis.pluck( 'inst' ).unique().each( function ( inst ) {\r\n\t\tinst.destroy();\r\n\t} );\r\n\r\n\treturn this;\r\n} );\r\n\r\n// Remove a button\r\nDataTable.Api.registerPlural( 'buttons().remove()', 'buttons().remove()', function () {\r\n\tthis.each( function ( set ) {\r\n\t\tset.inst.remove( set.node );\r\n\t} );\r\n\r\n\treturn this;\r\n} );\r\n\r\n// Information box that can be used by buttons\r\nvar _infoTimer;\r\nDataTable.Api.register( 'buttons.info()', function ( title, message, time ) {\r\n\tvar that = this;\r\n\r\n\tif ( title === false ) {\r\n\t\t$('#datatables_buttons_info').fadeOut( function () {\r\n\t\t\t$(this).remove();\r\n\t\t} );\r\n\t\tclearTimeout( _infoTimer );\r\n\t\t_infoTimer = null;\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\tif ( _infoTimer ) {\r\n\t\tclearTimeout( _infoTimer );\r\n\t}\r\n\r\n\tif ( $('#datatables_buttons_info').length ) {\r\n\t\t$('#datatables_buttons_info').remove();\r\n\t}\r\n\r\n\ttitle = title ? '<h2>'+title+'</h2>' : '';\r\n\r\n\t$('<div id=\"datatables_buttons_info\" class=\"dt-button-info\"/>')\r\n\t\t.html( title )\r\n\t\t.append( $('<div/>')[ typeof message === 'string' ? 'html' : 'append' ]( message ) )\r\n\t\t.css( 'display', 'none' )\r\n\t\t.appendTo( 'body' )\r\n\t\t.fadeIn();\r\n\r\n\tif ( time !== undefined && time !== 0 ) {\r\n\t\t_infoTimer = setTimeout( function () {\r\n\t\t\tthat.buttons.info( false );\r\n\t\t}, time );\r\n\t}\r\n\r\n\treturn this;\r\n} );\r\n\r\n// Get data from the table for export - this is common to a number of plug-in\r\n// buttons so it is included in the Buttons core library\r\nDataTable.Api.register( 'buttons.exportData()', function ( options ) {\r\n\tif ( this.context.length ) {\r\n\t\treturn _exportData( new DataTable.Api( this.context[0] ), options );\r\n\t}\r\n} );\r\n\r\n// Get information about the export that is common to many of the export data\r\n// types (DRY)\r\nDataTable.Api.register( 'buttons.exportInfo()', function ( conf ) {\r\n\tif ( ! conf ) {\r\n\t\tconf = {};\r\n\t}\r\n\r\n\treturn {\r\n\t\tfilename: _filename( conf ),\r\n\t\ttitle: _title( conf ),\r\n\t\tmessageTop: _message(this, conf.message || conf.messageTop, 'top'),\r\n\t\tmessageBottom: _message(this, conf.messageBottom, 'bottom')\r\n\t};\r\n} );\r\n\r\n\r\n\r\n/**\r\n * Get the file name for an exported file.\r\n *\r\n * @param {object}\tconfig Button configuration\r\n * @param {boolean} incExtension Include the file name extension\r\n */\r\nvar _filename = function ( config )\r\n{\r\n\t// Backwards compatibility\r\n\tvar filename = config.filename === '*' && config.title !== '*' && config.title !== undefined && config.title !== null && config.title !== '' ?\r\n\t\tconfig.title :\r\n\t\tconfig.filename;\r\n\r\n\tif ( typeof filename === 'function' ) {\r\n\t\tfilename = filename();\r\n\t}\r\n\r\n\tif ( filename === undefined || filename === null ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif ( filename.indexOf( '*' ) !== -1 ) {\r\n\t\tfilename = $.trim( filename.replace( '*', $('head > title').text() ) );\r\n\t}\r\n\r\n\t// Strip characters which the OS will object to\r\n\tfilename = filename.replace(/[^a-zA-Z0-9_\\u00A1-\\uFFFF\\.,\\-_ !\\(\\)]/g, \"\");\r\n\r\n\tvar extension = _stringOrFunction( config.extension );\r\n\tif ( ! extension ) {\r\n\t\textension = '';\r\n\t}\r\n\r\n\treturn filename + extension;\r\n};\r\n\r\n/**\r\n * Simply utility method to allow parameters to be given as a function\r\n *\r\n * @param {undefined|string|function} option Option\r\n * @return {null|string} Resolved value\r\n */\r\nvar _stringOrFunction = function ( option )\r\n{\r\n\tif ( option === null || option === undefined ) {\r\n\t\treturn null;\r\n\t}\r\n\telse if ( typeof option === 'function' ) {\r\n\t\treturn option();\r\n\t}\r\n\treturn option;\r\n};\r\n\r\n/**\r\n * Get the title for an exported file.\r\n *\r\n * @param {object} config\tButton configuration\r\n */\r\nvar _title = function ( config )\r\n{\r\n\tvar title = _stringOrFunction( config.title );\r\n\r\n\treturn title === null ?\r\n\t\tnull : title.indexOf( '*' ) !== -1 ?\r\n\t\t\ttitle.replace( '*', $('head > title').text() || 'Exported data' ) :\r\n\t\t\ttitle;\r\n};\r\n\r\nvar _message = function ( dt, option, position )\r\n{\r\n\tvar message = _stringOrFunction( option );\r\n\tif ( message === null ) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar caption = $('caption', dt.table().container()).eq(0);\r\n\tif ( message === '*' ) {\r\n\t\tvar side = caption.css( 'caption-side' );\r\n\t\tif ( side !== position ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn caption.length ?\r\n\t\t\tcaption.text() :\r\n\t\t\t'';\r\n\t}\r\n\r\n\treturn message;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nvar _exportTextarea = $('<textarea/>')[0];\r\nvar _exportData = function ( dt, inOpts )\r\n{\r\n\tvar config = $.extend( true, {}, {\r\n\t\trows:           null,\r\n\t\tcolumns:        '',\r\n\t\tmodifier:       {\r\n\t\t\tsearch: 'applied',\r\n\t\t\torder:  'applied'\r\n\t\t},\r\n\t\torthogonal:     'display',\r\n\t\tstripHtml:      true,\r\n\t\tstripNewlines:  true,\r\n\t\tdecodeEntities: true,\r\n\t\ttrim:           true,\r\n\t\tformat:         {\r\n\t\t\theader: function ( d ) {\r\n\t\t\t\treturn strip( d );\r\n\t\t\t},\r\n\t\t\tfooter: function ( d ) {\r\n\t\t\t\treturn strip( d );\r\n\t\t\t},\r\n\t\t\tbody: function ( d ) {\r\n\t\t\t\treturn strip( d );\r\n\t\t\t}\r\n\t\t}\r\n\t}, inOpts );\r\n\r\n\tvar strip = function ( str ) {\r\n\t\tif ( typeof str !== 'string' ) {\r\n\t\t\treturn str;\r\n\t\t}\r\n\r\n\t\t// Always remove script tags\r\n\t\tstr = str.replace( /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi, '' );\r\n\r\n\t\tif ( config.stripHtml ) {\r\n\t\t\tstr = str.replace( /<[^>]*>/g, '' );\r\n\t\t}\r\n\r\n\t\tif ( config.trim ) {\r\n\t\t\tstr = str.replace( /^\\s+|\\s+$/g, '' );\r\n\t\t}\r\n\r\n\t\tif ( config.stripNewlines ) {\r\n\t\t\tstr = str.replace( /\\n/g, ' ' );\r\n\t\t}\r\n\r\n\t\tif ( config.decodeEntities ) {\r\n\t\t\t_exportTextarea.innerHTML = str;\r\n\t\t\tstr = _exportTextarea.value;\r\n\t\t}\r\n\r\n\t\treturn str;\r\n\t};\r\n\r\n\r\n\tvar header = dt.columns( config.columns ).indexes().map( function (idx) {\r\n\t\tvar el = dt.column( idx ).header();\r\n\t\treturn config.format.header( el.innerHTML, idx, el );\r\n\t} ).toArray();\r\n\r\n\tvar footer = dt.table().footer() ?\r\n\t\tdt.columns( config.columns ).indexes().map( function (idx) {\r\n\t\t\tvar el = dt.column( idx ).footer();\r\n\t\t\treturn config.format.footer( el ? el.innerHTML : '', idx, el );\r\n\t\t} ).toArray() :\r\n\t\tnull;\r\n\t\r\n\t// If Select is available on this table, and any rows are selected, limit the export\r\n\t// to the selected rows. If no rows are selected, all rows will be exported. Specify\r\n\t// a `selected` modifier to control directly.\r\n\tvar modifier = $.extend( {}, config.modifier );\r\n\tif ( dt.select && typeof dt.select.info === 'function' && modifier.selected === undefined ) {\r\n\t\tif ( dt.rows( config.rows, $.extend( { selected: true }, modifier ) ).any() ) {\r\n\t\t\t$.extend( modifier, { selected: true } )\r\n\t\t}\r\n\t}\r\n\r\n\tvar rowIndexes = dt.rows( config.rows, modifier ).indexes().toArray();\r\n\tvar selectedCells = dt.cells( rowIndexes, config.columns );\r\n\tvar cells = selectedCells\r\n\t\t.render( config.orthogonal )\r\n\t\t.toArray();\r\n\tvar cellNodes = selectedCells\r\n\t\t.nodes()\r\n\t\t.toArray();\r\n\r\n\tvar columns = header.length;\r\n\tvar rows = columns > 0 ? cells.length / columns : 0;\r\n\tvar body = [ rows ];\r\n\tvar cellCounter = 0;\r\n\r\n\tfor ( var i=0, ien=rows ; i<ien ; i++ ) {\r\n\t\tvar row = [ columns ];\r\n\r\n\t\tfor ( var j=0 ; j<columns ; j++ ) {\r\n\t\t\trow[j] = config.format.body( cells[ cellCounter ], i, j, cellNodes[ cellCounter ] );\r\n\t\t\tcellCounter++;\r\n\t\t}\r\n\r\n\t\tbody[i] = row;\r\n\t}\r\n\r\n\treturn {\r\n\t\theader: header,\r\n\t\tfooter: footer,\r\n\t\tbody:   body\r\n\t};\r\n};\r\n\r\n\r\n/* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *\r\n * DataTables interface\r\n */\r\n\r\n// Attach to DataTables objects for global access\r\n$.fn.dataTable.Buttons = Buttons;\r\n$.fn.DataTable.Buttons = Buttons;\r\n\r\n\r\n\r\n// DataTables creation - check if the buttons have been defined for this table,\r\n// they will have been if the `B` option was used in `dom`, otherwise we should\r\n// create the buttons instance here so they can be inserted into the document\r\n// using the API. Listen for `init` for compatibility with pre 1.10.10, but to\r\n// be removed in future.\r\n$(document).on( 'init.dt plugin-init.dt', function (e, settings) {\r\n\tif ( e.namespace !== 'dt' ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar opts = settings.oInit.buttons || DataTable.defaults.buttons;\r\n\r\n\tif ( opts && ! settings._buttons ) {\r\n\t\tnew Buttons( settings, opts ).container();\r\n\t}\r\n} );\r\n\r\n// DataTables `dom` feature option\r\nDataTable.ext.feature.push( {\r\n\tfnInit: function( settings ) {\r\n\t\tvar api = new DataTable.Api( settings );\r\n\t\tvar opts = api.init().buttons || DataTable.defaults.buttons;\r\n\r\n\t\treturn new Buttons( api, opts ).container();\r\n\t},\r\n\tcFeature: \"B\"\r\n} );\r\n\r\n\r\nreturn Buttons;\r\n}));\r\n"],"file":"dataTables.buttons.min.js"}