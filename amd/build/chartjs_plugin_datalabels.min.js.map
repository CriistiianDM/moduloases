{"version":3,"sources":["../src/chartjs_plugin_datalabels.js"],"names":["global","factory","exports","module","require","define","amd","ChartDataLabels","Chart","hasOwnProperty","helpers","devicePixelRatio","window","screen","deviceXDPI","logicalXDPI","utils","toTextLines","inputs","lines","input","concat","length","pop","unshift","apply","split","Array","isArray","push","isNullOrUndef","toFontString","font","size","family","style","weight","textSize","ctx","items","ilen","prev","width","i","string","Math","max","measureText","height","lineHeight","parseFont","value","defaults","valueOrDefault","defaultFontSize","defaultFontFamily","options","toLineHeight","defaultFontStyle","bound","min","arrayDiff","a0","a1","slice","updates","j","v","indexOf","splice","rasterize","round","orient","point","origin","x0","x","y0","y","dx","dy","ln","sqrt","aligned","vx","vy","align","PI","cos","sin","R_LEFT","R_RIGHT","R_BOTTOM","R_TOP","region","rect","res","left","right","top","bottom","clipped","segment","area","x1","y1","r0","r1","r","compute","range","config","anchor","clamp","positioners","arc","vm","angle","startAngle","endAngle","innerRadius","outerRadius","rx","radius","ry","sx","sy","horizontal","base","abs","fallback","helpers$1","boundingRects","model","borderWidth","padding","th","tw","tx","ty","frame","w","h","text","getScaleOrigin","el","_model","scale","_scale","_xScale","_yScale","xCenter","yCenter","pixel","getBasePixel","getPositioner","elements","Arc","Point","Rectangle","drawFrame","bgColor","backgroundColor","borderColor","beginPath","canvas","roundedRect","borderRadius","closePath","fillStyle","fill","strokeStyle","lineWidth","lineJoin","stroke","textGeometry","drawTextLine","cfg","shadow","shadowBlur","stroked","strokeText","filled","fillText","drawText","textAlign","color","strokeColor","textStrokeColor","strokeWidth","textStrokeWidth","textBaseline","textShadowBlur","shadowColor","textShadowColor","Label","index","me","_config","_index","_rects","_ctx","_el","extend","prototype","_modelize","display","context","resolve","defaultFontColor","chart","chartArea","clip","offset","opacity","toPadding","positioner","rotation","update","rects","label","dataset","data","callback","formatter","geometry","visible","draw","center","save","globalAlpha","translate","rotate","restore","helpers$2","MIN_INTEGER","Number","MIN_SAFE_INTEGER","MAX_INTEGER","MAX_SAFE_INTEGER","rotated","cx","cy","projected","points","axis","pt","dp","toAxis","p0","p1","HitBox","_rotation","_rect","contains","margin","intersects","other","_points","axes","pr0","pr1","coordinates","view","vs","collide","labels","collider","s0","s1","$layout","_visible","_box","compute$1","state","h0","_hidable","h1","layout","prepare","datasets","jlen","_set","_idx","sort","a","b","sa","sb","dirty","lookup","_view","helpers$3","keys","klen","k","isObject","Object","listeners","helpers$4","EXPANDO_KEY","plugins","datalabels","configure","override","merge","dispatchEvent","target","$context","_dirty","dispatchMoveEvents","previous","enter","leave","handleMoveEvents","event","expando","_listeners","type","_labels","_hovered","handleClickEvents","handlers","click","plugin","id","beforeInit","_actives","beforeUpdate","_listened","_datasets","afterDatasetUpdate","args","datasetIndex","isDatasetVisible","meta","hidden","skip","active","dataIndex","merger","key","source","afterUpdate","afterDatasetsDraw","beforeEvent","afterEvent","actives","lastActive","animating","render","register"],"mappings":"yQAUC,UAAUA,CAAV,CAAkBC,CAAlB,CAA2B,CACT,QAAnB,uBAAOC,CAAAA,OAAP,qBAAOA,OAAP,IAAiD,WAAlB,QAAOC,CAAAA,MAAtC,CAA+DA,MAAM,CAACD,OAAP,CAAiBD,CAAO,CAACG,OAAO,CAAC,kBAAD,CAAR,CAAvF,CACkB,UAAlB,QAAOC,CAAAA,MAAP,EAAgCA,MAAM,CAACC,GAAvC,CAA6CD,OAAM,wCAAC,CAAC,kBAAD,CAAD,CAAuBJ,CAAvB,CAAnD,CACCD,CAAM,CAACO,eAAP,CAAyBN,CAAO,CAACD,CAAM,CAACQ,KAAR,CAChC,CAJA,EAIC,IAJD,CAIQ,SAAUA,CAAV,CAAiB,CAAE,aAE5BA,CAAK,CAAGA,CAAK,EAAIA,CAAK,CAACC,cAAN,CAAqB,SAArB,CAAT,CAA2CD,CAAK,CAAC,SAAD,CAAhD,CAA8DA,CAAtE,CAF0B,GAItBE,CAAAA,CAAO,CAAGF,CAAK,CAACE,OAJM,CAMtBC,CAAgB,CAAI,UAAW,CAClC,GAAsB,WAAlB,QAAOC,CAAAA,MAAX,CAAmC,CAClC,GAAIA,MAAM,CAACD,gBAAX,CAA6B,CAC5B,MAAOC,CAAAA,MAAM,CAACD,gBACd,CAKD,GAAIE,CAAAA,CAAM,CAAGD,MAAM,CAACC,MAApB,CACA,GAAIA,CAAJ,CAAY,CACX,MAAO,CAACA,CAAM,CAACC,UAAP,EAAqB,CAAtB,GAA4BD,CAAM,CAACE,WAAP,EAAsB,CAAlD,CACP,CACD,CAED,MAAO,EACP,CAhBuB,EANE,CAwBtBC,CAAK,CAAG,CAEXC,WAAW,CAAE,qBAASC,CAAT,CAAiB,IACzBC,CAAAA,CAAK,CAAG,EADiB,CAEzBC,CAFyB,CAI7BF,CAAM,CAAG,GAAGG,MAAH,CAAUH,CAAV,CAAT,CACA,MAAOA,CAAM,CAACI,MAAd,CAAsB,CACrBF,CAAK,CAAGF,CAAM,CAACK,GAAP,EAAR,CACA,GAAqB,QAAjB,QAAOH,CAAAA,CAAX,CAA+B,CAC9BD,CAAK,CAACK,OAAN,CAAcC,KAAd,CAAoBN,CAApB,CAA2BC,CAAK,CAACM,KAAN,CAAY,IAAZ,CAA3B,CACA,CAFD,IAEO,IAAIC,KAAK,CAACC,OAAN,CAAcR,CAAd,CAAJ,CAA0B,CAChCF,CAAM,CAACW,IAAP,CAAYJ,KAAZ,CAAkBP,CAAlB,CAA0BE,CAA1B,CACA,CAFM,IAEA,IAAI,CAACV,CAAO,CAACoB,aAAR,CAAsBZ,CAAtB,CAAL,CAAoC,CAC1CC,CAAK,CAACK,OAAN,CAAc,GAAKJ,CAAnB,CACA,CACD,CAED,MAAOD,CAAAA,CACP,CAnBU,CAuBXY,YAAY,CAAE,sBAASC,CAAT,CAAe,CAC5B,GAAI,CAACA,CAAD,EAAStB,CAAO,CAACoB,aAAR,CAAsBE,CAAI,CAACC,IAA3B,CAAT,EAA6CvB,CAAO,CAACoB,aAAR,CAAsBE,CAAI,CAACE,MAA3B,CAAjD,CAAqF,CACpF,MAAO,KACP,CAED,MAAO,CAACF,CAAI,CAACG,KAAL,CAAaH,CAAI,CAACG,KAAL,CAAa,GAA1B,CAAgC,EAAjC,GACHH,CAAI,CAACI,MAAL,CAAcJ,CAAI,CAACI,MAAL,CAAc,GAA5B,CAAkC,EAD/B,EAEJJ,CAAI,CAACC,IAFD,CAEQ,KAFR,CAGJD,CAAI,CAACE,MACR,CAhCU,CAoCXG,QAAQ,CAAE,kBAASC,CAAT,CAAcnB,CAAd,CAAqBa,CAArB,CAA2B,IAChCO,CAAAA,CAAK,CAAG,GAAGlB,MAAH,CAAUF,CAAV,CADwB,CAEhCqB,CAAI,CAAGD,CAAK,CAACjB,MAFmB,CAGhCmB,CAAI,CAAGH,CAAG,CAACN,IAHqB,CAIhCU,CAAK,CAAG,CAJwB,CAKhCC,CALgC,CAOpCL,CAAG,CAACN,IAAJ,CAAWA,CAAI,CAACY,MAAhB,CAEA,IAAKD,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGH,CAAhB,CAAsB,EAAEG,CAAxB,CAA2B,CAC1BD,CAAK,CAAGG,IAAI,CAACC,GAAL,CAASR,CAAG,CAACS,WAAJ,CAAgBR,CAAK,CAACI,CAAD,CAArB,EAA0BD,KAAnC,CAA0CA,CAA1C,CACR,CAEDJ,CAAG,CAACN,IAAJ,CAAWS,CAAX,CAEA,MAAO,CACNO,MAAM,CAAER,CAAI,CAAGR,CAAI,CAACiB,UADd,CAENP,KAAK,CAAEA,CAFD,CAIP,CAvDU,CA0DXQ,SAAS,CAAE,mBAASC,CAAT,CAAgB,IACtBnD,CAAAA,CAAM,CAAGQ,CAAK,CAAC4C,QAAN,CAAepD,MADF,CAEtBiC,CAAI,CAAGvB,CAAO,CAAC2C,cAAR,CAAuBF,CAAK,CAAClB,IAA7B,CAAmCjC,CAAM,CAACsD,eAA1C,CAFe,CAGtBtB,CAAI,CAAG,CACVE,MAAM,CAAExB,CAAO,CAAC2C,cAAR,CAAuBF,CAAK,CAACjB,MAA7B,CAAqClC,CAAM,CAACuD,iBAA5C,CADE,CAEVN,UAAU,CAAEvC,CAAO,CAAC8C,OAAR,CAAgBC,YAAhB,CAA6BN,CAAK,CAACF,UAAnC,CAA+ChB,CAA/C,CAFF,CAGVA,IAAI,CAAEA,CAHI,CAIVE,KAAK,CAAEzB,CAAO,CAAC2C,cAAR,CAAuBF,CAAK,CAAChB,KAA7B,CAAoCnC,CAAM,CAAC0D,gBAA3C,CAJG,CAKVtB,MAAM,CAAE1B,CAAO,CAAC2C,cAAR,CAAuBF,CAAK,CAACf,MAA7B,CAAqC,IAArC,CALE,CAMVQ,MAAM,CAAE,EANE,CAHe,CAY1BZ,CAAI,CAACY,MAAL,CAAc5B,CAAK,CAACe,YAAN,CAAmBC,CAAnB,CAAd,CACA,MAAOA,CAAAA,CACP,CAxEU,CA+EX2B,KAAK,CAAE,eAASC,CAAT,CAAcT,CAAd,CAAqBL,CAArB,CAA0B,CAChC,MAAOD,CAAAA,IAAI,CAACC,GAAL,CAASc,CAAT,CAAcf,IAAI,CAACe,GAAL,CAAST,CAAT,CAAgBL,CAAhB,CAAd,CACP,CAjFU,CAwFXe,SAAS,CAAE,mBAASC,CAAT,CAAaC,CAAb,CAAiB,IACvBtB,CAAAA,CAAI,CAAGqB,CAAE,CAACE,KAAH,EADgB,CAEvBC,CAAO,CAAG,EAFa,CAGvBtB,CAHuB,CAGpBuB,CAHoB,CAGjB1B,CAHiB,CAGX2B,CAHW,CAK3B,IAAKxB,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGuB,CAAE,CAACzC,MAAtB,CAA8BqB,CAAC,CAAGH,CAAlC,CAAwC,EAAEG,CAA1C,CAA6C,CAC5CwB,CAAC,CAAGJ,CAAE,CAACpB,CAAD,CAAN,CACAuB,CAAC,CAAGzB,CAAI,CAAC2B,OAAL,CAAaD,CAAb,CAAJ,CAEA,GAAU,CAAC,CAAP,GAAAD,CAAJ,CAAc,CACbD,CAAO,CAACpC,IAAR,CAAa,CAACsC,CAAD,CAAI,CAAJ,CAAb,CACA,CAFD,IAEO,CACN1B,CAAI,CAAC4B,MAAL,CAAYH,CAAZ,CAAe,CAAf,CACA,CACD,CAED,IAAKvB,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGC,CAAI,CAACnB,MAAxB,CAAgCqB,CAAC,CAAGH,CAApC,CAA0C,EAAEG,CAA5C,CAA+C,CAC9CsB,CAAO,CAACpC,IAAR,CAAa,CAACY,CAAI,CAACE,CAAD,CAAL,CAAU,CAAC,CAAX,CAAb,CACA,CAED,MAAOsB,CAAAA,CACP,CA7GU,CAkHXK,SAAS,CAAE,SAASH,CAAT,CAAY,CACtB,MAAOtB,CAAAA,IAAI,CAAC0B,KAAL,CAAWJ,CAAC,CAAGxD,CAAf,EAAmCA,CAC1C,CApHU,CAxBc,CA+I1B,QAAS6D,CAAAA,CAAT,CAAgBC,CAAhB,CAAuBC,CAAvB,CAA+B,IAC1BC,CAAAA,CAAE,CAAGD,CAAM,CAACE,CADc,CAE1BC,CAAE,CAAGH,CAAM,CAACI,CAFc,CAI9B,GAAW,IAAP,GAAAH,CAAJ,CAAiB,CAChB,MAAO,CAACC,CAAC,CAAE,CAAJ,CAAOE,CAAC,CAAE,CAAC,CAAX,CACP,CACD,GAAW,IAAP,GAAAD,CAAJ,CAAiB,CAChB,MAAO,CAACD,CAAC,CAAE,CAAJ,CAAOE,CAAC,CAAE,CAAV,CACP,CAT6B,GAW1BC,CAAAA,CAAE,CAAGN,CAAK,CAACG,CAAN,CAAUD,CAXW,CAY1BK,CAAE,CAAGP,CAAK,CAACK,CAAN,CAAUD,CAZW,CAa1BI,CAAE,CAAGpC,IAAI,CAACqC,IAAL,CAAUH,CAAE,CAAGA,CAAL,CAAUC,CAAE,CAAGA,CAAzB,CAbqB,CAe9B,MAAO,CACNJ,CAAC,CAAEK,CAAE,CAAGF,CAAE,CAAGE,CAAR,CAAa,CADZ,CAENH,CAAC,CAAEG,CAAE,CAAGD,CAAE,CAAGC,CAAR,CAAa,CAAC,CAFb,CAIP,CAED,QAASE,CAAAA,CAAT,CAAiBP,CAAjB,CAAoBE,CAApB,CAAuBM,CAAvB,CAA2BC,CAA3B,CAA+BC,CAA/B,CAAsC,CACrC,OAAQA,CAAR,EACA,IAAK,QAAL,CACCF,CAAE,CAAGC,CAAE,CAAG,CAAV,CACA,MACD,IAAK,QAAL,CACCD,CAAE,CAAG,CAAL,CACAC,CAAE,CAAG,CAAL,CACA,MACD,IAAK,OAAL,CACCD,CAAE,CAAG,CAAL,CACAC,CAAE,CAAG,CAAL,CACA,MACD,IAAK,MAAL,CACCD,CAAE,CAAG,CAAC,CAAN,CACAC,CAAE,CAAG,CAAL,CACA,MACD,IAAK,KAAL,CACCD,CAAE,CAAG,CAAL,CACAC,CAAE,CAAG,CAAC,CAAN,CACA,MACD,IAAK,OAAL,CACCD,CAAE,CAAG,CAACA,CAAN,CACAC,CAAE,CAAG,CAACA,CAAN,CACA,MACD,IAAK,KAAL,CAEC,MACD,QAECC,CAAK,EAAKzC,IAAI,CAAC0C,EAAL,CAAU,GAApB,CACAH,CAAE,CAAGvC,IAAI,CAAC2C,GAAL,CAASF,CAAT,CAAL,CACAD,CAAE,CAAGxC,IAAI,CAAC4C,GAAL,CAASH,CAAT,CAAL,CACA,MAhCD,CAmCA,MAAO,CACNV,CAAC,CAAEA,CADG,CAENE,CAAC,CAAEA,CAFG,CAGNM,EAAE,CAAEA,CAHE,CAINC,EAAE,CAAEA,CAJE,CAMP,CA9MyB,GAoNtBK,CAAAA,CAAM,CAAG,CApNa,CAqNtBC,CAAO,CAAG,CArNY,CAsNtBC,CAAQ,CAAG,CAtNW,CAuNtBC,CAAK,CAAG,CAvNc,CAyN1B,QAASC,CAAAA,CAAT,CAAgBlB,CAAhB,CAAmBE,CAAnB,CAAsBiB,CAAtB,CAA4B,CAC3B,GAAIC,CAAAA,CAAG,EAAP,CAEA,GAAIpB,CAAC,CAAGmB,CAAI,CAACE,IAAb,CAAmB,CAClBD,CAAG,EAAIN,CACP,CAFD,IAEO,IAAId,CAAC,CAAGmB,CAAI,CAACG,KAAb,CAAoB,CAC1BF,CAAG,EAAIL,CACP,CACD,GAAIb,CAAC,CAAGiB,CAAI,CAACI,GAAb,CAAkB,CACjBH,CAAG,EAAIH,CACP,CAFD,IAEO,IAAIf,CAAC,CAAGiB,CAAI,CAACK,MAAb,CAAqB,CAC3BJ,CAAG,EAAIJ,CACP,CAED,MAAOI,CAAAA,CACP,CAED,QAASK,CAAAA,CAAT,CAAiBC,CAAjB,CAA0BC,CAA1B,CAAgC,IAC3B5B,CAAAA,CAAE,CAAG2B,CAAO,CAAC3B,EADc,CAE3BE,CAAE,CAAGyB,CAAO,CAACzB,EAFc,CAG3B2B,CAAE,CAAGF,CAAO,CAACE,EAHc,CAI3BC,CAAE,CAAGH,CAAO,CAACG,EAJc,CAK3BC,CAAE,CAAGZ,CAAM,CAACnB,CAAD,CAAKE,CAAL,CAAS0B,CAAT,CALgB,CAM3BI,CAAE,CAAGb,CAAM,CAACU,CAAD,CAAKC,CAAL,CAASF,CAAT,CANgB,CAO3BK,CAP2B,CAOxBhC,CAPwB,CAOrBE,CAPqB,CAU/B,SAAa,CACZ,GAAI,EAAE4B,CAAE,CAAGC,CAAP,GAAeD,CAAE,CAAGC,CAAxB,CAA6B,CAE5B,KACA,CAGDC,CAAC,CAAGF,CAAE,EAAIC,CAAV,CAEA,GAAIC,CAAC,CAAGf,CAAR,CAAe,CACdjB,CAAC,CAAGD,CAAE,CAAG,CAAC6B,CAAE,CAAG7B,CAAN,GAAa4B,CAAI,CAACJ,GAAL,CAAWtB,CAAxB,GAA+B4B,CAAE,CAAG5B,CAApC,CAAT,CACAC,CAAC,CAAGyB,CAAI,CAACJ,GACT,CAHD,IAGO,IAAIS,CAAC,CAAGhB,CAAR,CAAkB,CACxBhB,CAAC,CAAGD,CAAE,CAAG,CAAC6B,CAAE,CAAG7B,CAAN,GAAa4B,CAAI,CAACH,MAAL,CAAcvB,CAA3B,GAAkC4B,CAAE,CAAG5B,CAAvC,CAAT,CACAC,CAAC,CAAGyB,CAAI,CAACH,MACT,CAHM,IAGA,IAAIQ,CAAC,CAAGjB,CAAR,CAAiB,CACvBb,CAAC,CAAGD,CAAE,CAAG,CAAC4B,CAAE,CAAG5B,CAAN,GAAa0B,CAAI,CAACL,KAAL,CAAavB,CAA1B,GAAiC6B,CAAE,CAAG7B,CAAtC,CAAT,CACAC,CAAC,CAAG2B,CAAI,CAACL,KACT,CAHM,IAGA,IAAIU,CAAC,CAAGlB,CAAR,CAAgB,CACtBZ,CAAC,CAAGD,CAAE,CAAG,CAAC4B,CAAE,CAAG5B,CAAN,GAAa0B,CAAI,CAACN,IAAL,CAAYtB,CAAzB,GAAgC6B,CAAE,CAAG7B,CAArC,CAAT,CACAC,CAAC,CAAG2B,CAAI,CAACN,IACT,CAED,GAAIW,CAAC,GAAKF,CAAV,CAAc,CACb/B,CAAE,CAAGC,CAAL,CACAC,CAAE,CAAGC,CAAL,CACA4B,CAAE,CAAGZ,CAAM,CAACnB,CAAD,CAAKE,CAAL,CAAS0B,CAAT,CACX,CAJD,IAIO,CACNC,CAAE,CAAG5B,CAAL,CACA6B,CAAE,CAAG3B,CAAL,CACA6B,CAAE,CAAGb,CAAM,CAACU,CAAD,CAAKC,CAAL,CAASF,CAAT,CACX,CACD,CAED,MAAO,CACN5B,EAAE,CAAEA,CADE,CAEN6B,EAAE,CAAEA,CAFE,CAGN3B,EAAE,CAAEA,CAHE,CAIN4B,EAAE,CAAEA,CAJE,CAMP,CAED,QAASI,CAAAA,CAAT,CAAiBC,CAAjB,CAAwBC,CAAxB,CAAgC,IAC3BC,CAAAA,CAAM,CAAGD,CAAM,CAACC,MADW,CAE3BV,CAAO,CAAGQ,CAFiB,CAG3BlC,CAH2B,CAGxBE,CAHwB,CAK/B,GAAIiC,CAAM,CAACE,KAAX,CAAkB,CACjBX,CAAO,CAAGD,CAAO,CAACC,CAAD,CAAUS,CAAM,CAACR,IAAjB,CACjB,CAED,GAAe,OAAX,GAAAS,CAAJ,CAAwB,CACvBpC,CAAC,CAAG0B,CAAO,CAAC3B,EAAZ,CACAG,CAAC,CAAGwB,CAAO,CAACzB,EACZ,CAHD,IAGO,IAAe,KAAX,GAAAmC,CAAJ,CAAsB,CAC5BpC,CAAC,CAAG0B,CAAO,CAACE,EAAZ,CACA1B,CAAC,CAAGwB,CAAO,CAACG,EACZ,CAHM,IAGA,CACN7B,CAAC,CAAG,CAAC0B,CAAO,CAAC3B,EAAR,CAAa2B,CAAO,CAACE,EAAtB,EAA4B,CAAhC,CACA1B,CAAC,CAAG,CAACwB,CAAO,CAACzB,EAAR,CAAayB,CAAO,CAACG,EAAtB,EAA4B,CAChC,CAED,MAAOtB,CAAAA,CAAO,CAACP,CAAD,CAAIE,CAAJ,CAAOgC,CAAK,CAAC1B,EAAb,CAAiB0B,CAAK,CAACzB,EAAvB,CAA2B0B,CAAM,CAACzB,KAAlC,CACd,CAnTyB,GAqTtB4B,CAAAA,CAAW,CAAG,CACjBC,GAAG,CAAE,aAASC,CAAT,CAAaL,CAAb,CAAqB,IACrBM,CAAAA,CAAK,CAAG,CAACD,CAAE,CAACE,UAAH,CAAgBF,CAAE,CAACG,QAApB,EAAgC,CADnB,CAErBnC,CAAE,CAAGvC,IAAI,CAAC2C,GAAL,CAAS6B,CAAT,CAFgB,CAGrBhC,CAAE,CAAGxC,IAAI,CAAC4C,GAAL,CAAS4B,CAAT,CAHgB,CAIrBX,CAAE,CAAGU,CAAE,CAACI,WAJa,CAKrBb,CAAE,CAAGS,CAAE,CAACK,WALa,CAOzB,MAAOZ,CAAAA,CAAO,CAAC,CACdlC,EAAE,CAAEyC,CAAE,CAACxC,CAAH,CAAOQ,CAAE,CAAGsB,CADF,CAEd7B,EAAE,CAAEuC,CAAE,CAACtC,CAAH,CAAOO,CAAE,CAAGqB,CAFF,CAGdF,EAAE,CAAEY,CAAE,CAACxC,CAAH,CAAOQ,CAAE,CAAGuB,CAHF,CAIdF,EAAE,CAAEW,CAAE,CAACtC,CAAH,CAAOO,CAAE,CAAGsB,CAJF,CAKdvB,EAAE,CAAEA,CALU,CAMdC,EAAE,CAAEA,CANU,CAAD,CAOX0B,CAPW,CAQd,CAhBgB,CAkBjBtC,KAAK,CAAE,eAAS2C,CAAT,CAAaL,CAAb,CAAqB,IACvB5C,CAAAA,CAAC,CAAGK,CAAM,CAAC4C,CAAD,CAAKL,CAAM,CAACrC,MAAZ,CADa,CAEvBgD,CAAE,CAAGvD,CAAC,CAACS,CAAF,CAAMwC,CAAE,CAACO,MAFS,CAGvBC,CAAE,CAAGzD,CAAC,CAACW,CAAF,CAAMsC,CAAE,CAACO,MAHS,CAK3B,MAAOd,CAAAA,CAAO,CAAC,CACdlC,EAAE,CAAEyC,CAAE,CAACxC,CAAH,CAAO8C,CADG,CAEd7C,EAAE,CAAEuC,CAAE,CAACtC,CAAH,CAAO8C,CAFG,CAGdpB,EAAE,CAAEY,CAAE,CAACxC,CAAH,CAAO8C,CAHG,CAIdjB,EAAE,CAAEW,CAAE,CAACtC,CAAH,CAAO8C,CAJG,CAKdxC,EAAE,CAAEjB,CAAC,CAACS,CALQ,CAMdS,EAAE,CAAElB,CAAC,CAACW,CANQ,CAAD,CAOXiC,CAPW,CAQd,CA/BgB,CAiCjBhB,IAAI,CAAE,cAASqB,CAAT,CAAaL,CAAb,CAAqB,IACtB5C,CAAAA,CAAC,CAAGK,CAAM,CAAC4C,CAAD,CAAKL,CAAM,CAACrC,MAAZ,CADY,CAEtBE,CAAC,CAAGwC,CAAE,CAACxC,CAFe,CAGtBE,CAAC,CAAGsC,CAAE,CAACtC,CAHe,CAItB+C,CAAE,CAAG,CAJiB,CAKtBC,CAAE,CAAG,CALiB,CAO1B,GAAIV,CAAE,CAACW,UAAP,CAAmB,CAClBnD,CAAC,CAAG/B,IAAI,CAACe,GAAL,CAASwD,CAAE,CAACxC,CAAZ,CAAewC,CAAE,CAACY,IAAlB,CAAJ,CACAH,CAAE,CAAGhF,IAAI,CAACoF,GAAL,CAASb,CAAE,CAACY,IAAH,CAAUZ,CAAE,CAACxC,CAAtB,CACL,CAHD,IAGO,CACNE,CAAC,CAAGjC,IAAI,CAACe,GAAL,CAASwD,CAAE,CAACtC,CAAZ,CAAesC,CAAE,CAACY,IAAlB,CAAJ,CACAF,CAAE,CAAGjF,IAAI,CAACoF,GAAL,CAASb,CAAE,CAACY,IAAH,CAAUZ,CAAE,CAACtC,CAAtB,CACL,CAED,MAAO+B,CAAAA,CAAO,CAAC,CACdlC,EAAE,CAAEC,CADU,CAEdC,EAAE,CAAEC,CAAC,CAAGgD,CAFM,CAGdtB,EAAE,CAAE5B,CAAC,CAAGiD,CAHM,CAIdpB,EAAE,CAAE3B,CAJU,CAKdM,EAAE,CAAEjB,CAAC,CAACS,CALQ,CAMdS,EAAE,CAAElB,CAAC,CAACW,CANQ,CAAD,CAOXiC,CAPW,CAQd,CAxDgB,CA0DjBmB,QAAQ,CAAE,kBAASd,CAAT,CAAaL,CAAb,CAAqB,CAC9B,GAAI5C,CAAAA,CAAC,CAAGK,CAAM,CAAC4C,CAAD,CAAKL,CAAM,CAACrC,MAAZ,CAAd,CAEA,MAAOmC,CAAAA,CAAO,CAAC,CACdlC,EAAE,CAAEyC,CAAE,CAACxC,CADO,CAEdC,EAAE,CAAEuC,CAAE,CAACtC,CAFO,CAGd0B,EAAE,CAAEY,CAAE,CAACxC,CAHO,CAId6B,EAAE,CAAEW,CAAE,CAACtC,CAJO,CAKdM,EAAE,CAAEjB,CAAC,CAACS,CALQ,CAMdS,EAAE,CAAElB,CAAC,CAACW,CANQ,CAAD,CAOXiC,CAPW,CAQd,CArEgB,CArTQ,CA6XtBoB,CAAS,CAAG3H,CAAK,CAACE,OA7XI,CA8XtB4D,CAAS,CAAGtD,CAAK,CAACsD,SA9XI,CAgY1B,QAAS8D,CAAAA,CAAT,CAAuBC,CAAvB,CAA8B,IACzBC,CAAAA,CAAW,CAAGD,CAAK,CAACC,WAAN,EAAqB,CADV,CAEzBC,CAAO,CAAGF,CAAK,CAACE,OAFS,CAGzBC,CAAE,CAAGH,CAAK,CAACpG,IAAN,CAAWe,MAHS,CAIzByF,CAAE,CAAGJ,CAAK,CAACpG,IAAN,CAAWS,KAJS,CAKzBgG,CAAE,CAAG,CAACD,CAAD,CAAM,CALc,CAMzBE,CAAE,CAAG,CAACH,CAAD,CAAM,CANc,CAQ7B,MAAO,CACNI,KAAK,CAAE,CACNhE,CAAC,CAAE8D,CAAE,CAAGH,CAAO,CAACtC,IAAb,CAAoBqC,CADjB,CAENxD,CAAC,CAAE6D,CAAE,CAAGJ,CAAO,CAACpC,GAAb,CAAmBmC,CAFhB,CAGNO,CAAC,CAAEJ,CAAE,CAAGF,CAAO,CAAC7F,KAAb,CAAmC,CAAd,CAAA4F,CAHlB,CAINQ,CAAC,CAAEN,CAAE,CAAGD,CAAO,CAACvF,MAAb,CAAoC,CAAd,CAAAsF,CAJnB,CADD,CAONS,IAAI,CAAE,CACLnE,CAAC,CAAE8D,CADE,CAEL5D,CAAC,CAAE6D,CAFE,CAGLE,CAAC,CAAEJ,CAHE,CAILK,CAAC,CAAEN,CAJE,CAPA,CAcP,CAED,QAASQ,CAAAA,CAAT,CAAwBC,CAAxB,CAA4B,IACvBlB,CAAAA,CAAU,CAAGkB,CAAE,CAACC,MAAH,CAAUnB,UADA,CAEvBoB,CAAK,CAAGF,CAAE,CAACG,MAAH,EAAcrB,CAAU,EAAIkB,CAAE,CAACI,OAA/B,EAA2CJ,CAAE,CAACK,OAF/B,CAI3B,GAAI,CAACH,CAAL,CAAY,CACX,MAAO,KACP,CAED,GAAIA,CAAK,CAACI,OAAN,WAA+BJ,CAAK,CAACK,OAAN,SAAnC,CAAgE,CAC/D,MAAO,CAAC5E,CAAC,CAAEuE,CAAK,CAACI,OAAV,CAAmBzE,CAAC,CAAEqE,CAAK,CAACK,OAA5B,CACP,CAED,GAAIC,CAAAA,CAAK,CAAGN,CAAK,CAACO,YAAN,EAAZ,CACA,MAAO3B,CAAAA,CAAU,CAChB,CAACnD,CAAC,CAAE6E,CAAJ,CAAW3E,CAAC,CAAE,IAAd,CADgB,CAEhB,CAACF,CAAC,CAAE,IAAJ,CAAUE,CAAC,CAAE2E,CAAb,CACD,CAED,QAASE,CAAAA,CAAT,CAAuBV,CAAvB,CAA2B,CAC1B,GAAIA,CAAE,WAAYzI,CAAAA,CAAK,CAACoJ,QAAN,CAAeC,GAAjC,CAAsC,CACrC,MAAO3C,CAAAA,CAAW,CAACC,GACnB,CACD,GAAI8B,CAAE,WAAYzI,CAAAA,CAAK,CAACoJ,QAAN,CAAeE,KAAjC,CAAwC,CACvC,MAAO5C,CAAAA,CAAW,CAACzC,KACnB,CACD,GAAIwE,CAAE,WAAYzI,CAAAA,CAAK,CAACoJ,QAAN,CAAeG,SAAjC,CAA4C,CAC3C,MAAO7C,CAAAA,CAAW,CAACnB,IACnB,CACD,MAAOmB,CAAAA,CAAW,CAACgB,QACnB,CAED,QAAS8B,CAAAA,CAAT,CAAmB1H,CAAnB,CAAwByD,CAAxB,CAA8BsC,CAA9B,CAAqC,IAChC4B,CAAAA,CAAO,CAAG5B,CAAK,CAAC6B,eADgB,CAEhCC,CAAW,CAAG9B,CAAK,CAAC8B,WAFY,CAGhC7B,CAAW,CAAGD,CAAK,CAACC,WAHY,CAKpC,GAAI,CAAC2B,CAAD,GAAa,CAACE,CAAD,EAAgB,CAAC7B,CAA9B,CAAJ,CAAgD,CAC/C,MACA,CAEDhG,CAAG,CAAC8H,SAAJ,GAEAjC,CAAS,CAACkC,MAAV,CAAiBC,WAAjB,CACChI,CADD,CAECgC,CAAS,CAACyB,CAAI,CAACnB,CAAN,CAAT,CAAoB0D,CAAW,CAAG,CAFnC,CAGChE,CAAS,CAACyB,CAAI,CAACjB,CAAN,CAAT,CAAoBwD,CAAW,CAAG,CAHnC,CAIChE,CAAS,CAACyB,CAAI,CAAC8C,CAAN,CAAT,CAAoBP,CAJrB,CAKChE,CAAS,CAACyB,CAAI,CAAC+C,CAAN,CAAT,CAAoBR,CALrB,CAMCD,CAAK,CAACkC,YANP,EAQAjI,CAAG,CAACkI,SAAJ,GAEA,GAAIP,CAAJ,CAAa,CACZ3H,CAAG,CAACmI,SAAJ,CAAgBR,CAAhB,CACA3H,CAAG,CAACoI,IAAJ,EACA,CAED,GAAIP,CAAW,EAAI7B,CAAnB,CAAgC,CAC/BhG,CAAG,CAACqI,WAAJ,CAAkBR,CAAlB,CACA7H,CAAG,CAACsI,SAAJ,CAAgBtC,CAAhB,CACAhG,CAAG,CAACuI,QAAJ,CAAe,OAAf,CACAvI,CAAG,CAACwI,MAAJ,EACA,CACD,CAED,QAASC,CAAAA,CAAT,CAAsBhF,CAAtB,CAA4BT,CAA5B,CAAmCtD,CAAnC,CAAyC,IACpC8G,CAAAA,CAAC,CAAG9G,CAAI,CAACiB,UAD2B,CAEpC4F,CAAC,CAAG9C,CAAI,CAAC8C,CAF2B,CAGpCjE,CAAC,CAAGmB,CAAI,CAACnB,CAH2B,CAIpCE,CAAC,CAAGiB,CAAI,CAACjB,CAAL,CAASgE,CAAC,CAAG,CAJmB,CAMxC,GAAc,QAAV,GAAAxD,CAAJ,CAAwB,CACvBV,CAAC,EAAIiE,CAAC,CAAG,CACT,CAFD,IAEO,IAAc,KAAV,GAAAvD,CAAK,EAAwB,OAAV,GAAAA,CAAvB,CAA0C,CAChDV,CAAC,EAAIiE,CACL,CAED,MAAO,CACNC,CAAC,CAAEA,CADG,CAEND,CAAC,CAAEA,CAFG,CAGNjE,CAAC,CAAEA,CAHG,CAINE,CAAC,CAAEA,CAJG,CAMP,CAED,QAASkG,CAAAA,CAAT,CAAsB1I,CAAtB,CAA2ByG,CAA3B,CAAiCkC,CAAjC,CAAsC,IACjCC,CAAAA,CAAM,CAAG5I,CAAG,CAAC6I,UADoB,CAEjCC,CAAO,CAAGH,CAAG,CAACG,OAFmB,CAGjCxG,CAAC,CAAGN,CAAS,CAAC2G,CAAG,CAACrG,CAAL,CAHoB,CAIjCE,CAAC,CAAGR,CAAS,CAAC2G,CAAG,CAACnG,CAAL,CAJoB,CAKjC+D,CAAC,CAAGvE,CAAS,CAAC2G,CAAG,CAACpC,CAAL,CALoB,CAOrC,GAAIuC,CAAJ,CAAa,CACZ9I,CAAG,CAAC+I,UAAJ,CAAetC,CAAf,CAAqBnE,CAArB,CAAwBE,CAAxB,CAA2B+D,CAA3B,CACA,CAED,GAAIoC,CAAG,CAACK,MAAR,CAAgB,CACf,GAAIJ,CAAM,EAAIE,CAAd,CAAuB,CAGtB9I,CAAG,CAAC6I,UAAJ,CAAiB,CACjB,CAED7I,CAAG,CAACiJ,QAAJ,CAAaxC,CAAb,CAAmBnE,CAAnB,CAAsBE,CAAtB,CAAyB+D,CAAzB,EAEA,GAAIqC,CAAM,EAAIE,CAAd,CAAuB,CACtB9I,CAAG,CAAC6I,UAAJ,CAAiBD,CACjB,CACD,CACD,CAED,QAASM,CAAAA,CAAT,CAAkBlJ,CAAlB,CAAuBnB,CAAvB,CAA8B4E,CAA9B,CAAoCsC,CAApC,CAA2C,IACtC/C,CAAAA,CAAK,CAAG+C,CAAK,CAACoD,SADwB,CAEtCC,CAAK,CAAGrD,CAAK,CAACqD,KAFwB,CAGtCJ,CAAM,CAAG,CAAC,CAACI,CAH2B,CAItC1J,CAAI,CAAGqG,CAAK,CAACrG,IAJyB,CAKtCQ,CAAI,CAAGrB,CAAK,CAACG,MALyB,CAMtCqK,CAAW,CAAGtD,CAAK,CAACuD,eANkB,CAOtCC,CAAW,CAAGxD,CAAK,CAACyD,eAPkB,CAQtCV,CAAO,CAAGO,CAAW,EAAIE,CARa,CAStClJ,CATsC,CAW1C,GAAI,CAACH,CAAD,EAAU,CAAC8I,CAAD,EAAW,CAACF,CAA1B,CAAoC,CACnC,MACA,CAGDrF,CAAI,CAAGgF,CAAY,CAAChF,CAAD,CAAOT,CAAP,CAActD,CAAd,CAAnB,CAEAM,CAAG,CAACN,IAAJ,CAAWA,CAAI,CAACY,MAAhB,CACAN,CAAG,CAACmJ,SAAJ,CAAgBnG,CAAhB,CACAhD,CAAG,CAACyJ,YAAJ,CAAmB,QAAnB,CACAzJ,CAAG,CAAC6I,UAAJ,CAAiB9C,CAAK,CAAC2D,cAAvB,CACA1J,CAAG,CAAC2J,WAAJ,CAAkB5D,CAAK,CAAC6D,eAAxB,CAEA,GAAIZ,CAAJ,CAAY,CACXhJ,CAAG,CAACmI,SAAJ,CAAgBiB,CAChB,CACD,GAAIN,CAAJ,CAAa,CACZ9I,CAAG,CAACuI,QAAJ,CAAe,OAAf,CACAvI,CAAG,CAACsI,SAAJ,CAAgBiB,CAAhB,CACAvJ,CAAG,CAACqI,WAAJ,CAAkBgB,CAClB,CAED,IAAKhJ,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGrB,CAAK,CAACG,MAAzB,CAAiCqB,CAAC,CAAGH,CAArC,CAA2C,EAAEG,CAA7C,CAAgD,CAC/CqI,CAAY,CAAC1I,CAAD,CAAMnB,CAAK,CAACwB,CAAD,CAAX,CAAgB,CAC3ByI,OAAO,CAAEA,CADkB,CAE3BE,MAAM,CAAEA,CAFmB,CAG3BzC,CAAC,CAAE9C,CAAI,CAAC8C,CAHmB,CAI3BjE,CAAC,CAAEmB,CAAI,CAACnB,CAJmB,CAK3BE,CAAC,CAAEiB,CAAI,CAACjB,CAAL,CAASiB,CAAI,CAAC+C,CAAL,CAASnG,CALM,CAAhB,CAOZ,CACD,CAED,GAAIwJ,CAAAA,CAAK,CAAG,SAASpF,CAAT,CAAiBzE,CAAjB,CAAsB2G,CAAtB,CAA0BmD,CAA1B,CAAiC,CAC5C,GAAIC,CAAAA,CAAE,CAAG,IAAT,CAEAA,CAAE,CAACC,OAAH,CAAavF,CAAb,CACAsF,CAAE,CAACE,MAAH,CAAYH,CAAZ,CACAC,CAAE,CAACnD,MAAH,CAAY,IAAZ,CACAmD,CAAE,CAACG,MAAH,CAAY,IAAZ,CACAH,CAAE,CAACI,IAAH,CAAUnK,CAAV,CACA+J,CAAE,CAACK,GAAH,CAASzD,CACT,CATD,CAWAd,CAAS,CAACwE,MAAV,CAAiBR,CAAK,CAACS,SAAvB,CAAkC,CAIjCC,SAAS,CAAE,mBAASC,CAAT,CAAkB3L,CAAlB,CAAyB4F,CAAzB,CAAiCgG,CAAjC,CAA0C,IAChDV,CAAAA,CAAE,CAAG,IAD2C,CAEhDD,CAAK,CAAGC,CAAE,CAACE,MAFqC,CAGhDS,CAAO,CAAG7E,CAAS,CAAC3E,OAAV,CAAkBwJ,OAHoB,CAIhDhL,CAAI,CAAGhB,CAAK,CAACkC,SAAN,CAAgB8J,CAAO,CAAC,CAACjG,CAAM,CAAC/E,IAAR,CAAc,EAAd,CAAD,CAAoB+K,CAApB,CAA6BX,CAA7B,CAAvB,CAJyC,CAKhDV,CAAK,CAAGsB,CAAO,CAAC,CAACjG,CAAM,CAAC2E,KAAR,CAAelL,CAAK,CAAC4C,QAAN,CAAepD,MAAf,CAAsBiN,gBAArC,CAAD,CAAyDF,CAAzD,CAAkEX,CAAlE,CALiC,CAOpD,MAAO,CACN9G,KAAK,CAAE0H,CAAO,CAAC,CAACjG,CAAM,CAACzB,KAAR,CAAe,QAAf,CAAD,CAA2ByH,CAA3B,CAAoCX,CAApC,CADR,CAENpF,MAAM,CAAEgG,CAAO,CAAC,CAACjG,CAAM,CAACC,MAAR,CAAgB,QAAhB,CAAD,CAA4B+F,CAA5B,CAAqCX,CAArC,CAFT,CAGN7F,IAAI,CAAEwG,CAAO,CAACG,KAAR,CAAcC,SAHd,CAINjD,eAAe,CAAE8C,CAAO,CAAC,CAACjG,CAAM,CAACmD,eAAR,CAAyB,IAAzB,CAAD,CAAiC6C,CAAjC,CAA0CX,CAA1C,CAJlB,CAKNjC,WAAW,CAAE6C,CAAO,CAAC,CAACjG,CAAM,CAACoD,WAAR,CAAqB,IAArB,CAAD,CAA6B4C,CAA7B,CAAsCX,CAAtC,CALd,CAMN7B,YAAY,CAAEyC,CAAO,CAAC,CAACjG,CAAM,CAACwD,YAAR,CAAsB,CAAtB,CAAD,CAA2BwC,CAA3B,CAAoCX,CAApC,CANf,CAON9D,WAAW,CAAE0E,CAAO,CAAC,CAACjG,CAAM,CAACuB,WAAR,CAAqB,CAArB,CAAD,CAA0ByE,CAA1B,CAAmCX,CAAnC,CAPd,CAQNnF,KAAK,CAAE+F,CAAO,CAAC,CAACjG,CAAM,CAACE,KAAR,IAAD,CAAwB8F,CAAxB,CAAiCX,CAAjC,CARR,CASNgB,IAAI,CAAEJ,CAAO,CAAC,CAACjG,CAAM,CAACqG,IAAR,IAAD,CAAuBL,CAAvB,CAAgCX,CAAhC,CATP,CAUNV,KAAK,CAAEA,CAVD,CAWNoB,OAAO,CAAEA,CAXH,CAYN9K,IAAI,CAAEA,CAZA,CAaNb,KAAK,CAAEA,CAbD,CAcNkM,MAAM,CAAEL,CAAO,CAAC,CAACjG,CAAM,CAACsG,MAAR,CAAgB,CAAhB,CAAD,CAAqBN,CAArB,CAA8BX,CAA9B,CAdT,CAeNkB,OAAO,CAAEN,CAAO,CAAC,CAACjG,CAAM,CAACuG,OAAR,CAAiB,CAAjB,CAAD,CAAsBP,CAAtB,CAA+BX,CAA/B,CAfV,CAgBN1H,MAAM,CAAEsE,CAAc,CAACqD,CAAE,CAACK,GAAJ,CAhBhB,CAiBNnE,OAAO,CAAEJ,CAAS,CAAC3E,OAAV,CAAkB+J,SAAlB,CAA4BP,CAAO,CAAC,CAACjG,CAAM,CAACwB,OAAR,CAAiB,CAAjB,CAAD,CAAsBwE,CAAtB,CAA+BX,CAA/B,CAAnC,CAjBH,CAkBNoB,UAAU,CAAE7D,CAAa,CAAC0C,CAAE,CAACK,GAAJ,CAlBnB,CAmBNe,QAAQ,CAAET,CAAO,CAAC,CAACjG,CAAM,CAAC0G,QAAR,CAAkB,CAAlB,CAAD,CAAuBV,CAAvB,CAAgCX,CAAhC,CAAP,EAAiDvJ,IAAI,CAAC0C,EAAL,CAAU,GAA3D,CAnBJ,CAoBNtD,IAAI,CAAEjB,CAAK,CAACqB,QAAN,CAAegK,CAAE,CAACI,IAAlB,CAAwBtL,CAAxB,CAA+Ba,CAA/B,CApBA,CAqBNyJ,SAAS,CAAEuB,CAAO,CAAC,CAACjG,CAAM,CAAC0E,SAAR,CAAmB,OAAnB,CAAD,CAA8BsB,CAA9B,CAAuCX,CAAvC,CArBZ,CAsBNJ,cAAc,CAAEgB,CAAO,CAAC,CAACjG,CAAM,CAACiF,cAAR,CAAwB,CAAxB,CAAD,CAA6Be,CAA7B,CAAsCX,CAAtC,CAtBjB,CAuBNF,eAAe,CAAEc,CAAO,CAAC,CAACjG,CAAM,CAACmF,eAAR,CAAyBR,CAAzB,CAAD,CAAkCqB,CAAlC,CAA2CX,CAA3C,CAvBlB,CAwBNR,eAAe,CAAEoB,CAAO,CAAC,CAACjG,CAAM,CAAC6E,eAAR,CAAyBF,CAAzB,CAAD,CAAkCqB,CAAlC,CAA2CX,CAA3C,CAxBlB,CAyBNN,eAAe,CAAEkB,CAAO,CAAC,CAACjG,CAAM,CAAC+E,eAAR,CAAyB,CAAzB,CAAD,CAA8BiB,CAA9B,CAAuCX,CAAvC,CAzBlB,CA2BP,CAtCgC,CAwCjCsB,MAAM,CAAE,gBAASX,CAAT,CAAkB,IACrBV,CAAAA,CAAE,CAAG,IADgB,CAErBhE,CAAK,CAAG,IAFa,CAGrBsF,CAAK,CAAG,IAHa,CAIrBvB,CAAK,CAAGC,CAAE,CAACE,MAJU,CAKrBxF,CAAM,CAAGsF,CAAE,CAACC,OALS,CAMrBnJ,CANqB,CAMdyK,CANc,CAMPzM,CANO,CAUrB2L,CAAO,CAAG3E,CAAS,CAAC3E,OAAV,CAAkBwJ,OAAlB,CAA0B,CAACjG,CAAM,CAAC+F,OAAR,IAA1B,CAAkDC,CAAlD,CAA2DX,CAA3D,CAVW,CAYzB,GAAIU,CAAJ,CAAa,CACZ3J,CAAK,CAAG4J,CAAO,CAACc,OAAR,CAAgBC,IAAhB,CAAqB1B,CAArB,CAAR,CACAwB,CAAK,CAAGzF,CAAS,CAAC9E,cAAV,CAAyB8E,CAAS,CAAC4F,QAAV,CAAmBhH,CAAM,CAACiH,SAA1B,CAAqC,CAAC7K,CAAD,CAAQ4J,CAAR,CAArC,CAAzB,CAAiF5J,CAAjF,CAAR,CACAhC,CAAK,CAAGgH,CAAS,CAACrG,aAAV,CAAwB8L,CAAxB,EAAiC,EAAjC,CAAsC5M,CAAK,CAACC,WAAN,CAAkB2M,CAAlB,CAA9C,CAEA,GAAIzM,CAAK,CAACG,MAAV,CAAkB,CACjB+G,CAAK,CAAGgE,CAAE,CAACQ,SAAH,CAAaC,CAAb,CAAsB3L,CAAtB,CAA6B4F,CAA7B,CAAqCgG,CAArC,CAAR,CACAY,CAAK,CAAGvF,CAAa,CAACC,CAAD,CACrB,CACD,CAEDgE,CAAE,CAACnD,MAAH,CAAYb,CAAZ,CACAgE,CAAE,CAACG,MAAH,CAAYmB,CACZ,CAjEgC,CAmEjCM,QAAQ,CAAE,mBAAW,CACpB,MAAO,MAAKzB,MAAL,CAAc,KAAKA,MAAL,CAAY5D,KAA1B,CAAkC,EACzC,CArEgC,CAuEjC6E,QAAQ,CAAE,mBAAW,CACpB,MAAO,MAAKvE,MAAL,CAAc,KAAKA,MAAL,CAAYuE,QAA1B,CAAqC,CAC5C,CAzEgC,CA2EjCS,OAAO,CAAE,kBAAW,CACnB,MAAO,MAAKhF,MAAL,EAAe,KAAKA,MAAL,CAAYoE,OAClC,CA7EgC,CA+EjCjF,KAAK,CAAE,gBAAW,CACjB,MAAO,MAAKa,MACZ,CAjFgC,CAmFjCiF,IAAI,CAAE,cAASjB,CAAT,CAAgBkB,CAAhB,CAAwB,IACzB/B,CAAAA,CAAE,CAAG,IADoB,CAEzB/J,CAAG,CAAG4K,CAAK,CAAC5K,GAFa,CAGzB+F,CAAK,CAAGgE,CAAE,CAACnD,MAHc,CAIzByE,CAAK,CAAGtB,CAAE,CAACG,MAJc,CAKzBjG,CALyB,CAO7B,GAAI,CAAC,KAAK2H,OAAL,EAAL,CAAqB,CACpB,MACA,CAED5L,CAAG,CAAC+L,IAAJ,GAEA,GAAIhG,CAAK,CAAC+E,IAAV,CAAgB,CACf7G,CAAI,CAAG8B,CAAK,CAAC9B,IAAb,CACAjE,CAAG,CAAC8H,SAAJ,GACA9H,CAAG,CAACyD,IAAJ,CACCQ,CAAI,CAACN,IADN,CAECM,CAAI,CAACJ,GAFN,CAGCI,CAAI,CAACL,KAAL,CAAaK,CAAI,CAACN,IAHnB,CAICM,CAAI,CAACH,MAAL,CAAcG,CAAI,CAACJ,GAJpB,EAKA7D,CAAG,CAAC8K,IAAJ,EACA,CAED9K,CAAG,CAACgM,WAAJ,CAAkBtN,CAAK,CAAC2C,KAAN,CAAY,CAAZ,CAAe0E,CAAK,CAACiF,OAArB,CAA8B,CAA9B,CAAlB,CACAhL,CAAG,CAACiM,SAAJ,CAAcjK,CAAS,CAAC8J,CAAM,CAACxJ,CAAR,CAAvB,CAAmCN,CAAS,CAAC8J,CAAM,CAACtJ,CAAR,CAA5C,EACAxC,CAAG,CAACkM,MAAJ,CAAWnG,CAAK,CAACoF,QAAjB,EAEAzD,CAAS,CAAC1H,CAAD,CAAMqL,CAAK,CAAC/E,KAAZ,CAAmBP,CAAnB,CAAT,CACAmD,CAAQ,CAAClJ,CAAD,CAAM+F,CAAK,CAAClH,KAAZ,CAAmBwM,CAAK,CAAC5E,IAAzB,CAA+BV,CAA/B,CAAR,CAEA/F,CAAG,CAACmM,OAAJ,EACA,CAnHgC,CAAlC,EA9jB0B,GAorBtBC,CAAAA,CAAS,CAAGlO,CAAK,CAACE,OAprBI,CAsrBtBiO,CAAW,CAAGC,MAAM,CAACC,gBAAP,EAA2B,CAAC,gBAtrBpB,CAurBtBC,CAAW,CAAGF,MAAM,CAACG,gBAAP,EAA2B,gBAvrBnB,CAyrB1B,QAASC,CAAAA,CAAT,CAAiBvK,CAAjB,CAAwB2J,CAAxB,CAAgC/G,CAAhC,CAAuC,IAClC7B,CAAAA,CAAG,CAAG3C,IAAI,CAAC2C,GAAL,CAAS6B,CAAT,CAD4B,CAElC5B,CAAG,CAAG5C,IAAI,CAAC4C,GAAL,CAAS4B,CAAT,CAF4B,CAGlC4H,CAAE,CAAGb,CAAM,CAACxJ,CAHsB,CAIlCsK,CAAE,CAAGd,CAAM,CAACtJ,CAJsB,CAMtC,MAAO,CACNF,CAAC,CAAEqK,CAAE,CAAGzJ,CAAG,EAAIf,CAAK,CAACG,CAAN,CAAUqK,CAAd,CAAR,CAA4BxJ,CAAG,EAAIhB,CAAK,CAACK,CAAN,CAAUoK,CAAd,CAD5B,CAENpK,CAAC,CAAEoK,CAAE,CAAGzJ,CAAG,EAAIhB,CAAK,CAACG,CAAN,CAAUqK,CAAd,CAAR,CAA4BzJ,CAAG,EAAIf,CAAK,CAACK,CAAN,CAAUoK,CAAd,CAF5B,CAIP,CAED,QAASC,CAAAA,CAAT,CAAmBC,CAAnB,CAA2BC,CAA3B,CAAiC,IAC5BzL,CAAAA,CAAG,CAAGkL,CADsB,CAE5BhM,CAAG,CAAG6L,CAFsB,CAG5BjK,CAAM,CAAG2K,CAAI,CAAC3K,MAHc,CAI5B/B,CAJ4B,CAIzB2M,CAJyB,CAIrBlK,CAJqB,CAIjBC,CAJiB,CAIbkK,CAJa,CAMhC,IAAK5M,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGyM,CAAM,CAAC9N,MAAvB,CAA+B,EAAEqB,CAAjC,CAAoC,CACnC2M,CAAE,CAAGF,CAAM,CAACzM,CAAD,CAAX,CACAyC,CAAE,CAAGkK,CAAE,CAAC1K,CAAH,CAAOF,CAAM,CAACE,CAAnB,CACAS,CAAE,CAAGiK,CAAE,CAACxK,CAAH,CAAOJ,CAAM,CAACI,CAAnB,CACAyK,CAAE,CAAGF,CAAI,CAACjK,EAAL,CAAUA,CAAV,CAAeiK,CAAI,CAAChK,EAAL,CAAUA,CAA9B,CACAzB,CAAG,CAAGf,IAAI,CAACe,GAAL,CAASA,CAAT,CAAc2L,CAAd,CAAN,CACAzM,CAAG,CAAGD,IAAI,CAACC,GAAL,CAASA,CAAT,CAAcyM,CAAd,CACN,CAED,MAAO,CACN3L,GAAG,CAAEA,CADC,CAENd,GAAG,CAAEA,CAFC,CAIP,CAED,QAAS0M,CAAAA,CAAT,CAAgBC,CAAhB,CAAoBC,CAApB,CAAwB,IACnBtK,CAAAA,CAAE,CAAGsK,CAAE,CAAC9K,CAAH,CAAO6K,CAAE,CAAC7K,CADI,CAEnBS,CAAE,CAAGqK,CAAE,CAAC5K,CAAH,CAAO2K,CAAE,CAAC3K,CAFI,CAGnBG,CAAE,CAAGpC,IAAI,CAACqC,IAAL,CAAUE,CAAE,CAAGA,CAAL,CAAUC,CAAE,CAAGA,CAAzB,CAHc,CAKvB,MAAO,CACND,EAAE,CAAE,CAACsK,CAAE,CAAC9K,CAAH,CAAO6K,CAAE,CAAC7K,CAAX,EAAgBK,CADd,CAENI,EAAE,CAAE,CAACqK,CAAE,CAAC5K,CAAH,CAAO2K,CAAE,CAAC3K,CAAX,EAAgBG,CAFd,CAGNP,MAAM,CAAE+K,CAHF,CAINxK,EAAE,CAAEA,CAJE,CAMP,CAED,GAAI0K,CAAAA,CAAM,CAAG,UAAW,CACvB,KAAKC,SAAL,CAAiB,CAAjB,CACA,KAAKC,KAAL,CAAa,CACZjL,CAAC,CAAE,CADS,CAEZE,CAAC,CAAE,CAFS,CAGZ+D,CAAC,CAAE,CAHS,CAIZC,CAAC,CAAE,CAJS,CAMb,CARD,CAUA4F,CAAS,CAAC/B,MAAV,CAAiBgD,CAAM,CAAC/C,SAAxB,CAAmC,CAClCwB,MAAM,CAAE,iBAAW,CAClB,GAAIxH,CAAAA,CAAC,CAAG,KAAKiJ,KAAb,CACA,MAAO,CACNjL,CAAC,CAAEgC,CAAC,CAAChC,CAAF,CAAMgC,CAAC,CAACiC,CAAF,CAAM,CADT,CAEN/D,CAAC,CAAE8B,CAAC,CAAC9B,CAAF,CAAM8B,CAAC,CAACkC,CAAF,CAAM,CAFT,CAIP,CAPiC,CASlC4E,MAAM,CAAE,gBAASU,CAAT,CAAiBrI,CAAjB,CAAuB0H,CAAvB,CAAiC,CACxC,KAAKmC,SAAL,CAAiBnC,CAAjB,CACA,KAAKoC,KAAL,CAAa,CACZjL,CAAC,CAAEmB,CAAI,CAACnB,CAAL,CAASwJ,CAAM,CAACxJ,CADP,CAEZE,CAAC,CAAEiB,CAAI,CAACjB,CAAL,CAASsJ,CAAM,CAACtJ,CAFP,CAGZ+D,CAAC,CAAE9C,CAAI,CAAC8C,CAHI,CAIZC,CAAC,CAAE/C,CAAI,CAAC+C,CAJI,CAMb,CAjBiC,CAmBlCgH,QAAQ,CAAE,kBAASrL,CAAT,CAAgB,IACrB4H,CAAAA,CAAE,CAAG,IADgB,CAErB0D,CAAM,CAAG,CAFY,CAGrBhK,CAAI,CAAGsG,CAAE,CAACwD,KAHW,CAKzBpL,CAAK,CAAGuK,CAAO,CAACvK,CAAD,CAAQ4H,CAAE,CAAC+B,MAAH,EAAR,CAAqB,CAAC/B,CAAE,CAACuD,SAAzB,CAAf,CAEA,MAAO,EAAEnL,CAAK,CAACG,CAAN,CAAUmB,CAAI,CAACnB,CAAL,CAASmL,CAAnB,EACLtL,CAAK,CAACK,CAAN,CAAUiB,CAAI,CAACjB,CAAL,CAASiL,CADd,EAELtL,CAAK,CAACG,CAAN,CAAUmB,CAAI,CAACnB,CAAL,CAASmB,CAAI,CAAC8C,CAAd,CAA2B,CAAT,CAAAkH,CAFvB,EAGLtL,CAAK,CAACK,CAAN,CAAUiB,CAAI,CAACjB,CAAL,CAASiB,CAAI,CAAC+C,CAAd,CAA2B,CAAT,CAAAiH,CAHzB,CAIP,CA9BiC,CAkClCC,UAAU,CAAE,oBAASC,CAAT,CAAgB,IACvBvJ,CAAAA,CAAE,CAAG,KAAKwJ,OAAL,EADkB,CAEvBvJ,CAAE,CAAGsJ,CAAK,CAACC,OAAN,EAFkB,CAGvBC,CAAI,CAAG,CACVX,CAAM,CAAC9I,CAAE,CAAC,CAAD,CAAH,CAAQA,CAAE,CAAC,CAAD,CAAV,CADI,CAEV8I,CAAM,CAAC9I,CAAE,CAAC,CAAD,CAAH,CAAQA,CAAE,CAAC,CAAD,CAAV,CAFI,CAHgB,CAOvB/D,CAPuB,CAOpByN,CAPoB,CAOfC,CAPe,CAS3B,GAAI,KAAKT,SAAL,GAAmBK,CAAK,CAACL,SAA7B,CAAwC,CAGvCO,CAAI,CAACtO,IAAL,CACC2N,CAAM,CAAC7I,CAAE,CAAC,CAAD,CAAH,CAAQA,CAAE,CAAC,CAAD,CAAV,CADP,CAEC6I,CAAM,CAAC7I,CAAE,CAAC,CAAD,CAAH,CAAQA,CAAE,CAAC,CAAD,CAAV,CAFP,CAIA,CAED,IAAKhE,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGwN,CAAI,CAAC7O,MAArB,CAA6B,EAAEqB,CAA/B,CAAkC,CACjCyN,CAAG,CAAGjB,CAAS,CAACzI,CAAD,CAAKyJ,CAAI,CAACxN,CAAD,CAAT,CAAf,CACA0N,CAAG,CAAGlB,CAAS,CAACxI,CAAD,CAAKwJ,CAAI,CAACxN,CAAD,CAAT,CAAf,CAEA,GAAIyN,CAAG,CAACtN,GAAJ,CAAUuN,CAAG,CAACzM,GAAd,EAAqByM,CAAG,CAACvN,GAAJ,CAAUsN,CAAG,CAACxM,GAAvC,CAA4C,CAC3C,QACA,CACD,CAED,QACA,CA9DiC,CAmElCsM,OAAO,CAAE,kBAAW,IACf7D,CAAAA,CAAE,CAAG,IADU,CAEftG,CAAI,CAAGsG,CAAE,CAACwD,KAFK,CAGfxI,CAAK,CAAGgF,CAAE,CAACuD,SAHI,CAIfxB,CAAM,CAAG/B,CAAE,CAAC+B,MAAH,EAJM,CAMnB,MAAO,CACNY,CAAO,CAAC,CAACpK,CAAC,CAAEmB,CAAI,CAACnB,CAAT,CAAYE,CAAC,CAAEiB,CAAI,CAACjB,CAApB,CAAD,CAAyBsJ,CAAzB,CAAiC/G,CAAjC,CADD,CAEN2H,CAAO,CAAC,CAACpK,CAAC,CAAEmB,CAAI,CAACnB,CAAL,CAASmB,CAAI,CAAC8C,CAAlB,CAAqB/D,CAAC,CAAEiB,CAAI,CAACjB,CAA7B,CAAD,CAAkCsJ,CAAlC,CAA0C/G,CAA1C,CAFD,CAGN2H,CAAO,CAAC,CAACpK,CAAC,CAAEmB,CAAI,CAACnB,CAAL,CAASmB,CAAI,CAAC8C,CAAlB,CAAqB/D,CAAC,CAAEiB,CAAI,CAACjB,CAAL,CAASiB,CAAI,CAAC+C,CAAtC,CAAD,CAA2CsF,CAA3C,CAAmD/G,CAAnD,CAHD,CAIN2H,CAAO,CAAC,CAACpK,CAAC,CAAEmB,CAAI,CAACnB,CAAT,CAAYE,CAAC,CAAEiB,CAAI,CAACjB,CAAL,CAASiB,CAAI,CAAC+C,CAA7B,CAAD,CAAkCsF,CAAlC,CAA0C/G,CAA1C,CAJD,CAMP,CA/EiC,CAAnC,EAkFA,QAASiJ,CAAAA,CAAT,CAAqBC,CAArB,CAA2BlI,CAA3B,CAAkC4F,CAAlC,CAA4C,IACvCxJ,CAAAA,CAAK,CAAG4D,CAAK,CAACmF,UAAN,CAAiB+C,CAAjB,CAAuBlI,CAAvB,CAD+B,CAEvCjD,CAAE,CAAGX,CAAK,CAACW,EAF4B,CAGvCC,CAAE,CAAGZ,CAAK,CAACY,EAH4B,CAK3C,GAAI,CAACD,CAAD,EAAO,CAACC,CAAZ,CAAgB,CAEf,MAAO,CAACT,CAAC,CAAEH,CAAK,CAACG,CAAV,CAAaE,CAAC,CAAEL,CAAK,CAACK,CAAtB,CACP,CAR0C,GAUvC+D,CAAAA,CAAC,CAAGoF,CAAQ,CAACpF,CAV0B,CAWvCC,CAAC,CAAGmF,CAAQ,CAACnF,CAX0B,CAcvC2E,CAAQ,CAAGpF,CAAK,CAACoF,QAdsB,CAevC1I,CAAE,CAAGlC,IAAI,CAACoF,GAAL,CAASY,CAAC,CAAG,CAAJ,CAAQhG,IAAI,CAAC2C,GAAL,CAASiI,CAAT,CAAjB,EAAuC5K,IAAI,CAACoF,GAAL,CAASa,CAAC,CAAG,CAAJ,CAAQjG,IAAI,CAAC4C,GAAL,CAASgI,CAAT,CAAjB,CAfL,CAgBvCzI,CAAE,CAAGnC,IAAI,CAACoF,GAAL,CAASY,CAAC,CAAG,CAAJ,CAAQhG,IAAI,CAAC4C,GAAL,CAASgI,CAAT,CAAjB,EAAuC5K,IAAI,CAACoF,GAAL,CAASa,CAAC,CAAG,CAAJ,CAAQjG,IAAI,CAAC2C,GAAL,CAASiI,CAAT,CAAjB,CAhBL,CAqBvC+C,CAAE,CAAG,EAAI3N,IAAI,CAACC,GAAL,CAASD,IAAI,CAACoF,GAAL,CAAS7C,CAAT,CAAT,CAAuBvC,IAAI,CAACoF,GAAL,CAAS5C,CAAT,CAAvB,CArB8B,CAsB3CN,CAAE,EAAIK,CAAE,CAAGoL,CAAX,CACAxL,CAAE,EAAIK,CAAE,CAAGmL,CAAX,CAGAzL,CAAE,EAAIsD,CAAK,CAACgF,MAAN,CAAejI,CAArB,CACAJ,CAAE,EAAIqD,CAAK,CAACgF,MAAN,CAAehI,CAArB,CAEA,MAAO,CACNT,CAAC,CAAEH,CAAK,CAACG,CAAN,CAAUG,CADP,CAEND,CAAC,CAAEL,CAAK,CAACK,CAAN,CAAUE,CAFP,CAIP,CAED,QAASyL,CAAAA,CAAT,CAAiBC,CAAjB,CAAyBC,CAAzB,CAAmC,CAClC,GAAIhO,CAAAA,CAAJ,CAAOuB,CAAP,CAAU0M,CAAV,CAAcC,CAAd,CAMA,IAAKlO,CAAC,CAAG+N,CAAM,CAACpP,MAAP,CAAgB,CAAzB,CAAiC,CAAL,EAAAqB,CAA5B,CAAoC,EAAEA,CAAtC,CAAyC,CACxCiO,CAAE,CAAGF,CAAM,CAAC/N,CAAD,CAAN,CAAUmO,OAAf,CAEA,IAAK5M,CAAC,CAAGvB,CAAC,CAAG,CAAb,CAAqB,CAAL,EAAAuB,CAAC,EAAS0M,CAAE,CAACG,QAA7B,CAAuC,EAAE7M,CAAzC,CAA4C,CAC3C2M,CAAE,CAAGH,CAAM,CAACxM,CAAD,CAAN,CAAU4M,OAAf,CAEA,GAAID,CAAE,CAACE,QAAH,EAAeH,CAAE,CAACI,IAAH,CAAQhB,UAAR,CAAmBa,CAAE,CAACG,IAAtB,CAAnB,CAAgD,CAC/CL,CAAQ,CAACC,CAAD,CAAKC,CAAL,CACR,CACD,CACD,CAED,MAAOH,CAAAA,CACP,CAED,QAASO,CAAAA,CAAT,CAAmBP,CAAnB,CAA2B,CAC1B,GAAI/N,CAAAA,CAAJ,CAAOH,CAAP,CAAaoL,CAAb,CAAoBsD,CAApB,CAA2BjD,CAA3B,CAAqCG,CAArC,CAGA,IAAKzL,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGkO,CAAM,CAACpP,MAA1B,CAAkCqB,CAAC,CAAGH,CAAtC,CAA4C,EAAEG,CAA9C,CAAiD,CAChDiL,CAAK,CAAG8C,CAAM,CAAC/N,CAAD,CAAd,CACAuO,CAAK,CAAGtD,CAAK,CAACkD,OAAd,CAEA,GAAII,CAAK,CAACH,QAAV,CAAoB,CACnB9C,CAAQ,CAAGL,CAAK,CAACK,QAAN,EAAX,CACAG,CAAM,CAAGkC,CAAW,CAAC1C,CAAK,CAAClB,GAAN,CAAUxD,MAAX,CAAmB0E,CAAK,CAACvF,KAAN,EAAnB,CAAkC4F,CAAlC,CAApB,CACAiD,CAAK,CAACF,IAAN,CAAWtD,MAAX,CAAkBU,CAAlB,CAA0BH,CAA1B,CAAoCL,CAAK,CAACH,QAAN,EAApC,CACA,CACD,CAGD,MAAOgD,CAAAA,CAAO,CAACC,CAAD,CAAS,SAASE,CAAT,CAAaC,CAAb,CAAiB,IACnCM,CAAAA,CAAE,CAAGP,CAAE,CAACQ,QAD2B,CAEnCC,CAAE,CAAGR,CAAE,CAACO,QAF2B,CAIvC,GAAKD,CAAE,EAAIE,CAAP,EAAcA,CAAlB,CAAsB,CACrBR,CAAE,CAACE,QAAH,GACA,CAFD,IAEO,IAAII,CAAJ,CAAQ,CACdP,CAAE,CAACG,QAAH,GACA,CACD,CATa,CAUd,CAt5ByB,GAw5BtBO,CAAAA,CAAM,CAAG,CACZC,OAAO,CAAE,iBAASC,CAAT,CAAmB,IACvBd,CAAAA,CAAM,CAAG,EADc,CAEvB/N,CAFuB,CAEpBuB,CAFoB,CAEjB1B,CAFiB,CAEXiP,CAFW,CAEL7D,CAFK,CAI3B,IAAKjL,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGgP,CAAQ,CAAClQ,MAA5B,CAAoCqB,CAAC,CAAGH,CAAxC,CAA8C,EAAEG,CAAhD,CAAmD,CAClD,IAAKuB,CAAC,CAAG,CAAJ,CAAOuN,CAAI,CAAGD,CAAQ,CAAC7O,CAAD,CAAR,CAAYrB,MAA/B,CAAuC4C,CAAC,CAAGuN,CAA3C,CAAiD,EAAEvN,CAAnD,CAAsD,CACrD0J,CAAK,CAAG4D,CAAQ,CAAC7O,CAAD,CAAR,CAAYuB,CAAZ,CAAR,CACAwM,CAAM,CAAC7O,IAAP,CAAY+L,CAAZ,EACAA,CAAK,CAACkD,OAAN,CAAgB,CACfE,IAAI,CAAE,GAAIrB,CAAAA,CADK,CAEfyB,QAAQ,GAFO,CAGfL,QAAQ,GAHO,CAIfW,IAAI,CAAE/O,CAJS,CAKfgP,IAAI,CAAEzN,CALS,CAOhB,CACD,CAKDwM,CAAM,CAACkB,IAAP,CAAY,SAASC,CAAT,CAAYC,CAAZ,CAAe,IACtBC,CAAAA,CAAE,CAAGF,CAAC,CAACf,OADe,CAEtBkB,CAAE,CAAGF,CAAC,CAAChB,OAFe,CAI1B,MAAOiB,CAAAA,CAAE,CAACJ,IAAH,GAAYK,CAAE,CAACL,IAAf,CACJI,CAAE,CAACL,IAAH,CAAUM,CAAE,CAACN,IADT,CAEJM,CAAE,CAACL,IAAH,CAAUI,CAAE,CAACJ,IAChB,CAPD,EASA,KAAKjE,MAAL,CAAYgD,CAAZ,EAEA,MAAOA,CAAAA,CACP,CAlCW,CAoCZhD,MAAM,CAAE,gBAASgD,CAAT,CAAiB,IACpBuB,CAAAA,CAAK,GADe,CAEpBtP,CAFoB,CAEjBH,CAFiB,CAEXoL,CAFW,CAEJvF,CAFI,CAEG6I,CAFH,CAIxB,IAAKvO,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGkO,CAAM,CAACpP,MAA1B,CAAkCqB,CAAC,CAAGH,CAAtC,CAA4C,EAAEG,CAA9C,CAAiD,CAChDiL,CAAK,CAAG8C,CAAM,CAAC/N,CAAD,CAAd,CACA0F,CAAK,CAAGuF,CAAK,CAACvF,KAAN,EAAR,CACA6I,CAAK,CAAGtD,CAAK,CAACkD,OAAd,CACAI,CAAK,CAACE,QAAN,CAAiB/I,CAAK,EAAsB,MAAlB,GAAAA,CAAK,CAACyE,OAAhC,CACAoE,CAAK,CAACH,QAAN,CAAiBnD,CAAK,CAACM,OAAN,EAAjB,CACA+D,CAAK,EAAIf,CAAK,CAACE,QACf,CAED,GAAIa,CAAJ,CAAW,CACVhB,CAAS,CAACP,CAAD,CACT,CACD,CApDW,CAsDZwB,MAAM,CAAE,gBAASxB,CAAT,CAAiBjM,CAAjB,CAAwB,CAC/B,GAAI9B,CAAAA,CAAJ,CAAOuO,CAAP,CAKA,IAAKvO,CAAC,CAAG+N,CAAM,CAACpP,MAAP,CAAgB,CAAzB,CAAiC,CAAL,EAAAqB,CAA5B,CAAoC,EAAEA,CAAtC,CAAyC,CACxCuO,CAAK,CAAGR,CAAM,CAAC/N,CAAD,CAAN,CAAUmO,OAAlB,CAEA,GAAII,CAAK,EAAIA,CAAK,CAACH,QAAf,EAA2BG,CAAK,CAACF,IAAN,CAAWlB,QAAX,CAAoBrL,CAApB,CAA/B,CAA2D,CAC1D,MAAO,CACNoJ,OAAO,CAAEqD,CAAK,CAACQ,IADT,CAEN9D,KAAK,CAAE8C,CAAM,CAAC/N,CAAD,CAFP,CAIP,CACD,CAED,MAAO,KACP,CAxEW,CA0EZwL,IAAI,CAAE,cAASjB,CAAT,CAAgBwD,CAAhB,CAAwB,CAC7B,GAAI/N,CAAAA,CAAJ,CAAOH,CAAP,CAAaoL,CAAb,CAAoBsD,CAApB,CAA2BjD,CAA3B,CAAqCG,CAArC,CAEA,IAAKzL,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGkO,CAAM,CAACpP,MAA1B,CAAkCqB,CAAC,CAAGH,CAAtC,CAA4C,EAAEG,CAA9C,CAAiD,CAChDiL,CAAK,CAAG8C,CAAM,CAAC/N,CAAD,CAAd,CACAuO,CAAK,CAAGtD,CAAK,CAACkD,OAAd,CAEA,GAAII,CAAK,CAACH,QAAV,CAAoB,CACnB9C,CAAQ,CAAGL,CAAK,CAACK,QAAN,EAAX,CACAG,CAAM,CAAGkC,CAAW,CAAC1C,CAAK,CAAClB,GAAN,CAAUyF,KAAX,CAAkBvE,CAAK,CAACvF,KAAN,EAAlB,CAAiC4F,CAAjC,CAApB,CACAiD,CAAK,CAACF,IAAN,CAAWtD,MAAX,CAAkBU,CAAlB,CAA0BH,CAA1B,CAAoCL,CAAK,CAACH,QAAN,EAApC,EACAG,CAAK,CAACO,IAAN,CAAWjB,CAAX,CAAkBkB,CAAlB,CACA,CACD,CACD,CAxFW,CAx5Ba,CAu/BtBgE,CAAS,CAAG5R,CAAK,CAACE,OAv/BI,CAy/BtB0C,CAAQ,CAAG,CAcdkC,KAAK,CAAE,QAdO,CAqBd0B,MAAM,CAAE,QArBM,CA4BdkD,eAAe,CAAE,IA5BH,CAmCdC,WAAW,CAAE,IAnCC,CA0CdI,YAAY,CAAE,CA1CA,CAiDdjC,WAAW,CAAE,CAjDC,CA0DdrB,KAAK,GA1DS,CAiEdmG,IAAI,GAjEU,CAwEd1B,KAAK,OAxES,CAiFdoB,OAAO,GAjFO,CA6Fd9K,IAAI,CAAE,CACLE,MAAM,OADD,CAELe,UAAU,CAAE,GAFP,CAGLhB,IAAI,OAHC,CAILE,KAAK,OAJA,CAKLC,MAAM,CAAE,IALH,CA7FQ,CAgHd4L,SAAS,CAAE,mBAAS7K,CAAT,CAAgB,CAC1B,GAAIiP,CAAS,CAACtQ,aAAV,CAAwBqB,CAAxB,CAAJ,CAAoC,CACnC,MAAO,KACP,CAHyB,GAKtByK,CAAAA,CAAK,CAAGzK,CALc,CAMtBkP,CANsB,CAMhBC,CANgB,CAMVC,CANU,CAO1B,GAAIH,CAAS,CAACI,QAAV,CAAmBrP,CAAnB,CAAJ,CAA+B,CAC9B,GAAI,CAACiP,CAAS,CAACtQ,aAAV,CAAwBqB,CAAK,CAACyK,KAA9B,CAAL,CAA2C,CAC1CA,CAAK,CAAGzK,CAAK,CAACyK,KACd,CAFD,IAEO,IAAI,CAACwE,CAAS,CAACtQ,aAAV,CAAwBqB,CAAK,CAACyD,CAA9B,CAAL,CAAuC,CAC7CgH,CAAK,CAAGzK,CAAK,CAACyD,CACd,CAFM,IAEA,CACNgH,CAAK,CAAG,EAAR,CACAyE,CAAI,CAAGI,MAAM,CAACJ,IAAP,CAAYlP,CAAZ,CAAP,CACA,IAAKoP,CAAC,CAAG,CAAJ,CAAOD,CAAI,CAAGD,CAAI,CAAC/Q,MAAxB,CAAgCiR,CAAC,CAAGD,CAApC,CAA0C,EAAEC,CAA5C,CAA+C,CAC9C3E,CAAK,EAAI,CAAO,CAAN,GAAA2E,CAAC,CAAS,IAAT,CAAgB,EAAlB,EAAwBF,CAAI,CAACE,CAAD,CAA5B,CAAkC,IAAlC,CAAyCpP,CAAK,CAACkP,CAAI,CAACE,CAAD,CAAL,CACvD,CACD,CACD,CACD,MAAO,GAAK3E,CACZ,CArIa,CAsJd8E,SAAS,CAAE,EAtJG,CA8JdrF,MAAM,CAAE,CA9JM,CAuKdC,OAAO,CAAE,CAvKK,CAkLd/E,OAAO,CAAE,CACRpC,GAAG,CAAE,CADG,CAERD,KAAK,CAAE,CAFC,CAGRE,MAAM,CAAE,CAHA,CAIRH,IAAI,CAAE,CAJE,CAlLK,CA8LdwH,QAAQ,CAAE,CA9LI,CAqMdhC,SAAS,CAAE,OArMG,CA6MdG,eAAe,OA7MD,CAoNdE,eAAe,CAAE,CApNH,CA2NdE,cAAc,CAAE,CA3NF,CAkOdE,eAAe,OAlOD,CAz/BW,CAkuCtByG,CAAS,CAAGnS,CAAK,CAACE,OAluCI,CAmuCtBkS,CAAW,CAAG,aAnuCQ,CAquC1BpS,CAAK,CAAC4C,QAAN,CAAepD,MAAf,CAAsB6S,OAAtB,CAA8BC,UAA9B,CAA2C1P,CAA3C,CAEA,QAAS2P,CAAAA,CAAT,CAAmBlF,CAAnB,CAA4BrK,CAA5B,CAAqC,IAChCwP,CAAAA,CAAQ,CAAGnF,CAAO,CAACiF,UADa,CAIpC,GAAI,KAAAE,CAAJ,CAAwB,CACvB,MAAO,KACP,CACD,GAAI,KAAAA,CAAJ,CAAuB,CACtBA,CAAQ,CAAG,EACX,CAED,MAAOL,CAAAA,CAAS,CAACM,KAAV,CATM,EASN,CAAwB,CAACzP,CAAD,CAAUwP,CAAV,CAAxB,CACP,CAED,QAASE,CAAAA,CAAT,CAAuBhG,CAAvB,CAA8BwF,CAA9B,CAAyCS,CAAzC,CAAiD,CAChD,GAAIpF,CAAAA,CAAQ,CAAG2E,CAAS,EAAIA,CAAS,CAACS,CAAM,CAACtF,OAAR,CAArC,CACA,GAAI,CAACE,CAAL,CAAe,CACd,MACA,CAJ+C,GAM5CH,CAAAA,CAAK,CAAGuF,CAAM,CAACvF,KAN6B,CAO5Cb,CAAO,CAAGa,CAAK,CAACwF,QAP4B,CAShD,GAAI,KAAAT,CAAS,CAAC5E,QAAV,CAAmBA,CAAnB,CAA6B,CAAChB,CAAD,CAA7B,CAAJ,CAAsD,CAKrDG,CAAK,CAAC0F,CAAD,CAAL,CAAmBS,MAAnB,IACAzF,CAAK,CAACF,MAAN,CAAaX,CAAb,CACA,CACD,CAED,QAASuG,CAAAA,CAAT,CAA4BpG,CAA5B,CAAmCwF,CAAnC,CAA8Ca,CAA9C,CAAwDJ,CAAxD,CAAgE,CAC/D,GAAIK,CAAAA,CAAJ,CAAWC,CAAX,CAEA,GAAI,CAACF,CAAD,EAAa,CAACJ,CAAlB,CAA0B,CACzB,MACA,CAED,GAAI,CAACI,CAAL,CAAe,CACdC,CAAK,GACL,CAFD,IAEO,IAAI,CAACL,CAAL,CAAa,CACnBM,CAAK,GACL,CAFM,IAEA,IAAIF,CAAQ,CAAC3F,KAAT,GAAmBuF,CAAM,CAACvF,KAA9B,CAAqC,CAC3C6F,CAAK,CAAGD,CAAK,GACb,CAED,GAAIC,CAAJ,CAAW,CACVP,CAAa,CAAChG,CAAD,CAAQwF,CAAS,CAACe,KAAlB,CAAyBF,CAAzB,CACb,CACD,GAAIC,CAAJ,CAAW,CACVN,CAAa,CAAChG,CAAD,CAAQwF,CAAS,CAACc,KAAlB,CAAyBL,CAAzB,CACb,CACD,CAED,QAASO,CAAAA,CAAT,CAA0BxG,CAA1B,CAAiCyG,CAAjC,CAAwC,IACnCC,CAAAA,CAAO,CAAG1G,CAAK,CAAC0F,CAAD,CADoB,CAEnCF,CAAS,CAAGkB,CAAO,CAACC,UAFe,CAGnCN,CAHmC,CAGzBJ,CAHyB,CAKvC,GAAI,CAACT,CAAS,CAACc,KAAX,EAAoB,CAACd,CAAS,CAACe,KAAnC,CAA0C,CACzC,MACA,CAED,GAAmB,WAAf,GAAAE,CAAK,CAACG,IAAV,CAAgC,CAC/BX,CAAM,CAAG7B,CAAM,CAACY,MAAP,CAAc0B,CAAO,CAACG,OAAtB,CAA+BJ,CAA/B,CACT,CAFD,IAEO,IAAmB,UAAf,GAAAA,CAAK,CAACG,IAAV,CAA+B,CACrC,MACA,CAEDP,CAAQ,CAAGK,CAAO,CAACI,QAAnB,CACAJ,CAAO,CAACI,QAAR,CAAmBb,CAAnB,CACAG,CAAkB,CAACpG,CAAD,CAAQwF,CAAR,CAAmBa,CAAnB,CAA6BJ,CAA7B,CAClB,CAED,QAASc,CAAAA,CAAT,CAA2B/G,CAA3B,CAAkCyG,CAAlC,CAAyC,IACpCC,CAAAA,CAAO,CAAG1G,CAAK,CAAC0F,CAAD,CADqB,CAEpCsB,CAAQ,CAAGN,CAAO,CAACC,UAAR,CAAmBM,KAFM,CAGpChB,CAAM,CAAGe,CAAQ,EAAI5C,CAAM,CAACY,MAAP,CAAc0B,CAAO,CAACG,OAAtB,CAA+BJ,CAA/B,CAHe,CAIxC,GAAIR,CAAJ,CAAY,CACXD,CAAa,CAAChG,CAAD,CAAQgH,CAAR,CAAkBf,CAAlB,CACb,CACD,CAED3S,CAAK,CAAC4C,QAAN,CAAepD,MAAf,CAAsB6S,OAAtB,CAA8BC,UAA9B,CAA2C1P,CAA3C,CAEA,GAAIgR,CAAAA,CAAM,CAAG,CACZC,EAAE,CAAE,YADQ,CAGZC,UAAU,CAAE,oBAASpH,CAAT,CAAgB,CAC3BA,CAAK,CAAC0F,CAAD,CAAL,CAAqB,CACpB2B,QAAQ,CAAE,EADU,CAGrB,CAPW,CASZC,YAAY,CAAE,sBAAStH,CAAT,CAAgB,CAC7B,GAAI0G,CAAAA,CAAO,CAAG1G,CAAK,CAAC0F,CAAD,CAAnB,CACAgB,CAAO,CAACa,SAAR,IACAb,CAAO,CAACC,UAAR,CAAqB,EAArB,CACAD,CAAO,CAACc,SAAR,CAAoB,EAApB,CACAd,CAAO,CAACG,OAAR,CAAkB,EAClB,CAfW,CAiBZY,kBAAkB,CAAE,4BAASzH,CAAT,CAAgB0H,CAAhB,CAAsBpR,CAAtB,CAA+B,IAC9CqR,CAAAA,CAAY,CAAGD,CAAI,CAACxI,KAD0B,CAE9CwH,CAAO,CAAG1G,CAAK,CAAC0F,CAAD,CAF+B,CAG9ClC,CAAM,CAAGkD,CAAO,CAACc,SAAR,CAAkBG,CAAlB,EAAkC,EAHG,CAI9C3G,CAAO,CAAGhB,CAAK,CAAC4H,gBAAN,CAAuBD,CAAvB,CAJoC,CAK9ChH,CAAO,CAAGX,CAAK,CAACY,IAAN,CAAW0D,QAAX,CAAoBqD,CAApB,CALoC,CAM9C9N,CAAM,CAAGgM,CAAS,CAAClF,CAAD,CAAUrK,CAAV,CAN4B,CAO9CoG,CAAQ,CAAGgL,CAAI,CAACG,IAAL,CAAUjH,IAAV,EAAkB,EAPiB,CAQ9CtL,CAAI,CAAGoH,CAAQ,CAACtI,MAR8B,CAS9CgB,CAAG,CAAG4K,CAAK,CAAC5K,GATkC,CAU9CK,CAV8C,CAU3CsG,CAV2C,CAUvC2E,CAVuC,CAYlDtL,CAAG,CAAC+L,IAAJ,GAEA,IAAK1L,CAAC,CAAG,CAAT,CAAYA,CAAC,CAAGH,CAAhB,CAAsB,EAAEG,CAAxB,CAA2B,CAC1BsG,CAAE,CAAGW,CAAQ,CAACjH,CAAD,CAAb,CAEA,GAAIuL,CAAO,EAAIjF,CAAX,EAAiB,CAACA,CAAE,CAAC+L,MAArB,EAA+B,CAAC/L,CAAE,CAACC,MAAH,CAAU+L,IAA9C,CAAoD,CACnDvE,CAAM,CAAC7O,IAAP,CAAY+L,CAAK,CAAG,GAAIzB,CAAAA,CAAJ,CAAUpF,CAAV,CAAkBzE,CAAlB,CAAuB2G,CAAvB,CAA2BtG,CAA3B,CAApB,EACAiL,CAAK,CAACF,MAAN,CAAaE,CAAK,CAACwF,QAAN,CAAiB,CAC7B8B,MAAM,GADuB,CAE7BhI,KAAK,CAAEA,CAFsB,CAG7BiI,SAAS,CAAExS,CAHkB,CAI7BkL,OAAO,CAAEA,CAJoB,CAK7BgH,YAAY,CAAEA,CALe,CAA9B,CAOA,CATD,IASO,CACNjH,CAAK,CAAG,IACR,CAED3E,CAAE,CAAC2J,CAAD,CAAF,CAAkBhF,CAClB,CAEDtL,CAAG,CAACmM,OAAJ,GAIAkE,CAAS,CAACM,KAAV,CAAgBW,CAAO,CAACC,UAAxB,CAAoC9M,CAAM,CAAC2L,SAAP,EAAoB,EAAxD,CAA4D,CAC3D0C,MAAM,CAAE,gBAASC,CAAT,CAAclC,CAAd,CAAsBmC,CAAtB,CAA8B,CACrCnC,CAAM,CAACkC,CAAD,CAAN,CAAclC,CAAM,CAACkC,CAAD,CAAN,EAAe,EAA7B,CACAlC,CAAM,CAACkC,CAAD,CAAN,CAAYT,CAAI,CAACxI,KAAjB,EAA0BkJ,CAAM,CAACD,CAAD,CAAhC,CACAzB,CAAO,CAACa,SAAR,GACA,CAL0D,CAA5D,CAOA,CA7DW,CA+DZc,WAAW,CAAE,qBAASrI,CAAT,CAAgB1J,CAAhB,CAAyB,CACrC0J,CAAK,CAAC0F,CAAD,CAAL,CAAmBmB,OAAnB,CAA6BzC,CAAM,CAACC,OAAP,CAC5BrE,CAAK,CAAC0F,CAAD,CAAL,CAAmB8B,SADS,CAE5BlR,CAF4B,CAG7B,CAnEW,CAwEZgS,iBAAiB,CAAE,2BAAStI,CAAT,CAAgB,CAClCoE,CAAM,CAACnD,IAAP,CAAYjB,CAAZ,CAAmBA,CAAK,CAAC0F,CAAD,CAAL,CAAmBmB,OAAtC,CACA,CA1EW,CA4EZ0B,WAAW,CAAE,qBAASvI,CAAT,CAAgByG,CAAhB,CAAuB,CAInC,GAAIzG,CAAK,CAAC0F,CAAD,CAAL,CAAmB6B,SAAvB,CAAkC,CACjC,OAAQd,CAAK,CAACG,IAAd,EACA,IAAK,WAAL,CACA,IAAK,UAAL,CACCJ,CAAgB,CAACxG,CAAD,CAAQyG,CAAR,CAAhB,CACA,MACD,IAAK,OAAL,CACCM,CAAiB,CAAC/G,CAAD,CAAQyG,CAAR,CAAjB,CACA,MACD,QARA,CAUA,CACD,CA5FW,CA8FZ+B,UAAU,CAAE,oBAASxI,CAAT,CAAgB,IACvB0G,CAAAA,CAAO,CAAG1G,CAAK,CAAC0F,CAAD,CADQ,CAEvBW,CAAQ,CAAGK,CAAO,CAACW,QAFI,CAGvBoB,CAAO,CAAG/B,CAAO,CAACW,QAAR,CAAmBrH,CAAK,CAAC0I,UAAN,EAAoB,EAH1B,CAIvB3R,CAAO,CAAGjD,CAAK,CAAC6C,SAAN,CAAgB0P,CAAhB,CAA0BoC,CAA1B,CAJa,CAKvBhT,CALuB,CAKpBH,CALoB,CAKdkL,CALc,CAKNE,CALM,CAO3B,IAAKjL,CAAC,CAAG,CAAJ,CAAOH,CAAI,CAAGyB,CAAO,CAAC3C,MAA3B,CAAmCqB,CAAC,CAAGH,CAAvC,CAA6C,EAAEG,CAA/C,CAAkD,CACjD+K,CAAM,CAAGzJ,CAAO,CAACtB,CAAD,CAAhB,CACA,GAAI+K,CAAM,CAAC,CAAD,CAAV,CAAe,CACdE,CAAK,CAAGF,CAAM,CAAC,CAAD,CAAN,CAAUkF,CAAV,CAAR,CACA,GAAIhF,CAAJ,CAAW,CACVA,CAAK,CAACwF,QAAN,CAAe8B,MAAf,CAAuC,CAAd,GAAAxH,CAAM,CAAC,CAAD,CAA/B,CACAE,CAAK,CAACF,MAAN,CAAaE,CAAK,CAACwF,QAAnB,CACA,CACD,CACD,CAED,GAAIQ,CAAO,CAACP,MAAR,EAAkBpP,CAAO,CAAC3C,MAA9B,CAAsC,CACrCgQ,CAAM,CAAC5D,MAAP,CAAckG,CAAO,CAACG,OAAtB,EACA,GAAI,CAAC7G,CAAK,CAAC2I,SAAX,CAAsB,CACrB3I,CAAK,CAAC4I,MAAN,EACA,CACD,CAED,MAAOlC,CAAAA,CAAO,CAACP,MACf,CAxHW,CAAb,CA6HA7S,CAAK,CAACqS,OAAN,CAAckD,QAAd,CAAuB3B,CAAvB,EAEA,MAAOA,CAAAA,CAEN,CAn8CA,CAAD","sourcesContent":["/*!\r\n * @license\r\n * chartjs-plugin-datalabels\r\n * http://chartjs.org/\r\n * Version: 0.5.0\r\n *\r\n * Copyright 2018 Chart.js Contributors\r\n * Released under the MIT license\r\n * https://github.com/chartjs/chartjs-plugin-datalabels/blob/master/LICENSE.md\r\n */\r\n(function (global, factory) {\r\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('block_ases/Chart')) :\r\ntypeof define === 'function' && define.amd ? define(['block_ases/Chart'], factory) :\r\n(global.ChartDataLabels = factory(global.Chart));\r\n}(this, (function (Chart) { 'use strict';\r\n\r\nChart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\r\n\r\nvar helpers = Chart.helpers;\r\n\r\nvar devicePixelRatio = (function() {\r\n\tif (typeof window !== 'undefined') {\r\n\t\tif (window.devicePixelRatio) {\r\n\t\t\treturn window.devicePixelRatio;\r\n\t\t}\r\n\r\n\t\t// devicePixelRatio is undefined on IE10\r\n\t\t// https://stackoverflow.com/a/20204180/8837887\r\n\t\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/85\r\n\t\tvar screen = window.screen;\r\n\t\tif (screen) {\r\n\t\t\treturn (screen.deviceXDPI || 1) / (screen.logicalXDPI || 1);\r\n\t\t}\r\n\t}\r\n\r\n\treturn 1;\r\n}());\r\n\r\nvar utils = {\r\n\t// @todo move this in Chart.helpers.toTextLines\r\n\ttoTextLines: function(inputs) {\r\n\t\tvar lines = [];\r\n\t\tvar input;\r\n\r\n\t\tinputs = [].concat(inputs);\r\n\t\twhile (inputs.length) {\r\n\t\t\tinput = inputs.pop();\r\n\t\t\tif (typeof input === 'string') {\r\n\t\t\t\tlines.unshift.apply(lines, input.split('\\n'));\r\n\t\t\t} else if (Array.isArray(input)) {\r\n\t\t\t\tinputs.push.apply(inputs, input);\r\n\t\t\t} else if (!helpers.isNullOrUndef(inputs)) {\r\n\t\t\t\tlines.unshift('' + input);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn lines;\r\n\t},\r\n\r\n\t// @todo move this method in Chart.helpers.canvas.toFont (deprecates helpers.fontString)\r\n\t// @see https://developer.mozilla.org/en-US/docs/Web/CSS/font\r\n\ttoFontString: function(font) {\r\n\t\tif (!font || helpers.isNullOrUndef(font.size) || helpers.isNullOrUndef(font.family)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\treturn (font.style ? font.style + ' ' : '')\r\n\t\t\t+ (font.weight ? font.weight + ' ' : '')\r\n\t\t\t+ font.size + 'px '\r\n\t\t\t+ font.family;\r\n\t},\r\n\r\n\t// @todo move this in Chart.helpers.canvas.textSize\r\n\t// @todo cache calls of measureText if font doesn't change?!\r\n\ttextSize: function(ctx, lines, font) {\r\n\t\tvar items = [].concat(lines);\r\n\t\tvar ilen = items.length;\r\n\t\tvar prev = ctx.font;\r\n\t\tvar width = 0;\r\n\t\tvar i;\r\n\r\n\t\tctx.font = font.string;\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\twidth = Math.max(ctx.measureText(items[i]).width, width);\r\n\t\t}\r\n\r\n\t\tctx.font = prev;\r\n\r\n\t\treturn {\r\n\t\t\theight: ilen * font.lineHeight,\r\n\t\t\twidth: width\r\n\t\t};\r\n\t},\r\n\r\n\t// @todo move this method in Chart.helpers.options.toFont\r\n\tparseFont: function(value) {\r\n\t\tvar global = Chart.defaults.global;\r\n\t\tvar size = helpers.valueOrDefault(value.size, global.defaultFontSize);\r\n\t\tvar font = {\r\n\t\t\tfamily: helpers.valueOrDefault(value.family, global.defaultFontFamily),\r\n\t\t\tlineHeight: helpers.options.toLineHeight(value.lineHeight, size),\r\n\t\t\tsize: size,\r\n\t\t\tstyle: helpers.valueOrDefault(value.style, global.defaultFontStyle),\r\n\t\t\tweight: helpers.valueOrDefault(value.weight, null),\r\n\t\t\tstring: ''\r\n\t\t};\r\n\r\n\t\tfont.string = utils.toFontString(font);\r\n\t\treturn font;\r\n\t},\r\n\r\n\t/**\r\n\t * Returns value bounded by min and max. This is equivalent to max(min, min(value, max)).\r\n\t * @todo move this method in Chart.helpers.bound\r\n\t * https://doc.qt.io/qt-5/qtglobal.html#qBound\r\n\t */\r\n\tbound: function(min, value, max) {\r\n\t\treturn Math.max(min, Math.min(value, max));\r\n\t},\r\n\r\n\t/**\r\n\t * Returns an array of pair [value, state] where state is:\r\n\t * * -1: value is only in a0 (removed)\r\n\t * *  1: value is only in a1 (added)\r\n\t */\r\n\tarrayDiff: function(a0, a1) {\r\n\t\tvar prev = a0.slice();\r\n\t\tvar updates = [];\r\n\t\tvar i, j, ilen, v;\r\n\r\n\t\tfor (i = 0, ilen = a1.length; i < ilen; ++i) {\r\n\t\t\tv = a1[i];\r\n\t\t\tj = prev.indexOf(v);\r\n\r\n\t\t\tif (j === -1) {\r\n\t\t\t\tupdates.push([v, 1]);\r\n\t\t\t} else {\r\n\t\t\t\tprev.splice(j, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (i = 0, ilen = prev.length; i < ilen; ++i) {\r\n\t\t\tupdates.push([prev[i], -1]);\r\n\t\t}\r\n\r\n\t\treturn updates;\r\n\t},\r\n\r\n\t/**\r\n\t * https://github.com/chartjs/chartjs-plugin-datalabels/issues/70\r\n\t */\r\n\trasterize: function(v) {\r\n\t\treturn Math.round(v * devicePixelRatio) / devicePixelRatio;\r\n\t}\r\n};\r\n\r\nfunction orient(point, origin) {\r\n\tvar x0 = origin.x;\r\n\tvar y0 = origin.y;\r\n\r\n\tif (x0 === null) {\r\n\t\treturn {x: 0, y: -1};\r\n\t}\r\n\tif (y0 === null) {\r\n\t\treturn {x: 1, y: 0};\r\n\t}\r\n\r\n\tvar dx = point.x - x0;\r\n\tvar dy = point.y - y0;\r\n\tvar ln = Math.sqrt(dx * dx + dy * dy);\r\n\r\n\treturn {\r\n\t\tx: ln ? dx / ln : 0,\r\n\t\ty: ln ? dy / ln : -1\r\n\t};\r\n}\r\n\r\nfunction aligned(x, y, vx, vy, align) {\r\n\tswitch (align) {\r\n\tcase 'center':\r\n\t\tvx = vy = 0;\r\n\t\tbreak;\r\n\tcase 'bottom':\r\n\t\tvx = 0;\r\n\t\tvy = 1;\r\n\t\tbreak;\r\n\tcase 'right':\r\n\t\tvx = 1;\r\n\t\tvy = 0;\r\n\t\tbreak;\r\n\tcase 'left':\r\n\t\tvx = -1;\r\n\t\tvy = 0;\r\n\t\tbreak;\r\n\tcase 'top':\r\n\t\tvx = 0;\r\n\t\tvy = -1;\r\n\t\tbreak;\r\n\tcase 'start':\r\n\t\tvx = -vx;\r\n\t\tvy = -vy;\r\n\t\tbreak;\r\n\tcase 'end':\r\n\t\t// keep natural orientation\r\n\t\tbreak;\r\n\tdefault:\r\n\t\t// clockwise rotation (in degree)\r\n\t\talign *= (Math.PI / 180);\r\n\t\tvx = Math.cos(align);\r\n\t\tvy = Math.sin(align);\r\n\t\tbreak;\r\n\t}\r\n\r\n\treturn {\r\n\t\tx: x,\r\n\t\ty: y,\r\n\t\tvx: vx,\r\n\t\tvy: vy\r\n\t};\r\n}\r\n\r\n// Line clipping (Cohen–Sutherland algorithm)\r\n// https://en.wikipedia.org/wiki/Cohen–Sutherland_algorithm\r\n\r\nvar R_INSIDE = 0;\r\nvar R_LEFT = 1;\r\nvar R_RIGHT = 2;\r\nvar R_BOTTOM = 4;\r\nvar R_TOP = 8;\r\n\r\nfunction region(x, y, rect) {\r\n\tvar res = R_INSIDE;\r\n\r\n\tif (x < rect.left) {\r\n\t\tres |= R_LEFT;\r\n\t} else if (x > rect.right) {\r\n\t\tres |= R_RIGHT;\r\n\t}\r\n\tif (y < rect.top) {\r\n\t\tres |= R_TOP;\r\n\t} else if (y > rect.bottom) {\r\n\t\tres |= R_BOTTOM;\r\n\t}\r\n\r\n\treturn res;\r\n}\r\n\r\nfunction clipped(segment, area) {\r\n\tvar x0 = segment.x0;\r\n\tvar y0 = segment.y0;\r\n\tvar x1 = segment.x1;\r\n\tvar y1 = segment.y1;\r\n\tvar r0 = region(x0, y0, area);\r\n\tvar r1 = region(x1, y1, area);\r\n\tvar r, x, y;\r\n\r\n\t// eslint-disable-next-line no-constant-condition\r\n\twhile (true) {\r\n\t\tif (!(r0 | r1) || (r0 & r1)) {\r\n\t\t\t// both points inside or on the same side: no clipping\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// at least one point is outside\r\n\t\tr = r0 || r1;\r\n\r\n\t\tif (r & R_TOP) {\r\n\t\t\tx = x0 + (x1 - x0) * (area.top - y0) / (y1 - y0);\r\n\t\t\ty = area.top;\r\n\t\t} else if (r & R_BOTTOM) {\r\n\t\t\tx = x0 + (x1 - x0) * (area.bottom - y0) / (y1 - y0);\r\n\t\t\ty = area.bottom;\r\n\t\t} else if (r & R_RIGHT) {\r\n\t\t\ty = y0 + (y1 - y0) * (area.right - x0) / (x1 - x0);\r\n\t\t\tx = area.right;\r\n\t\t} else if (r & R_LEFT) {\r\n\t\t\ty = y0 + (y1 - y0) * (area.left - x0) / (x1 - x0);\r\n\t\t\tx = area.left;\r\n\t\t}\r\n\r\n\t\tif (r === r0) {\r\n\t\t\tx0 = x;\r\n\t\t\ty0 = y;\r\n\t\t\tr0 = region(x0, y0, area);\r\n\t\t} else {\r\n\t\t\tx1 = x;\r\n\t\t\ty1 = y;\r\n\t\t\tr1 = region(x1, y1, area);\r\n\t\t}\r\n\t}\r\n\r\n\treturn {\r\n\t\tx0: x0,\r\n\t\tx1: x1,\r\n\t\ty0: y0,\r\n\t\ty1: y1\r\n\t};\r\n}\r\n\r\nfunction compute(range, config) {\r\n\tvar anchor = config.anchor;\r\n\tvar segment = range;\r\n\tvar x, y;\r\n\r\n\tif (config.clamp) {\r\n\t\tsegment = clipped(segment, config.area);\r\n\t}\r\n\r\n\tif (anchor === 'start') {\r\n\t\tx = segment.x0;\r\n\t\ty = segment.y0;\r\n\t} else if (anchor === 'end') {\r\n\t\tx = segment.x1;\r\n\t\ty = segment.y1;\r\n\t} else {\r\n\t\tx = (segment.x0 + segment.x1) / 2;\r\n\t\ty = (segment.y0 + segment.y1) / 2;\r\n\t}\r\n\r\n\treturn aligned(x, y, range.vx, range.vy, config.align);\r\n}\r\n\r\nvar positioners = {\r\n\tarc: function(vm, config) {\r\n\t\tvar angle = (vm.startAngle + vm.endAngle) / 2;\r\n\t\tvar vx = Math.cos(angle);\r\n\t\tvar vy = Math.sin(angle);\r\n\t\tvar r0 = vm.innerRadius;\r\n\t\tvar r1 = vm.outerRadius;\r\n\r\n\t\treturn compute({\r\n\t\t\tx0: vm.x + vx * r0,\r\n\t\t\ty0: vm.y + vy * r0,\r\n\t\t\tx1: vm.x + vx * r1,\r\n\t\t\ty1: vm.y + vy * r1,\r\n\t\t\tvx: vx,\r\n\t\t\tvy: vy\r\n\t\t}, config);\r\n\t},\r\n\r\n\tpoint: function(vm, config) {\r\n\t\tvar v = orient(vm, config.origin);\r\n\t\tvar rx = v.x * vm.radius;\r\n\t\tvar ry = v.y * vm.radius;\r\n\r\n\t\treturn compute({\r\n\t\t\tx0: vm.x - rx,\r\n\t\t\ty0: vm.y - ry,\r\n\t\t\tx1: vm.x + rx,\r\n\t\t\ty1: vm.y + ry,\r\n\t\t\tvx: v.x,\r\n\t\t\tvy: v.y\r\n\t\t}, config);\r\n\t},\r\n\r\n\trect: function(vm, config) {\r\n\t\tvar v = orient(vm, config.origin);\r\n\t\tvar x = vm.x;\r\n\t\tvar y = vm.y;\r\n\t\tvar sx = 0;\r\n\t\tvar sy = 0;\r\n\r\n\t\tif (vm.horizontal) {\r\n\t\t\tx = Math.min(vm.x, vm.base);\r\n\t\t\tsx = Math.abs(vm.base - vm.x);\r\n\t\t} else {\r\n\t\t\ty = Math.min(vm.y, vm.base);\r\n\t\t\tsy = Math.abs(vm.base - vm.y);\r\n\t\t}\r\n\r\n\t\treturn compute({\r\n\t\t\tx0: x,\r\n\t\t\ty0: y + sy,\r\n\t\t\tx1: x + sx,\r\n\t\t\ty1: y,\r\n\t\t\tvx: v.x,\r\n\t\t\tvy: v.y\r\n\t\t}, config);\r\n\t},\r\n\r\n\tfallback: function(vm, config) {\r\n\t\tvar v = orient(vm, config.origin);\r\n\r\n\t\treturn compute({\r\n\t\t\tx0: vm.x,\r\n\t\t\ty0: vm.y,\r\n\t\t\tx1: vm.x,\r\n\t\t\ty1: vm.y,\r\n\t\t\tvx: v.x,\r\n\t\t\tvy: v.y\r\n\t\t}, config);\r\n\t}\r\n};\r\n\r\nvar helpers$1 = Chart.helpers;\r\nvar rasterize = utils.rasterize;\r\n\r\nfunction boundingRects(model) {\r\n\tvar borderWidth = model.borderWidth || 0;\r\n\tvar padding = model.padding;\r\n\tvar th = model.size.height;\r\n\tvar tw = model.size.width;\r\n\tvar tx = -tw / 2;\r\n\tvar ty = -th / 2;\r\n\r\n\treturn {\r\n\t\tframe: {\r\n\t\t\tx: tx - padding.left - borderWidth,\r\n\t\t\ty: ty - padding.top - borderWidth,\r\n\t\t\tw: tw + padding.width + borderWidth * 2,\r\n\t\t\th: th + padding.height + borderWidth * 2\r\n\t\t},\r\n\t\ttext: {\r\n\t\t\tx: tx,\r\n\t\t\ty: ty,\r\n\t\t\tw: tw,\r\n\t\t\th: th\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction getScaleOrigin(el) {\r\n\tvar horizontal = el._model.horizontal;\r\n\tvar scale = el._scale || (horizontal && el._xScale) || el._yScale;\r\n\r\n\tif (!scale) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (scale.xCenter !== undefined && scale.yCenter !== undefined) {\r\n\t\treturn {x: scale.xCenter, y: scale.yCenter};\r\n\t}\r\n\r\n\tvar pixel = scale.getBasePixel();\r\n\treturn horizontal ?\r\n\t\t{x: pixel, y: null} :\r\n\t\t{x: null, y: pixel};\r\n}\r\n\r\nfunction getPositioner(el) {\r\n\tif (el instanceof Chart.elements.Arc) {\r\n\t\treturn positioners.arc;\r\n\t}\r\n\tif (el instanceof Chart.elements.Point) {\r\n\t\treturn positioners.point;\r\n\t}\r\n\tif (el instanceof Chart.elements.Rectangle) {\r\n\t\treturn positioners.rect;\r\n\t}\r\n\treturn positioners.fallback;\r\n}\r\n\r\nfunction drawFrame(ctx, rect, model) {\r\n\tvar bgColor = model.backgroundColor;\r\n\tvar borderColor = model.borderColor;\r\n\tvar borderWidth = model.borderWidth;\r\n\r\n\tif (!bgColor && (!borderColor || !borderWidth)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tctx.beginPath();\r\n\r\n\thelpers$1.canvas.roundedRect(\r\n\t\tctx,\r\n\t\trasterize(rect.x) + borderWidth / 2,\r\n\t\trasterize(rect.y) + borderWidth / 2,\r\n\t\trasterize(rect.w) - borderWidth,\r\n\t\trasterize(rect.h) - borderWidth,\r\n\t\tmodel.borderRadius);\r\n\r\n\tctx.closePath();\r\n\r\n\tif (bgColor) {\r\n\t\tctx.fillStyle = bgColor;\r\n\t\tctx.fill();\r\n\t}\r\n\r\n\tif (borderColor && borderWidth) {\r\n\t\tctx.strokeStyle = borderColor;\r\n\t\tctx.lineWidth = borderWidth;\r\n\t\tctx.lineJoin = 'miter';\r\n\t\tctx.stroke();\r\n\t}\r\n}\r\n\r\nfunction textGeometry(rect, align, font) {\r\n\tvar h = font.lineHeight;\r\n\tvar w = rect.w;\r\n\tvar x = rect.x;\r\n\tvar y = rect.y + h / 2;\r\n\r\n\tif (align === 'center') {\r\n\t\tx += w / 2;\r\n\t} else if (align === 'end' || align === 'right') {\r\n\t\tx += w;\r\n\t}\r\n\r\n\treturn {\r\n\t\th: h,\r\n\t\tw: w,\r\n\t\tx: x,\r\n\t\ty: y\r\n\t};\r\n}\r\n\r\nfunction drawTextLine(ctx, text, cfg) {\r\n\tvar shadow = ctx.shadowBlur;\r\n\tvar stroked = cfg.stroked;\r\n\tvar x = rasterize(cfg.x);\r\n\tvar y = rasterize(cfg.y);\r\n\tvar w = rasterize(cfg.w);\r\n\r\n\tif (stroked) {\r\n\t\tctx.strokeText(text, x, y, w);\r\n\t}\r\n\r\n\tif (cfg.filled) {\r\n\t\tif (shadow && stroked) {\r\n\t\t\t// Prevent drawing shadow on both the text stroke and fill, so\r\n\t\t\t// if the text is stroked, remove the shadow for the text fill.\r\n\t\t\tctx.shadowBlur = 0;\r\n\t\t}\r\n\r\n\t\tctx.fillText(text, x, y, w);\r\n\r\n\t\tif (shadow && stroked) {\r\n\t\t\tctx.shadowBlur = shadow;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction drawText(ctx, lines, rect, model) {\r\n\tvar align = model.textAlign;\r\n\tvar color = model.color;\r\n\tvar filled = !!color;\r\n\tvar font = model.font;\r\n\tvar ilen = lines.length;\r\n\tvar strokeColor = model.textStrokeColor;\r\n\tvar strokeWidth = model.textStrokeWidth;\r\n\tvar stroked = strokeColor && strokeWidth;\r\n\tvar i;\r\n\r\n\tif (!ilen || (!filled && !stroked)) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Adjust coordinates based on text alignment and line height\r\n\trect = textGeometry(rect, align, font);\r\n\r\n\tctx.font = font.string;\r\n\tctx.textAlign = align;\r\n\tctx.textBaseline = 'middle';\r\n\tctx.shadowBlur = model.textShadowBlur;\r\n\tctx.shadowColor = model.textShadowColor;\r\n\r\n\tif (filled) {\r\n\t\tctx.fillStyle = color;\r\n\t}\r\n\tif (stroked) {\r\n\t\tctx.lineJoin = 'round';\r\n\t\tctx.lineWidth = strokeWidth;\r\n\t\tctx.strokeStyle = strokeColor;\r\n\t}\r\n\r\n\tfor (i = 0, ilen = lines.length; i < ilen; ++i) {\r\n\t\tdrawTextLine(ctx, lines[i], {\r\n\t\t\tstroked: stroked,\r\n\t\t\tfilled: filled,\r\n\t\t\tw: rect.w,\r\n\t\t\tx: rect.x,\r\n\t\t\ty: rect.y + rect.h * i\r\n\t\t});\r\n\t}\r\n}\r\n\r\nvar Label = function(config, ctx, el, index) {\r\n\tvar me = this;\r\n\r\n\tme._config = config;\r\n\tme._index = index;\r\n\tme._model = null;\r\n\tme._rects = null;\r\n\tme._ctx = ctx;\r\n\tme._el = el;\r\n};\r\n\r\nhelpers$1.extend(Label.prototype, {\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_modelize: function(display, lines, config, context) {\r\n\t\tvar me = this;\r\n\t\tvar index = me._index;\r\n\t\tvar resolve = helpers$1.options.resolve;\r\n\t\tvar font = utils.parseFont(resolve([config.font, {}], context, index));\r\n\t\tvar color = resolve([config.color, Chart.defaults.global.defaultFontColor], context, index);\r\n\r\n\t\treturn {\r\n\t\t\talign: resolve([config.align, 'center'], context, index),\r\n\t\t\tanchor: resolve([config.anchor, 'center'], context, index),\r\n\t\t\tarea: context.chart.chartArea,\r\n\t\t\tbackgroundColor: resolve([config.backgroundColor, null], context, index),\r\n\t\t\tborderColor: resolve([config.borderColor, null], context, index),\r\n\t\t\tborderRadius: resolve([config.borderRadius, 0], context, index),\r\n\t\t\tborderWidth: resolve([config.borderWidth, 0], context, index),\r\n\t\t\tclamp: resolve([config.clamp, false], context, index),\r\n\t\t\tclip: resolve([config.clip, false], context, index),\r\n\t\t\tcolor: color,\r\n\t\t\tdisplay: display,\r\n\t\t\tfont: font,\r\n\t\t\tlines: lines,\r\n\t\t\toffset: resolve([config.offset, 0], context, index),\r\n\t\t\topacity: resolve([config.opacity, 1], context, index),\r\n\t\t\torigin: getScaleOrigin(me._el),\r\n\t\t\tpadding: helpers$1.options.toPadding(resolve([config.padding, 0], context, index)),\r\n\t\t\tpositioner: getPositioner(me._el),\r\n\t\t\trotation: resolve([config.rotation, 0], context, index) * (Math.PI / 180),\r\n\t\t\tsize: utils.textSize(me._ctx, lines, font),\r\n\t\t\ttextAlign: resolve([config.textAlign, 'start'], context, index),\r\n\t\t\ttextShadowBlur: resolve([config.textShadowBlur, 0], context, index),\r\n\t\t\ttextShadowColor: resolve([config.textShadowColor, color], context, index),\r\n\t\t\ttextStrokeColor: resolve([config.textStrokeColor, color], context, index),\r\n\t\t\ttextStrokeWidth: resolve([config.textStrokeWidth, 0], context, index)\r\n\t\t};\r\n\t},\r\n\r\n\tupdate: function(context) {\r\n\t\tvar me = this;\r\n\t\tvar model = null;\r\n\t\tvar rects = null;\r\n\t\tvar index = me._index;\r\n\t\tvar config = me._config;\r\n\t\tvar value, label, lines;\r\n\r\n\t\t// We first resolve the display option (separately) to avoid computing\r\n\t\t// other options in case the label is hidden (i.e. display: false).\r\n\t\tvar display = helpers$1.options.resolve([config.display, true], context, index);\r\n\r\n\t\tif (display) {\r\n\t\t\tvalue = context.dataset.data[index];\r\n\t\t\tlabel = helpers$1.valueOrDefault(helpers$1.callback(config.formatter, [value, context]), value);\r\n\t\t\tlines = helpers$1.isNullOrUndef(label) ? [] : utils.toTextLines(label);\r\n\r\n\t\t\tif (lines.length) {\r\n\t\t\t\tmodel = me._modelize(display, lines, config, context);\r\n\t\t\t\trects = boundingRects(model);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tme._model = model;\r\n\t\tme._rects = rects;\r\n\t},\r\n\r\n\tgeometry: function() {\r\n\t\treturn this._rects ? this._rects.frame : {};\r\n\t},\r\n\r\n\trotation: function() {\r\n\t\treturn this._model ? this._model.rotation : 0;\r\n\t},\r\n\r\n\tvisible: function() {\r\n\t\treturn this._model && this._model.opacity;\r\n\t},\r\n\r\n\tmodel: function() {\r\n\t\treturn this._model;\r\n\t},\r\n\r\n\tdraw: function(chart, center) {\r\n\t\tvar me = this;\r\n\t\tvar ctx = chart.ctx;\r\n\t\tvar model = me._model;\r\n\t\tvar rects = me._rects;\r\n\t\tvar area;\r\n\r\n\t\tif (!this.visible()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tctx.save();\r\n\r\n\t\tif (model.clip) {\r\n\t\t\tarea = model.area;\r\n\t\t\tctx.beginPath();\r\n\t\t\tctx.rect(\r\n\t\t\t\tarea.left,\r\n\t\t\t\tarea.top,\r\n\t\t\t\tarea.right - area.left,\r\n\t\t\t\tarea.bottom - area.top);\r\n\t\t\tctx.clip();\r\n\t\t}\r\n\r\n\t\tctx.globalAlpha = utils.bound(0, model.opacity, 1);\r\n\t\tctx.translate(rasterize(center.x), rasterize(center.y));\r\n\t\tctx.rotate(model.rotation);\r\n\r\n\t\tdrawFrame(ctx, rects.frame, model);\r\n\t\tdrawText(ctx, model.lines, rects.text, model);\r\n\r\n\t\tctx.restore();\r\n\t}\r\n});\r\n\r\nvar helpers$2 = Chart.helpers;\r\n\r\nvar MIN_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\r\nvar MAX_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\n\r\nfunction rotated(point, center, angle) {\r\n\tvar cos = Math.cos(angle);\r\n\tvar sin = Math.sin(angle);\r\n\tvar cx = center.x;\r\n\tvar cy = center.y;\r\n\r\n\treturn {\r\n\t\tx: cx + cos * (point.x - cx) - sin * (point.y - cy),\r\n\t\ty: cy + sin * (point.x - cx) + cos * (point.y - cy)\r\n\t};\r\n}\r\n\r\nfunction projected(points, axis) {\r\n\tvar min = MAX_INTEGER;\r\n\tvar max = MIN_INTEGER;\r\n\tvar origin = axis.origin;\r\n\tvar i, pt, vx, vy, dp;\r\n\r\n\tfor (i = 0; i < points.length; ++i) {\r\n\t\tpt = points[i];\r\n\t\tvx = pt.x - origin.x;\r\n\t\tvy = pt.y - origin.y;\r\n\t\tdp = axis.vx * vx + axis.vy * vy;\r\n\t\tmin = Math.min(min, dp);\r\n\t\tmax = Math.max(max, dp);\r\n\t}\r\n\r\n\treturn {\r\n\t\tmin: min,\r\n\t\tmax: max\r\n\t};\r\n}\r\n\r\nfunction toAxis(p0, p1) {\r\n\tvar vx = p1.x - p0.x;\r\n\tvar vy = p1.y - p0.y;\r\n\tvar ln = Math.sqrt(vx * vx + vy * vy);\r\n\r\n\treturn {\r\n\t\tvx: (p1.x - p0.x) / ln,\r\n\t\tvy: (p1.y - p0.y) / ln,\r\n\t\torigin: p0,\r\n\t\tln: ln\r\n\t};\r\n}\r\n\r\nvar HitBox = function() {\r\n\tthis._rotation = 0;\r\n\tthis._rect = {\r\n\t\tx: 0,\r\n\t\ty: 0,\r\n\t\tw: 0,\r\n\t\th: 0\r\n\t};\r\n};\r\n\r\nhelpers$2.extend(HitBox.prototype, {\r\n\tcenter: function() {\r\n\t\tvar r = this._rect;\r\n\t\treturn {\r\n\t\t\tx: r.x + r.w / 2,\r\n\t\t\ty: r.y + r.h / 2\r\n\t\t};\r\n\t},\r\n\r\n\tupdate: function(center, rect, rotation) {\r\n\t\tthis._rotation = rotation;\r\n\t\tthis._rect = {\r\n\t\t\tx: rect.x + center.x,\r\n\t\t\ty: rect.y + center.y,\r\n\t\t\tw: rect.w,\r\n\t\t\th: rect.h\r\n\t\t};\r\n\t},\r\n\r\n\tcontains: function(point) {\r\n\t\tvar me = this;\r\n\t\tvar margin = 1;\r\n\t\tvar rect = me._rect;\r\n\r\n\t\tpoint = rotated(point, me.center(), -me._rotation);\r\n\r\n\t\treturn !(point.x < rect.x - margin\r\n\t\t\t|| point.y < rect.y - margin\r\n\t\t\t|| point.x > rect.x + rect.w + margin * 2\r\n\t\t\t|| point.y > rect.y + rect.h + margin * 2);\r\n\t},\r\n\r\n\t// Separating Axis Theorem\r\n\t// https://gamedevelopment.tutsplus.com/tutorials/collision-detection-using-the-separating-axis-theorem--gamedev-169\r\n\tintersects: function(other) {\r\n\t\tvar r0 = this._points();\r\n\t\tvar r1 = other._points();\r\n\t\tvar axes = [\r\n\t\t\ttoAxis(r0[0], r0[1]),\r\n\t\t\ttoAxis(r0[0], r0[3])\r\n\t\t];\r\n\t\tvar i, pr0, pr1;\r\n\r\n\t\tif (this._rotation !== other._rotation) {\r\n\t\t\t// Only separate with r1 axis if the rotation is different,\r\n\t\t\t// else it's enough to separate r0 and r1 with r0 axis only!\r\n\t\t\taxes.push(\r\n\t\t\t\ttoAxis(r1[0], r1[1]),\r\n\t\t\t\ttoAxis(r1[0], r1[3])\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tfor (i = 0; i < axes.length; ++i) {\r\n\t\t\tpr0 = projected(r0, axes[i]);\r\n\t\t\tpr1 = projected(r1, axes[i]);\r\n\r\n\t\t\tif (pr0.max < pr1.min || pr1.max < pr0.min) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\t_points: function() {\r\n\t\tvar me = this;\r\n\t\tvar rect = me._rect;\r\n\t\tvar angle = me._rotation;\r\n\t\tvar center = me.center();\r\n\r\n\t\treturn [\r\n\t\t\trotated({x: rect.x, y: rect.y}, center, angle),\r\n\t\t\trotated({x: rect.x + rect.w, y: rect.y}, center, angle),\r\n\t\t\trotated({x: rect.x + rect.w, y: rect.y + rect.h}, center, angle),\r\n\t\t\trotated({x: rect.x, y: rect.y + rect.h}, center, angle)\r\n\t\t];\r\n\t}\r\n});\r\n\r\nfunction coordinates(view, model, geometry) {\r\n\tvar point = model.positioner(view, model);\r\n\tvar vx = point.vx;\r\n\tvar vy = point.vy;\r\n\r\n\tif (!vx && !vy) {\r\n\t\t// if aligned center, we don't want to offset the center point\r\n\t\treturn {x: point.x, y: point.y};\r\n\t}\r\n\r\n\tvar w = geometry.w;\r\n\tvar h = geometry.h;\r\n\r\n\t// take in account the label rotation\r\n\tvar rotation = model.rotation;\r\n\tvar dx = Math.abs(w / 2 * Math.cos(rotation)) + Math.abs(h / 2 * Math.sin(rotation));\r\n\tvar dy = Math.abs(w / 2 * Math.sin(rotation)) + Math.abs(h / 2 * Math.cos(rotation));\r\n\r\n\t// scale the unit vector (vx, vy) to get at least dx or dy equal to\r\n\t// w or h respectively (else we would calculate the distance to the\r\n\t// ellipse inscribed in the bounding rect)\r\n\tvar vs = 1 / Math.max(Math.abs(vx), Math.abs(vy));\r\n\tdx *= vx * vs;\r\n\tdy *= vy * vs;\r\n\r\n\t// finally, include the explicit offset\r\n\tdx += model.offset * vx;\r\n\tdy += model.offset * vy;\r\n\r\n\treturn {\r\n\t\tx: point.x + dx,\r\n\t\ty: point.y + dy\r\n\t};\r\n}\r\n\r\nfunction collide(labels, collider) {\r\n\tvar i, j, s0, s1;\r\n\r\n\t// IMPORTANT Iterate in the reverse order since items at the end of the\r\n\t// list have an higher weight/priority and thus should be less impacted\r\n\t// by the overlapping strategy.\r\n\r\n\tfor (i = labels.length - 1; i >= 0; --i) {\r\n\t\ts0 = labels[i].$layout;\r\n\r\n\t\tfor (j = i - 1; j >= 0 && s0._visible; --j) {\r\n\t\t\ts1 = labels[j].$layout;\r\n\r\n\t\t\tif (s1._visible && s0._box.intersects(s1._box)) {\r\n\t\t\t\tcollider(s0, s1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn labels;\r\n}\r\n\r\nfunction compute$1(labels) {\r\n\tvar i, ilen, label, state, geometry, center;\r\n\r\n\t// Initialize labels for overlap detection\r\n\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\r\n\t\tlabel = labels[i];\r\n\t\tstate = label.$layout;\r\n\r\n\t\tif (state._visible) {\r\n\t\t\tgeometry = label.geometry();\r\n\t\t\tcenter = coordinates(label._el._model, label.model(), geometry);\r\n\t\t\tstate._box.update(center, geometry, label.rotation());\r\n\t\t}\r\n\t}\r\n\r\n\t// Auto hide overlapping labels\r\n\treturn collide(labels, function(s0, s1) {\r\n\t\tvar h0 = s0._hidable;\r\n\t\tvar h1 = s1._hidable;\r\n\r\n\t\tif ((h0 && h1) || h1) {\r\n\t\t\ts1._visible = false;\r\n\t\t} else if (h0) {\r\n\t\t\ts0._visible = false;\r\n\t\t}\r\n\t});\r\n}\r\n\r\nvar layout = {\r\n\tprepare: function(datasets) {\r\n\t\tvar labels = [];\r\n\t\tvar i, j, ilen, jlen, label;\r\n\r\n\t\tfor (i = 0, ilen = datasets.length; i < ilen; ++i) {\r\n\t\t\tfor (j = 0, jlen = datasets[i].length; j < jlen; ++j) {\r\n\t\t\t\tlabel = datasets[i][j];\r\n\t\t\t\tlabels.push(label);\r\n\t\t\t\tlabel.$layout = {\r\n\t\t\t\t\t_box: new HitBox(),\r\n\t\t\t\t\t_hidable: false,\r\n\t\t\t\t\t_visible: true,\r\n\t\t\t\t\t_set: i,\r\n\t\t\t\t\t_idx: j\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// TODO New `z` option: labels with a higher z-index are drawn\r\n\t\t// of top of the ones with a lower index. Lowest z-index labels\r\n\t\t// are also discarded first when hiding overlapping labels.\r\n\t\tlabels.sort(function(a, b) {\r\n\t\t\tvar sa = a.$layout;\r\n\t\t\tvar sb = b.$layout;\r\n\r\n\t\t\treturn sa._idx === sb._idx\r\n\t\t\t\t? sa._set - sb._set\r\n\t\t\t\t: sb._idx - sa._idx;\r\n\t\t});\r\n\r\n\t\tthis.update(labels);\r\n\r\n\t\treturn labels;\r\n\t},\r\n\r\n\tupdate: function(labels) {\r\n\t\tvar dirty = false;\r\n\t\tvar i, ilen, label, model, state;\r\n\r\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\r\n\t\t\tlabel = labels[i];\r\n\t\t\tmodel = label.model();\r\n\t\t\tstate = label.$layout;\r\n\t\t\tstate._hidable = model && model.display === 'auto';\r\n\t\t\tstate._visible = label.visible();\r\n\t\t\tdirty |= state._hidable;\r\n\t\t}\r\n\r\n\t\tif (dirty) {\r\n\t\t\tcompute$1(labels);\r\n\t\t}\r\n\t},\r\n\r\n\tlookup: function(labels, point) {\r\n\t\tvar i, state;\r\n\r\n\t\t// IMPORTANT Iterate in the reverse order since items at the end of\r\n\t\t// the list have an higher z-index, thus should be picked first.\r\n\r\n\t\tfor (i = labels.length - 1; i >= 0; --i) {\r\n\t\t\tstate = labels[i].$layout;\r\n\r\n\t\t\tif (state && state._visible && state._box.contains(point)) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tdataset: state._set,\r\n\t\t\t\t\tlabel: labels[i]\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\tdraw: function(chart, labels) {\r\n\t\tvar i, ilen, label, state, geometry, center;\r\n\r\n\t\tfor (i = 0, ilen = labels.length; i < ilen; ++i) {\r\n\t\t\tlabel = labels[i];\r\n\t\t\tstate = label.$layout;\r\n\r\n\t\t\tif (state._visible) {\r\n\t\t\t\tgeometry = label.geometry();\r\n\t\t\t\tcenter = coordinates(label._el._view, label.model(), geometry);\r\n\t\t\t\tstate._box.update(center, geometry, label.rotation());\r\n\t\t\t\tlabel.draw(chart, center);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @module Options\r\n */\r\n\r\nvar helpers$3 = Chart.helpers;\r\n\r\nvar defaults = {\r\n\t/**\r\n\t * The label box alignment relative to `anchor` that can be expressed either by a number\r\n\t * representing the clockwise angle (in degree) or by one of the following string presets:\r\n\t * - 'start': before the anchor point, following the same direction\r\n\t * - 'end': after the anchor point, following the same direction\r\n\t * - 'center': centered on the anchor point\r\n\t * - 'right': 0°\r\n\t * - 'bottom': 90°\r\n\t * - 'left': 180°\r\n\t * - 'top': 270°\r\n\t * @member {String|Number|Array|Function}\r\n\t * @default 'center'\r\n\t */\r\n\talign: 'center',\r\n\r\n\t/**\r\n\t * The label box alignment relative to the element ('start'|'center'|'end')\r\n\t * @member {String|Array|Function}\r\n\t * @default 'center'\r\n\t */\r\n\tanchor: 'center',\r\n\r\n\t/**\r\n\t * The color used to draw the background of the surrounding frame.\r\n\t * @member {String|Array|Function|null}\r\n\t * @default null (no background)\r\n\t */\r\n\tbackgroundColor: null,\r\n\r\n\t/**\r\n\t * The color used to draw the border of the surrounding frame.\r\n\t * @member {String|Array|Function|null}\r\n\t * @default null (no border)\r\n\t */\r\n\tborderColor: null,\r\n\r\n\t/**\r\n\t * The border radius used to add rounded corners to the surrounding frame.\r\n\t * @member {Number|Array|Function}\r\n\t * @default 0 (not rounded)\r\n\t */\r\n\tborderRadius: 0,\r\n\r\n\t/**\r\n\t * The border width of the surrounding frame.\r\n\t * @member {Number|Array|Function}\r\n\t * @default 0 (no border)\r\n\t */\r\n\tborderWidth: 0,\r\n\r\n\t/**\r\n\t * When `true`, the anchor position is calculated based on the visible\r\n\t * geometry of the associated element (i.e. part inside the chart area).\r\n\t * @see https://github.com/chartjs/chartjs-plugin-datalabels/issues/98\r\n\t * @member {Boolean|Array|Function}\r\n\t * @default false\r\n\t */\r\n\tclamp: false,\r\n\r\n\t/**\r\n\t * Clip the label drawing to the chart area.\r\n\t * @member {Boolean|Array|Function}\r\n\t * @default false (no clipping)\r\n\t */\r\n\tclip: false,\r\n\r\n\t/**\r\n\t * The color used to draw the label text.\r\n\t * @member {String|Array|Function}\r\n\t * @default undefined (use Chart.defaults.global.defaultFontColor)\r\n\t */\r\n\tcolor: undefined,\r\n\r\n\t/**\r\n\t * When `false`, the label is hidden and associated options are not\r\n\t * calculated, else if `true`, the label is drawn. If `auto`, the\r\n\t * label is automatically hidden if it appears under another label.\r\n\t * @member {Boolean|String|Array|Function}\r\n\t * @default true\r\n\t */\r\n\tdisplay: true,\r\n\r\n\t/**\r\n\t * The font options used to draw the label text.\r\n\t * @member {Object|Array|Function}\r\n\t * @prop {String} font.family - defaults to Chart.defaults.global.defaultFontFamily\r\n\t * @prop {Number} font.lineHeight - defaults to 1.2\r\n\t * @prop {Number} font.size - defaults to Chart.defaults.global.defaultFontSize\r\n\t * @prop {String} font.style - defaults to Chart.defaults.global.defaultFontStyle\r\n\t * @prop {Number} font.weight - defaults to 'normal'\r\n\t * @default Chart.defaults.global.defaultFont.*\r\n\t */\r\n\tfont: {\r\n\t\tfamily: undefined,\r\n\t\tlineHeight: 1.2,\r\n\t\tsize: undefined,\r\n\t\tstyle: undefined,\r\n\t\tweight: null\r\n\t},\r\n\r\n\t/**\r\n\t * Allows to customize the label text by transforming input data.\r\n\t * @member {Function|null}\r\n\t * @prop {*} value - The data value\r\n\t * @prop {Object} context - The function unique argument:\r\n\t * @prop {Chart} context.chart - The current chart\r\n\t * @prop {Number} context.dataIndex - Index of the current data\r\n\t * @prop {Object} context.dataset - The current dataset\r\n\t * @prop {Number} context.datasetIndex - Index of the current dataset\r\n\t * @default data[index]\r\n\t */\r\n\tformatter: function(value) {\r\n\t\tif (helpers$3.isNullOrUndef(value)) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar label = value;\r\n\t\tvar keys, klen, k;\r\n\t\tif (helpers$3.isObject(value)) {\r\n\t\t\tif (!helpers$3.isNullOrUndef(value.label)) {\r\n\t\t\t\tlabel = value.label;\r\n\t\t\t} else if (!helpers$3.isNullOrUndef(value.r)) {\r\n\t\t\t\tlabel = value.r;\r\n\t\t\t} else {\r\n\t\t\t\tlabel = '';\r\n\t\t\t\tkeys = Object.keys(value);\r\n\t\t\t\tfor (k = 0, klen = keys.length; k < klen; ++k) {\r\n\t\t\t\t\tlabel += (k !== 0 ? ', ' : '') + keys[k] + ': ' + value[keys[k]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn '' + label;\r\n\t},\r\n\r\n\t/**\r\n\t * Event listeners, where the property is the type of the event to listen and the value\r\n\t * a callback with a unique `context` argument containing the same information as for\r\n\t * scriptable options. If a callback explicitly returns `true`, the label is updated\r\n\t * with the current context and the chart re-rendered. This allows to implement visual\r\n\t * interactions with labels such as highlight, selection, etc.\r\n\t *\r\n\t * Event currently supported are:\r\n\t * - 'click': a mouse click is detected within a label\r\n\t * - 'enter': the mouse enters a label\r\n\t * - 'leave': the mouse leaves a label\r\n\t *\r\n\t * @member {Object}\r\n\t * @default {}\r\n\t */\r\n\tlisteners: {},\r\n\r\n\t/**\r\n\t * The distance (in pixels) to pull the label away from the anchor point, the direction\r\n\t * being determined by the `align` value (only applicable if `align` is `start` or `end`).\r\n\t * @member {Number|Array|Function}\r\n\t * @default 4\r\n\t */\r\n\toffset: 4,\r\n\r\n\t/**\r\n\t * The label global opacity, including the text, background, borders, etc., specified as\r\n\t * a number between 0.0 (fully transparent) and 1.0 (fully opaque).\r\n\t * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalAlpha\r\n\t * @member {Number|Array|Function}\r\n\t * @default 1\r\n\t */\r\n\topacity: 1,\r\n\r\n\t/**\r\n\t * The padding (in pixels) to apply between the text and the surrounding frame.\r\n\t * @member {Number|Object|Array|Function}\r\n\t * @prop {Number} padding.top - Space above the text.\r\n\t * @prop {Number} padding.right - Space on the right of the text.\r\n\t * @prop {Number} padding.bottom - Space below the text.\r\n\t * @prop {Number} padding.left - Space on the left of the text.\r\n\t * @default 4 (all values)\r\n\t */\r\n\tpadding: {\r\n\t\ttop: 4,\r\n\t\tright: 4,\r\n\t\tbottom: 4,\r\n\t\tleft: 4\r\n\t},\r\n\r\n\t/**\r\n\t * Clockwise rotation of the label relative to its center.\r\n\t * @member {Number|Array|Function}\r\n\t * @default 0\r\n\t */\r\n\trotation: 0,\r\n\r\n\t/**\r\n\t * Text alignment for multi-lines labels ('left'|'right'|'start'|'center'|'end').\r\n\t * @member {String|Array|Function}\r\n\t * @default 'start'\r\n\t */\r\n\ttextAlign: 'start',\r\n\r\n\t/**\r\n\t * The stroke color used to draw the label text. If this options is\r\n\t * not set (default), the value of the `color` option will be used.\r\n\t * @member {String|Array|Function|null}\r\n\t * @default color\r\n\t */\r\n\ttextStrokeColor: undefined,\r\n\r\n\t/**\r\n\t * The width of the stroke for the label text.\r\n\t * @member {Number|Array|Function}\r\n\t * @default 0 (no stroke)\r\n\t */\r\n\ttextStrokeWidth: 0,\r\n\r\n\t/**\r\n\t * The amount of blur applied to shadow under the label text.\r\n\t * @member {Number|Array|Function}\r\n\t * @default 0 (no shadow)\r\n\t */\r\n\ttextShadowBlur: 0,\r\n\r\n\t/**\r\n\t * The color of the shadow under the label text.\r\n\t * @member {String|Array|Function|null}\r\n\t * @default `color`\r\n\t */\r\n\ttextShadowColor: undefined,\r\n};\r\n\r\n/**\r\n * @see https://github.com/chartjs/Chart.js/issues/4176\r\n */\r\n\r\nvar helpers$4 = Chart.helpers;\r\nvar EXPANDO_KEY = '$datalabels';\r\n\r\nChart.defaults.global.plugins.datalabels = defaults;\r\n\r\nfunction configure(dataset, options) {\r\n\tvar override = dataset.datalabels;\r\n\tvar config = {};\r\n\r\n\tif (override === false) {\r\n\t\treturn null;\r\n\t}\r\n\tif (override === true) {\r\n\t\toverride = {};\r\n\t}\r\n\r\n\treturn helpers$4.merge(config, [options, override]);\r\n}\r\n\r\nfunction dispatchEvent(chart, listeners, target) {\r\n\tvar callback = listeners && listeners[target.dataset];\r\n\tif (!callback) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar label = target.label;\r\n\tvar context = label.$context;\r\n\r\n\tif (helpers$4.callback(callback, [context]) === true) {\r\n\t\t// Users are allowed to tweak the given context by injecting values that can be\r\n\t\t// used in scriptable options to display labels differently based on the current\r\n\t\t// event (e.g. highlight an hovered label). That's why we update the label with\r\n\t\t// the output context and schedule a new chart render by setting it dirty.\r\n\t\tchart[EXPANDO_KEY]._dirty = true;\r\n\t\tlabel.update(context);\r\n\t}\r\n}\r\n\r\nfunction dispatchMoveEvents(chart, listeners, previous, target) {\r\n\tvar enter, leave;\r\n\r\n\tif (!previous && !target) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (!previous) {\r\n\t\tenter = true;\r\n\t} else if (!target) {\r\n\t\tleave = true;\r\n\t} else if (previous.label !== target.label) {\r\n\t\tleave = enter = true;\r\n\t}\r\n\r\n\tif (leave) {\r\n\t\tdispatchEvent(chart, listeners.leave, previous);\r\n\t}\r\n\tif (enter) {\r\n\t\tdispatchEvent(chart, listeners.enter, target);\r\n\t}\r\n}\r\n\r\nfunction handleMoveEvents(chart, event) {\r\n\tvar expando = chart[EXPANDO_KEY];\r\n\tvar listeners = expando._listeners;\r\n\tvar previous, target;\r\n\r\n\tif (!listeners.enter && !listeners.leave) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (event.type === 'mousemove') {\r\n\t\ttarget = layout.lookup(expando._labels, event);\r\n\t} else if (event.type !== 'mouseout') {\r\n\t\treturn;\r\n\t}\r\n\r\n\tprevious = expando._hovered;\r\n\texpando._hovered = target;\r\n\tdispatchMoveEvents(chart, listeners, previous, target);\r\n}\r\n\r\nfunction handleClickEvents(chart, event) {\r\n\tvar expando = chart[EXPANDO_KEY];\r\n\tvar handlers = expando._listeners.click;\r\n\tvar target = handlers && layout.lookup(expando._labels, event);\r\n\tif (target) {\r\n\t\tdispatchEvent(chart, handlers, target);\r\n\t}\r\n}\r\n\r\nChart.defaults.global.plugins.datalabels = defaults;\r\n\r\nvar plugin = {\r\n\tid: 'datalabels',\r\n\r\n\tbeforeInit: function(chart) {\r\n\t\tchart[EXPANDO_KEY] = {\r\n\t\t\t_actives: []\r\n\t\t};\r\n\t},\r\n\r\n\tbeforeUpdate: function(chart) {\r\n\t\tvar expando = chart[EXPANDO_KEY];\r\n\t\texpando._listened = false;\r\n\t\texpando._listeners = {};     // {event-type: {dataset-index: function}}\r\n\t\texpando._datasets = [];      // per dataset labels: [[Label]]\r\n\t\texpando._labels = [];        // layouted labels: [Label]\r\n\t},\r\n\r\n\tafterDatasetUpdate: function(chart, args, options) {\r\n\t\tvar datasetIndex = args.index;\r\n\t\tvar expando = chart[EXPANDO_KEY];\r\n\t\tvar labels = expando._datasets[datasetIndex] = [];\r\n\t\tvar visible = chart.isDatasetVisible(datasetIndex);\r\n\t\tvar dataset = chart.data.datasets[datasetIndex];\r\n\t\tvar config = configure(dataset, options);\r\n\t\tvar elements = args.meta.data || [];\r\n\t\tvar ilen = elements.length;\r\n\t\tvar ctx = chart.ctx;\r\n\t\tvar i, el, label;\r\n\r\n\t\tctx.save();\r\n\r\n\t\tfor (i = 0; i < ilen; ++i) {\r\n\t\t\tel = elements[i];\r\n\r\n\t\t\tif (visible && el && !el.hidden && !el._model.skip) {\r\n\t\t\t\tlabels.push(label = new Label(config, ctx, el, i));\r\n\t\t\t\tlabel.update(label.$context = {\r\n\t\t\t\t\tactive: false,\r\n\t\t\t\t\tchart: chart,\r\n\t\t\t\t\tdataIndex: i,\r\n\t\t\t\t\tdataset: dataset,\r\n\t\t\t\t\tdatasetIndex: datasetIndex\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tlabel = null;\r\n\t\t\t}\r\n\r\n\t\t\tel[EXPANDO_KEY] = label;\r\n\t\t}\r\n\r\n\t\tctx.restore();\r\n\r\n\t\t// Store listeners at the chart level and per event type to optimize\r\n\t\t// cases where no listeners are registered for a specific event\r\n\t\thelpers$4.merge(expando._listeners, config.listeners || {}, {\r\n\t\t\tmerger: function(key, target, source) {\r\n\t\t\t\ttarget[key] = target[key] || {};\r\n\t\t\t\ttarget[key][args.index] = source[key];\r\n\t\t\t\texpando._listened = true;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tafterUpdate: function(chart, options) {\r\n\t\tchart[EXPANDO_KEY]._labels = layout.prepare(\r\n\t\t\tchart[EXPANDO_KEY]._datasets,\r\n\t\t\toptions);\r\n\t},\r\n\r\n\t// Draw labels on top of all dataset elements\r\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/29\r\n\t// https://github.com/chartjs/chartjs-plugin-datalabels/issues/32\r\n\tafterDatasetsDraw: function(chart) {\r\n\t\tlayout.draw(chart, chart[EXPANDO_KEY]._labels);\r\n\t},\r\n\r\n\tbeforeEvent: function(chart, event) {\r\n\t\t// If there is no listener registered for this chart, `listened` will be false,\r\n\t\t// meaning we can immediately ignore the incoming event and avoid useless extra\r\n\t\t// computation for users who don't implement label interactions.\r\n\t\tif (chart[EXPANDO_KEY]._listened) {\r\n\t\t\tswitch (event.type) {\r\n\t\t\tcase 'mousemove':\r\n\t\t\tcase 'mouseout':\r\n\t\t\t\thandleMoveEvents(chart, event);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'click':\r\n\t\t\t\thandleClickEvents(chart, event);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\tafterEvent: function(chart) {\r\n\t\tvar expando = chart[EXPANDO_KEY];\r\n\t\tvar previous = expando._actives;\r\n\t\tvar actives = expando._actives = chart.lastActive || [];  // public API?!\r\n\t\tvar updates = utils.arrayDiff(previous, actives);\r\n\t\tvar i, ilen, update, label;\r\n\r\n\t\tfor (i = 0, ilen = updates.length; i < ilen; ++i) {\r\n\t\t\tupdate = updates[i];\r\n\t\t\tif (update[1]) {\r\n\t\t\t\tlabel = update[0][EXPANDO_KEY];\r\n\t\t\t\tif (label) {\r\n\t\t\t\t\tlabel.$context.active = (update[1] === 1);\r\n\t\t\t\t\tlabel.update(label.$context);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (expando._dirty || updates.length) {\r\n\t\t\tlayout.update(expando._labels);\r\n\t\t\tif (!chart.animating) {\r\n\t\t\t\tchart.render();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tdelete expando._dirty;\r\n\t}\r\n};\r\n\r\n// TODO Remove at version 1, we shouldn't automatically register plugins.\r\n// https://github.com/chartjs/chartjs-plugin-datalabels/issues/42\r\nChart.plugins.register(plugin);\r\n\r\nreturn plugin;\r\n\r\n})));\r\n"],"file":"chartjs_plugin_datalabels.min.js"}