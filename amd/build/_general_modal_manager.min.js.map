{"version":3,"sources":["../src/_general_modal_manager.js"],"names":["define","$","mustache","append","document","on","general_modal","parent","fadeOut","remove","outside","swal","title","text","type","showCancelButton","confirmButtonText","isConfirm","generate_modal","selector_class_name","m_title","m_body","m_class","callback","ajax","url","data","dataType","async","success","template","html_modal","render","general_modal_title","general_modal_body","general_modal_class","unbind","error","console","log","show_modal","modal_selector","animation_time","animation","input_animation","toString","toLowerCase","animation_selected","indexOf","find","fadeIn","show"],"mappings":"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","sourcesContent":["/**\r\n * @package     block_ases\r\n * @author      Jeison Cardona Gómez\r\n * @copyright   Jeison Cardona Gómez - <jeison.cardona@correounivalle.edu.co>\r\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n * @module      block_ases/general_modal_manager\r\n */\r\n\r\n\r\ndefine([\r\n    'jquery',\r\n    'block_ases/mustache',\r\n    'block_ases/sweetalert'\r\n], function ($, mustache, sweetalert) {\r\n\r\n    // General Modal Template\r\n    /**\r\n     * @see _general_nmodal_manager.mustache\r\n     */\r\n\r\n    let template_location = \"../templates/_general_modal_manager.mustache\";\r\n    let css_location = \"../style/_general_modal_manager.css\";\r\n    \r\n    $('head').append('<link rel=\"stylesheet\" href=\"' + css_location + '\" type=\"text/css\" />');\r\n\r\n\r\n    let show_modal = function ( modal_selector, animation_time = 300, animation = \"fadeIn\" ){\r\n\r\n        let available_animations =  [ \"fadein\", \"show\" ];\r\n        let default_animation =     \"fadein\";\r\n        let input_animation =       animation.toString().toLowerCase();\r\n        let animation_selected =    null;\r\n       \r\n        if( available_animations.indexOf( input_animation ) === -1 ){\r\n            animation_selected = default_animation;\r\n        }else{\r\n            animation_selected = input_animation;\r\n        };\r\n\r\n        switch ( animation_selected ) {\r\n            case \"fadein\":\r\n                $(\"body\").find( modal_selector ).fadeIn( animation_time );\r\n                break;\r\n            case \"show\":\r\n                $(\"body\").find( modal_selector ).show( animation_time );\r\n                break;\r\n        };     \r\n        \r\n    };\r\n    \r\n\r\n    let generate_modal = function( selector_class_name, m_title, m_body, m_class = \"\", callback = function(){} ){\r\n        \r\n        $.ajax({\r\n            url: template_location,\r\n            data: null,\r\n            dataType: \"text\",\r\n            async: false,\r\n            success: function( template ){\r\n\r\n                let modal_data = {\r\n                    general_modal_title: m_title,\r\n                    general_modal_body: m_body,\r\n                    general_modal_class: selector_class_name + \" \" + m_class\r\n                };\r\n                \r\n                let html_modal = $(mustache.render(  template, modal_data ));\r\n                $(\"body\").append( html_modal );\r\n                $(\".general_modal_close\").unbind();\r\n                callback();\r\n            },\r\n            error: function(){\r\n                console.log( template_location + \" cannot be reached. \" );\r\n            }\r\n          });\r\n\r\n    };\r\n\r\n    $( document ).on( \"click\", \".general_modal_close\", function(){\r\n        let general_modal = $(this)\r\n                                    .parent() // general_modal_header\r\n                                    .parent() // general_modal_content\r\n                                    .parent(); // general_modal\r\n\r\n        general_modal.fadeOut(300, function(){\r\n                    general_modal.remove();\r\n                });\r\n\r\n    } );\r\n\r\n    $( document ).on( \"click\", \".general_modal_outside\", function(){\r\n        let outside = $(this);\r\n        swal(\r\n            {\r\n                title: 'Confirmación de salida',\r\n                text: \"\",\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Salir'\r\n            }, function(isConfirm) {\r\n                if ( isConfirm ) {\r\n                    outside.parent(\".general_modal\").fadeOut(300, function(){\r\n                        general_modal.remove();\r\n                    });\r\n                }\r\n            }\r\n        );\r\n    } );\r\n\r\n\r\n    return {\r\n        generate_modal: generate_modal,\r\n        show_modal: show_modal\r\n    };\r\n});"],"file":"_general_modal_manager.min.js"}