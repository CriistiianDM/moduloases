{"version":3,"sources":["../src/_general_modal_manager.js"],"names":["define","$","mustache","append","document","on","general_modal","parent","fadeOut","remove","outside","swal","title","text","type","showCancelButton","confirmButtonText","isConfirm","generate_modal","selector_class_name","m_title","m_body","m_class","callback","ajax","url","data","dataType","async","success","template","html_modal","render","general_modal_title","general_modal_body","general_modal_class","unbind","error","console","log","show_modal","modal_selector","animation_time","animation","input_animation","toString","toLowerCase","animation_selected","indexOf","find","fadeIn","show"],"mappings":"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","sourcesContent":["/**\n * @package     block_ases\n * @author      Jeison Cardona Gómez\n * @copyright   Jeison Cardona Gómez - <jeison.cardona@correounivalle.edu.co>\n * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @module      block_ases/general_modal_manager\n */\n\n\ndefine([\n    'jquery',\n    'block_ases/mustache',\n    'block_ases/sweetalert'\n], function ($, mustache, sweetalert) {\n\n    // General Modal Template\n    /**\n     * @see _general_nmodal_manager.mustache\n     */\n\n    let template_location = \"../templates/_general_modal_manager.mustache\";\n    let css_location = \"../style/_general_modal_manager.css\";\n    \n    $('head').append('<link rel=\"stylesheet\" href=\"' + css_location + '\" type=\"text/css\" />');\n\n\n    let show_modal = function ( modal_selector, animation_time = 300, animation = \"fadeIn\" ){\n\n        let available_animations =  [ \"fadein\", \"show\" ];\n        let default_animation =     \"fadein\";\n        let input_animation =       animation.toString().toLowerCase();\n        let animation_selected =    null;\n       \n        if( available_animations.indexOf( input_animation ) === -1 ){\n            animation_selected = default_animation;\n        }else{\n            animation_selected = input_animation;\n        };\n\n        switch ( animation_selected ) {\n            case \"fadein\":\n                $(\"body\").find( modal_selector ).fadeIn( animation_time );\n                break;\n            case \"show\":\n                $(\"body\").find( modal_selector ).show( animation_time );\n                break;\n        };     \n        \n    };\n    \n\n    let generate_modal = function( selector_class_name, m_title, m_body, m_class = \"\", callback = function(){} ){\n        \n        $.ajax({\n            url: template_location,\n            data: null,\n            dataType: \"text\",\n            async: false,\n            success: function( template ){\n\n                let modal_data = {\n                    general_modal_title: m_title,\n                    general_modal_body: m_body,\n                    general_modal_class: selector_class_name + \" \" + m_class\n                };\n                \n                let html_modal = $(mustache.render(  template, modal_data ));\n                $(\"body\").append( html_modal );\n                $(\".general_modal_close\").unbind();\n                callback();\n            },\n            error: function(){\n                console.log( template_location + \" cannot be reached. \" );\n            }\n          });\n\n    };\n\n    $( document ).on( \"click\", \".general_modal_close\", function(){\n        let general_modal = $(this)\n                                    .parent() // general_modal_header\n                                    .parent() // general_modal_content\n                                    .parent(); // general_modal\n\n        general_modal.fadeOut(300, function(){\n                    general_modal.remove();\n                });\n\n    } );\n\n    $( document ).on( \"click\", \".general_modal_outside\", function(){\n        let outside = $(this);\n        swal(\n            {\n                title: 'Confirmación de salida',\n                text: \"\",\n                type: 'warning',\n                showCancelButton: true,\n                confirmButtonText: 'Salir'\n            }, function(isConfirm) {\n                if ( isConfirm ) {\n                    outside.parent(\".general_modal\").fadeOut(300, function(){\n                        general_modal.remove();\n                    });\n                }\n            }\n        );\n    } );\n\n\n    return {\n        generate_modal: generate_modal,\n        show_modal: show_modal\n    };\n});"],"file":"_general_modal_manager.min.js"}