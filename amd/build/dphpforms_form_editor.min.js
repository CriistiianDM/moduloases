'use strict';define(['jquery','block_ases/bootstrap','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2'],function(a){return{init:function init(){function f(h){for(var j=h.indexOf('?'),k='',l=j;l<h.length;l++)k+=h[l];return k.replace(/#[a-zA-z]+_[a-zA-z]+/i,'')}a('#dphpforms-redirect-new-form').click(function(){window.location.href='dphpforms_form_builder.php'+f(window.location.href)}),a('#dphpforms-redirect-adm-alias').click(function(){window.location.href='dphpforms_alias_editor.php'+f(window.location.href)}),a('#dphpforms-redirect-adm-forms').click(function(){window.location.href='dphpforms_form_editor.php'+f(window.location.href)}),a('.btn-editor-form').click(function(){window.location.href='dphpforms_form_editor_preguntas.php'+f(window.location.href)+'&form_id='+a(this).attr('data-form-id')}),a('.btn-editor-permiso').click(function(){window.location.href='dphpforms_form_editor_permiso.php'+f(window.location.href)+'&permiso_id='+a(this).attr('data-permiso-id')}),a('#actualizar-permiso').click(function(){var h=a(this).attr('data-permiso-id');swal({html:!0,title:'Confirmaci\xF3n',text:'<strong>Nota importante!</strong>: Est\xE1 actualizando este permiso, \xBFdesea continuar?',type:'warning',showCancelButton:!0,confirmButtonText:'S\xED, Actualizar!'},function(j){j&&a.ajax({method:'POST',url:'../managers/dphpforms/dphpforms_form_updater.php',contentType:'application/json',dataType:'text',data:JSON.stringify({'function':'update_permiso',permiso_id:h,permisos:a('#permisos').val()}),success:function success(k){k=JSON.parse(k),0==k.status?alert('Actualizado'):-1==k.status&&alert('Permiso vacio o inexistente')},error:function error(k,l,m){alert('Informe de este error'),console.log('some error '+l+' '+m),console.log(k)}})})}),a('.btn-remove-form').click(function(){var h=a(this).attr('data-form-name'),j=a(this).attr('data-form-id');swal({html:!0,title:'Confirmaci\xF3n',text:'<strong>Nota importante!</strong>: Est\xE1 eliminando el formulario <strong><i>'+h+'</i></strong>, \xBFdesea continuar?, tenga en consideraci\xF3n que los alias asociados a las preguntas del formulario no ser\xE1n eliminados.',type:'warning',showCancelButton:!0,confirmButtonText:'S\xED, Eliminar!'},function(k){k&&a.get('../managers/dphpforms/dphpforms_form_updater.php?function=delete_form&id_form='+j,function(l){var m=l;0==m.status?swal({title:'Informaci\xF3n',text:'Eliminado',type:'success'},function(){window.location.href=window.location.href}):-1==m.status&&swal('Error!',m.message,'error')})})}),a('.btn-remove-alias').click(function(){var h=a(this).attr('data-form-alias'),j=a(this).attr('data-form-id');swal({html:!0,title:'Confirmaci\xF3n',text:'<strong>Nota importante!</strong>: Est\xE1 eliminando el alias <strong><i>'+h+'</i></strong>, \xBFdesea continuar?, tenga en consideraci\xF3n que cualquier consulta que haga uso de este alias dejar\xE1 de funcionar.',type:'warning',showCancelButton:!0,confirmButtonText:'S\xED, Eliminar!'},function(k){k&&a.get('../managers/dphpforms/dphpforms_form_updater.php?function=delete_alias&id_alias='+j,function(l){var m=l;0==m.status?swal({title:'Informaci\xF3n',text:'Eliminado',type:'success'},function(){window.location.href=window.location.href}):-1==m.status&&swal('Error!',m.message,'error')})})})}}});