define(["jquery","block_ases/mustache","block_ases/loading_indicator"],function(o,n,t){return{init:function(e){var a=e[0],r=e[1];o("#btn-consulta-fichas").on("click",function(){o("#total-count-row").length&&o("#total-count-row").remove();let t=o("#select-periods").val();!function(t,e,a){o.ajax({type:"POST",dataType:"json",data:JSON.stringify({function:"tracking_count",params:[t,e,a]}),url:"../managers/monitor_profile/monitor_profile_api.php",cache:"false",success:function(t){var e=t;0===e.status_code?o.ajax({url:"../templates/monitor_total_count.mustache",data:null,dataType:"text",cache:"false",async:"false",success:function(t){let a=o(n.render(t,e.data_response));o("#ases-container-tracking").append(a)},error:function(){console.log("Cannot reach template.")}}):console.log("error",t)},error:function(o){console.log("error",o),swal("Error","Error al comunicarse con el servidor, por favor int√©ntelo nuevamente.","error")}})}(a,r,t)}),o(document).ajaxStart(function(){t.show()}).ajaxStop(function(){t.hide()})}}});