'use strict';define(['jquery','block_ases/bootstrap','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2','block_ases/loading_indicator','block_ases/jquery.scrollTo'],function(b,c,d,f,g,h){return{init:function init(){function m(){return b('#dphpforms_ases_student_code').attr('data-info')}function n(){return b('#dphpforms_block_instance').attr('data-info')}function o(){var w=q('.seg_geo_nivel_riesgo'),y=b('.seg_geo_observaciones').find('textarea').val();if('3'==w){var A={'function':'send_email_dphpforms',student_code:m(),risks:[{name:'Geogr\xE1fico',risk_lvl:w,observation:y}],date:b('.fecha').find('input').val(),url:window.location.href};console.log(JSON.stringify(A)),b.ajax({type:'POST',data:JSON.stringify(A),url:'../managers/pilos_tracking/send_risk_email.php',success:function success(B){console.log(B)},dataType:'text',cache:'false',error:function error(B){console.log(B)}})}}function p(){var w=q('.puntuacion_riesgo_individual'),y=b('.comentarios_individual').find('textarea').val();var A=q('.puntuacion_riesgo_familiar'),B=b('.comentarios_familiar').find('textarea').val(),C=q('.puntuacion_riesgo_academico'),D=b('.comentarios_academico').find('textarea').val(),E=q('.puntuacion_riesgo_economico'),F=b('.comentarios_economico').find('textarea').val(),G=q('.puntuacion_vida_uni'),H=b('.comentarios_vida_uni').find('textarea').val();if('3'==w||'3'==A||'3'==C||'3'==E||'3'==G){var I={'function':'send_email_dphpforms',student_code:m(),risks:[{name:'Individual',risk_lvl:w,observation:y},{name:'Familiar',risk_lvl:A,observation:B},{name:'Acad\xE9mico',risk_lvl:C,observation:D},{name:'Econ\xF3mico',risk_lvl:E,observation:F},{name:'Vida Universitaria',risk_lvl:G,observation:H}],date:b('.fecha').find('input').val(),url:window.location.href};console.log(JSON.stringify(I)),b.ajax({type:'POST',data:JSON.stringify(I),url:'../managers/pilos_tracking/send_risk_email.php',success:function success(J){console.log(J)},dataType:'text',cache:'false',error:function error(J){console.log(J)}})}}function q(v){var w=0;return b(v).find('.opcionesRadio').find('div').each(function(){b(this).find('label').find('input').is(':checked')&&(w=b(this).find('label').find('input').val())}),w}function r(v,w){if('primer_acercamiento'==v&&'insert'==w);else if('primer_acercamiento'==v&&'update'==w);else if('inasistencia'==v&&'insert'==w);else if('inasistencia'==v&&'update'==w){var y=b('.dphpforms-record').find('.in_revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),A=b('.dphpforms-record').find('.in_revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked'),B=b('#dphpforms_role_support').attr('data-info');y&&'sistemas'!=B&&(b('.btn-dphpforms-delete-record').remove(),b('.btn-dphpforms-update').remove()),'dir_socioeducativo'==B&&(b('.btn-dphpforms-delete-record').remove(),b('.btn-dphpforms-update').remove())}else if('seguimiento_pares'==v&&'insert'==w);else if('seguimiento_pares'==v&&'update'==w){var y=b('.dphpforms-record').find('.revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),A=b('.dphpforms-record').find('.revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked'),B=b('#dphpforms_role_support').attr('data-info');y&&'sistemas'!=B&&(b('.btn-dphpforms-delete-record').remove(),b('.btn-dphpforms-update').remove()),'dir_socioeducativo'==B&&(b('.btn-dphpforms-delete-record').remove(),b('.btn-dphpforms-update').remove())}else if('seguimiento_geografico_'==v&&'insert'==w)b('.seg_geo_origen').find('input').prop('disabled',!1);else if('seguimiento_geografico_'==v&&'update'==w);else if('seguimiento_grupal_'==v&&'insert'==w){var C=b('modal_v2_edit_groupal_tracking').find('input:checked').length,D='',E='';b('#modal_v2_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val(''),b('#modal_v2_edit_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val(''),b('#modal_v2_edit_groupal_tracking').find('input:checked').each(function(){var H=b(this).parent().parent().find('>:first-child').text(),I=H.split('-');D+=I[0]+','}),b('#modal_v2_groupal_tracking').find('input:checked').each(function(){var H=b(this).parent().parent().find('>:first-child').text(),I=H.split('-');E+=I[0]+','}),b('#modal_v2_edit_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val(D.slice(0,-1)),b('#modal_v2_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val(E.slice(0,-1))}else if('seguimiento_grupal'==v&&'update'==w){var F=b('#dphpforms_role_support').attr('data-info');'profesional_ps'!=F&&'sistemas'!=F&&b('#modal_v2_edit_groupal_tracking').find('.btn-dphpforms-delete-record').remove()}}function s(v){students_code=v.split(','),console.log('.id_estudiante :'+students_code);var w=[];b('#list_students_attendance_1 > tbody  > tr').each(function(){var A=b(this).children('td').first().html().split('-');w.push(A[0])}),console.log('lista total de id_estudiantes :'+w),console.log('lista de estudiantes seleccin : '+students_code),b.each(students_code,function(y,A){var B=w.indexOf(A);if(-1!=B){var C=b('#list_students_attendance_1 tbody>tr:eq(\''+B+'\')'),D=C.find('td').eq(3).children('input');b('input[type=checkbox][value=\''+D.val()+'\']').prop('checked',!0)}})}function t(v,w){b('.div').removeClass('regla_incumplida'),b('#body_editor').html(''),h.show(),b.get('../managers/dphpforms/dphpforms_forms_core.php?form_id=&record_id='+w,function(y){if(h.hide(),'seguimiento_grupal'==v){b('#modal_v2_edit_groupal_tracking').find('#body_editor').html(''),b('#modal_v2_edit_groupal_tracking').find('#body_editor').append(y);var A=b('#modal_v2_edit_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val();u(A)}else{b('#body_editor').append(y);var B=b('#dphpforms_role_support').attr('data-info'),R=b('#custom_metadata').data('view-name');'report_trackings'==R&&('sistemas'==B||'profesional_ps'==B||'practicante_ps'==B)&&b('.dphpforms.dphpforms-record.dphpforms-updater').append('<br><br><div class="div-observation col-xs-12 col-sm-12 col-md-12 col-lg-12 comentarios_vida_uni">Observaciones de Practicante/profesional:<br> <textarea id="observation_text" class="form-control " name="observation_text" maxlength="5000"></textarea><br><a id="send_observation" class="btn btn-sm btn-danger btn-dphpforms-univalle btn-dphpforms-send-observation">Enviar observaci\xF3n</a></div>'),b('button.btn.btn-sm.btn-danger.btn-dphpforms-univalle').attr('id','button')}var C=b('#list_grupal_seg_consult').clone().prop('id','list_grupal_seg_consult_1');b('#modal_v2_edit_groupal_tracking').find('form').find('h1').after(C),b('#list_grupal_seg_consult_1 > #list_students_attendance').prop('id','list_students_attendance_1'),b('#list_grupal_seg_consult_1  input[type=checkbox]').prop('checked',!1);var D=b('#modal_v2_edit_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input');void 0!=D.val()&&s(D.val()),b('#permissions_informationr').html('');var E=b('.dphpforms-record').find('.revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),F=b('.dphpforms-record').find('.revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked');(E||F)&&b('.dphpforms-record').find('.btn-dphpforms-delete-record').remove();for(var G=JSON.parse(b('#permissions_information').text()),H=0;H<G.behaviors_permissions.length;H++){for(var L,I=G.behaviors_permissions[H].behaviors[0],J=I.behaviors_accessibility,K=0;K<J.length;K++)L=J[K].disabled,'true'==L?L=!0:'false'==L&&(L=!1),b('.dphpforms-record').find('#'+J[K].id).prop('disabled',L),b('.dphpforms-record').find('.'+J[K]['class']).prop('disabled',L);for(var M=I.behaviors_fields_to_remove,K=0;K<M.length;K++)b('.dphpforms-record').find('#'+M[K].id).remove(),b('.dphpforms-record').find('.'+M[K]['class']).remove();for(var N=I.limpiar_to_eliminate,K=0;K<N.length;K++)b('.dphpforms-record').find('.'+N[K]['class']+'.limpiar ').remove()}b('#dphpforms_record_id[value='+w+']').parent().parent().append('<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">                                 <hr style="border-color:#424242;margin-bottom:3px;">                            </div>'),b.ajax({type:'POST',data:JSON.stringify({function:'get_pretty_record_history',params:[w]}),url:'../managers/dphpforms/v2/dphpforms_api.php',async:!1,dataType:'json',cache:'false',success:function success(T){var U=JSON.parse(T.data_response);b('#dphpforms_record_id[value='+w+']').parent().parent().append('<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" style="font-size:0.9em;"><strong style="color:#424242;">Fecha y hora</strong></div>'+'<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4" style="font-size:0.9em;"><strong style="color:#424242;">Usuario que realiza la acci&oacute;n</strong></div>'+'<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1" style="font-size:0.9em;"><strong style="color:#424242;">Acci&oacute;n</strong></div>'+'<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3" style="font-size:0.9em;"><strong style="color:#424242;">Estado</strong></div>'+'<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">                                         <hr style="border-color:#424242; margin-top:0px; margin-bottom:10px;">                                    </div>'),U.forEach(function(_){var aa='<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">'+_.fecha_hora_registro+'</div>',ba='<div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">'+_.usuario_moodle+'</div>',ca='';switch(_.accion){case'INSERT':ca='CREA';break;case'UPDATE':ca='ACTUALIZA';break;case'DELETE':ca='ELIMINA';break;default:ca='DESCONOCIDA';}var da='<div class="col-xs-1 col-sm-1 col-md-1 col-lg-1">'+ca+'</div>',ea='<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">'+('0'===_.cod_retorno?'( Completado )':'( No completado )')+'</div>';b('#dphpforms_record_id[value='+w+']').parent().parent().append('<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12"  style="padding:0px;font-size:0.9em;">'+aa+ba+da+ea+'</div>')})},error:function error(T){console.log(T)}}),b('#permissions_informationr').html('');var O=y.indexOf('primer_acercamiento_');-1!=O&&r('primer_acercamiento','update');var P=y.indexOf('seguimiento_de_pares_');-1!=P&&r('seguimiento_pares','update');var Q=y.indexOf('inasistencia');-1!=Q&&r('inasistencia','update');var Q=y.indexOf('seguimiento_grupal');-1!=Q&&r('seguimiento_grupal','update'),b('input[type=date]').keypress(function(T){T.preventDefault()})})}function u(v){h.show(),b.ajax({type:'POST',data:{students:v,type:'consult_students_name'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(w){if(h.hide(),''!=w){b('#modal_v2_edit_groupal_tracking').find('#students').remove(),b('#modal_v2_edit_groupal_tracking').find('form').find('h1').after('<hr style="border-color:red"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 estudiantes" id="students"><h3>Estudiantes asistentes:</h3><br>'+w+'<br>')}},dataType:'text',cache:'false',error:function error(){alert('Error al consultar nombres de los estudiantes pertenecientes a un seguimiento grupal'),h.hide()}})}b('input[type=date]').keypress(function(v){v.preventDefault()}),b(document).on('click','.btn-dphpforms-close',function(){b(this).closest('div[class="mymodal"]').fadeOut(300)}),b('.outside').click(function(){var v=b(this);swal({title:'Confirmaci\xF3n de salida',text:'',type:'warning',showCancelButton:!0,confirmButtonText:'Salir'},function(w){w&&(b(v).parent('.mymodal').fadeOut(300),console.log(b(this).parent('.mymodal')))})}),b(document).ready(function(){b('.seg_geo_origen').find('input').prop('disabled',!0)}),b(document).on('change',b('.seg_geo_vive_zona_riesgo').find('label').find('input'),function(){b('.seg_geo_vive_zona_riesgo').find('label').find('input').prop('checked')?b('.seg_geo_origen').find('input').prop('disabled',!1):(b('.seg_geo_origen').find('input').prop('disabled',!0),b('.seg_geo_origen').find('input').prop('checked',!1))}),b('.seg_geo_vive_zona_riesgo').find('label').find('input').change(function(){b('.seg_geo_vive_zona_riesgo').find('label').find('input').prop('checked')?b('.seg_geo_origen').find('input').prop('disabled',!1):(b('.seg_geo_origen').find('input').prop('disabled',!0),b('.seg_geo_origen').find('input').prop('checked',!1))}),b('#button_actualizar_primer_acercamiento').click(function(){b('div').removeClass('regla_incumplida'),b.get('../managers/dphpforms/dphpforms_forms_core.php?form_id=primer_acercamiento&record_id='+b(this).attr('data-record-id'),function(v){b('#primer_acercamiento_form').html(''),b('#primer_acercamiento_form').append(v),b('#modal_primer_acercamiento').fadeIn(300);var w=b('#modal_primer_acercamiento').find('.pa_id_creado_por').find('input').val();b.get('../managers/user_management/api_user.php?function=get_user_information&arg='+w,function(y){var A=y.firstname+' '+y.lastname;b('#modal_primer_acercamiento').find('h1').after('<hr style="border-color:#444;"><h3>Registrado por: <strong>'+A+'</strong></h3>');var B=b('.dphpforms-record .btn-dphpforms-univalle').length;2==B?b('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':b('.dphpforms-updater').width()/2-72+'px'}):3==B&&b('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':b('.dphpforms-updater').width()/2-72-30+'px'})})})}),b('#button_update_geographic_track').click(function(){b('div').removeClass('regla_incumplida'),b.get('../managers/dphpforms/dphpforms_forms_core.php?form_id=seguimiento_geografico&record_id='+b(this).attr('data-record-id'),function(v){b('#seguimiento_geografico_form').html(''),b('#seguimiento_geografico_form').append(v),b('#modal_seguimiento_geografico').fadeIn(300),b('.seg_geo_vive_zona_riesgo').find('label').find('input').prop('checked')?b('.seg_geo_origen').find('input').prop('disabled',!1):(b('.seg_geo_origen').find('input').prop('disabled',!0),b('.seg_geo_origen').find('input').prop('checked',!1));var w=b('.dphpforms-record .btn-dphpforms-univalle').length;2==w&&b('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':b('.dphpforms-updater').width()/2-72+'px'}),3==w&&b('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':b('.dphpforms-updater').width()/2-72-30+'px'})})});b(document).on('click','.btn.btn-danger.btn-univalle.btn-card',function(){var v=b(this).attr('data-container'),w=b('#'+v).height();if(0==w)b(this).find('span').not('.protected').removeClass('glyphicon-chevron-left'),b(this).find('span').not('.protected').addClass('glyphicon-chevron-down'),b(this).find('.open-close-icon').removeClass('glyphicon-chevron-left'),b(this).find('.open-close-icon').addClass('glyphicon-chevron-down');else{for(;0>w;)w=b('#'+v).height();b(this).find('span').not('.protected').removeClass('glyphicon-chevron-down'),b(this).find('span').not('.protected').addClass('glyphicon-chevron-left'),b(this).find('.open-close-icon').removeClass('glyphicon-chevron-down'),b(this).find('.open-close-icon').addClass('glyphicon-chevron-left')}}),b('#button_add_v2_track').on('click',function(){b('div').removeClass('regla_incumplida'),b('#modal_v2_peer_tracking').fadeIn(300),b('.id_estudiante').find('input').val(m());var v=b('#current_user_id').val();b('.id_creado_por').find('input').val(v),b('.id_instancia').find('input').val(n()),b('.id_monitor').find('input').val(b('#dphpforms_monitor_id').data('info')),b('.id_practicante').find('input').val(b('#dphpforms_practicing_id').data('info')),b('.id_profesional').find('input').val(b('#dphpforms_professional_id').data('info')),b('.username').find('input').val(b('#dphpforms_username').data('info'))}),b('.btn-inasistencia').on('click',function(){var v=b(this).attr('data-info');if('inasistencia'==v){b('#modal_inasistencia').fadeOut(300),b('#modal_v2_peer_tracking').fadeIn(300),b('.id_estudiante').find('input').val(m());var w=b('#current_user_id').val();b('.id_creado_por').find('input').val(w),b('.id_instancia').find('input').val(n()),b('.id_monitor').find('input').val(b('#dphpforms_monitor_id').data('info')),b('.id_practicante').find('input').val(b('#dphpforms_practicing_id').data('info')),b('.id_profesional').find('input').val(b('#dphpforms_professional_id').data('info')),b('.username').find('input').val(b('#dphpforms_username').data('info'))}else{b('#modal_v2_peer_tracking').fadeOut(300),b('#modal_inasistencia').fadeIn(300),b('.in_id_estudiante').find('input').val(m());var w=b('#current_user_id').val();b('.in_id_creado_por').find('input').val(w),b('.in_id_instancia').find('input').val(n()),b('.in_id_monitor').find('input').val(b('#dphpforms_monitor_id').data('info')),b('.in_id_practicante').find('input').val(b('#dphpforms_practicing_id').data('info')),b('.in_id_profesional').find('input').val(b('#dphpforms_professional_id').data('info')),b('.in_username').find('input').val(b('#dphpforms_username').data('info'))}}),b('#button_add_groupal_track').on('click',function(){b('#modal_v2_edit_groupal_tracking').find('#body_editor').html(''),b('div').removeClass('regla_incumplida'),b('#modal_v2_groupal_tracking').fadeIn(300);var v=b('#current_user_id').val();b('.id_creado_por').find('input').val(v),b('.id_estudiante').find('input').val('-'),b('#list_grupal_seg_consult  input[type=checkbox]').prop('checked',!1)}),b('#button_primer_acercamiento').on('click',function(){b('div').removeClass('regla_incumplida'),b('#modal_primer_acercamiento').fadeIn(300),b('.primer_acerca_id_estudiante_field').find('input').val(m());var v=b('#current_user_id').val();b('.primer_acerca_id_creado_por_field').find('input').val(v)}),b('#button_add_geographic_track').on('click',function(){b('div').removeClass('regla_incumplida'),b('#modal_seguimiento_geografico').fadeIn(300),b('.seg_geo_id_estudiante').find('input').val(m());var v=b('#current_user_id').val();b('.seg_geo_id_creado_por').find('input').val(v),b('.seg_geo_vive_zona_riesgo').find('label').find('input').prop('checked')?b('.seg_geo_origen').find('input').prop('disabled',!1):(b('.seg_geo_origen').find('input').prop('disabled',!0),b('.seg_geo_origen').find('input').prop('checked',!1))}),b('.mymodal-close').click(function(){b(this).parent().parent().parent().parent().fadeOut(300),b('#list_grupal_seg_consult_1').remove()}),b(document).on('click','.dphpforms-peer-record',function(){if(!b(this).attr('disabled')){var v=b(this).attr('data-record-id');t('seguimiento_pares',v),b('#modal_v2_edit_peer_tracking').fadeIn(300)}}),b(document).on('click','.dphpforms-groupal-record',function(){if(!b(this).attr('disabled')){var v=b(this).attr('data-record-id');t('seguimiento_grupal',v),b('#modal_v2_edit_groupal_tracking').fadeIn(300)}}),b('.limpiar').click(function(){b(this).parent().find('.opcionesRadio').find('div').each(function(){b(this).find('label').find('input').prop('checked',!1)})}),b(document).on('click','.limpiar',function(){b(this).parent().find('.opcionesRadio').find('div').each(function(){b(this).find('label').find('input').prop('checked',!1)})}),b(document).on('submit','.dphpforms',function(v){v.preventDefault();var w=b(this).attr('id').indexOf('seguimiento_geografico_'),y=b(this).attr('id').indexOf('seguimiento_grupal_');-1!=w&&r('seguimiento_geografico_','insert'),-1!=y&&(b('#modal_v2_edit_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val(''),r('seguimiento_grupal_','insert')),b('.seg_geo_origen').find('input').prop('disabled',!1),b(':disabled').prop('disabled',!1);var A=new FormData(this),B=b(this),C=B.attr('action');'procesador.php'==B.attr('action')&&(C='../managers/dphpforms/procesador.php');var D=b('#dphpforms_record_id').val();b(B).find('button').prop('disabled',!0),b(B).find('a').attr('disabled',!0),h.show(),b.ajax({type:'POST',url:C,data:A,cache:!1,contentType:!1,processData:!1,success:function success(E){h.hide();var F=JSON.parse(E);if(0==F.status){b.get('../managers/pilos_tracking/api_pilos_tracking.php?function=update_last_user_risk&arg='+m()+'&rid='+D,function(S){console.log(S)});var G='';if('Stored'==F.message){G='Almacenado, se va a descargar una copia de seguridad, por favor cons\xE9rvela, informar si no se genera la copia.';var N=F.data,O=null,P=null;b.ajax({url:'../managers/dphpforms/dphpforms_get_record.php?record_id='+N,dataType:'json',async:!1,success:function success(S){P=S,O=JSON.stringify(S)}});var Q=null;b.ajax({url:'../managers/dphpforms/v2/dphpforms_api.php',type:'POST',data:JSON.stringify({function:'get_k',params:[N]}),dataType:'json',async:!1,success:function success(S){Q=S.data_response}});var R=b('#dphpforms_fullname').data('info')+' - '+P.record.alias+'-'+N+'-k-'+Q+' - Fecha '+P.record.fecha_hora_registro+'.json',H=new Blob([O],{type:'.json'});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(H,R);else{var I=document.createElement('a'),J=URL.createObjectURL(H);I.href=J,I.download=R,document.body.appendChild(I),I.click(),setTimeout(function(){document.body.removeChild(I),window.URL.revokeObjectURL(J)},0)}}else'Updated'==F.message&&(G='Actualizado, las fechas e \xEDconos se actualizar\xE1n al recargar la p\xE1gina. ');p(),o(),swal({title:'Informaci\xF3n',text:G,type:'success'},function(){'Updated'==F.message?(b('#dphpforms-peer-record-'+b('#dphpforms_record_id').val()).stop().animate({backgroundColor:'rgb(175, 255, 173)'},400).animate({backgroundColor:'#f5f5f5'},4e3),b('#body_editor').html('')):(b('.dphpforms-response').trigger('reset'),b('#body_editor').html(''))}),b('#modal_v2_edit_peer_tracking').fadeOut(300),b('#modal_v2_peer_tracking').fadeOut(300),b('#modal_primer_acercamiento').fadeOut(300),b('#modal_seguimiento_geografico').fadeOut(300),b(B).find('button').prop('disabled',!1),b(B).find('a').attr('disabled',!1)}else if(-6==F.status){b(B).find('button').prop('disabled',!1),b(B).find('a').attr('disabled',!1);var G='';if('The value of the field is out of range'==F.message){var K=F.data.id;b('div').removeClass('regla_incumplida'),b('.div-'+K).addClass('regla_incumplida'),G='Ups!, el campo marcado en rojo tiene una fecha por fuera del siguiente rango: '+F.data.min+' hasta '+F.data.max}b('#modal_v2_edit_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_primer_acercamiento').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_seguimiento_geografico').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_groupal_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),swal('Alerta',G,'warning')}else if(-5==F.status){b(B).find('button').prop('disabled',!1),b(B).find('a').attr('disabled',!1);var G='';if('The field is static and can not be changed'==F.message){var K=F.data;b('div').removeClass('regla_incumplida'),b('.div-'+K).addClass('regla_incumplida'),G='Ups!, el campo marcado en rojo est\xE1 definido como est\xE1tico y por lo tanto debe mantener el mismo valor, si no logra ver el campo marcado en rojo informe de este incidente.'}b('#modal_v2_edit_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_primer_acercamiento').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_seguimiento_geografico').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_groupal_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),swal('Alerta',G,'warning')}else if(-4==F.status){b(B).find('button').prop('disabled',!1),b(B).find('a').attr('disabled',!1);var G='';if('Field does not match with the regular expression'==F.message){var K=F.data.id;b('div').removeClass('regla_incumplida'),b('.div-'+K).addClass('regla_incumplida'),G='Ups!, el campo marcado en rojo no cumple con el patr\xF3n esperado('+F.data.human_readable+'). Ejemplo: '+F.data.example}b('#modal_v2_edit_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_primer_acercamiento').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_seguimiento_geografico').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_groupal_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),swal('Alerta',G,'warning')}else if(-3==F.status){b(B).find('button').prop('disabled',!1),b(B).find('a').attr('disabled',!1);var G='';if('Field cannot be null'==F.message){var K=F.data;b('div').removeClass('regla_incumplida'),b('.div-'+K).addClass('regla_incumplida'),G='Ups!, los campos que se acaban de colorear en rojo no pueden estar vac\xEDos, si no logra ver ning\xFAn campo, informe de este incidente.'}b('#modal_v2_edit_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_peer_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_primer_acercamiento').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_seguimiento_geografico').scrollTo('.div-'+K,{duration:1500,offset:-150}),b('#modal_v2_groupal_tracking').scrollTo('.div-'+K,{duration:1500,offset:-150}),swal('Alerta',G,'warning')}else if(-2==F.status){b(B).find('button').prop('disabled',!1),b(B).find('a').attr('disabled',!1);var G='';if('Without changes'==F.message)G='No hay cambios que registrar',b('#modal_v2_edit_peer_tracking').fadeOut(300),b('#modal_v2_peer_tracking').fadeOut(300),b('#modal_primer_acercamiento').fadeOut(300),b('#modal_seguimiento_geografico').fadeOut(300);else if('Unfulfilled rules'==F.message){var L=F.data.id_form_pregunta_a,M=F.data.id_form_pregunta_b;b('div').removeClass('regla_incumplida'),b('.div-'+L).addClass('regla_incumplida'),b('.div-'+M).addClass('regla_incumplida'),G='Ups!, revise los campos que se acaban de colorear en rojo.'}b('#modal_v2_edit_peer_tracking').scrollTo('.div-'+L,{duration:1500,offset:-150}),b('#modal_v2_peer_tracking').scrollTo('.div-'+L,{duration:1500,offset:-150}),b('#modal_primer_acercamiento').scrollTo('.div-'+L,{duration:1500,offset:-150}),b('#modal_seguimiento_geografico').scrollTo('.div-'+L,{duration:1500,offset:-150}),b('#modal_v2_groupal_tracking').scrollTo('.div-'+L,{duration:1500,offset:-150}),swal('Alerta',G,'warning')}else-1==F.status&&(console.log(E),swal('ERROR!','Ups!, informe de este error','error'))},error:function error(E){h.hide(),console.log(E),swal('Error!','Ups!, informe de este error','error'),b(B).find('button').prop('disabled',!1),b(B).find('a').attr('disabled',!1)}})}),b(document).on('click','.btn-dphpforms-delete-record',function(){swal({title:'Confirmaci\xF3n',text:'Est\xE1 eliminando este registro, \xBFdesea continuar?',type:'warning',showCancelButton:!0,confirmButtonText:'S\xED, Eliminar!'},function(v){if(v){var w=b('.btn-dphpforms-delete-record').attr('data-record-id');h.show(),b.get('../managers/dphpforms/dphpforms_delete_record.php?record_id='+w,function(y){h.hide();var A=y;0==A.status?(console.log(A),b.get('../managers/pilos_tracking/api_pilos_tracking.php?function=update_last_user_risk&arg='+m()+'&rid='+w,function(B){console.log(B)}),setTimeout(function(){swal({title:'Informaci\xF3n',text:'Eliminado',type:'success'},function(){b('.mymodal').fadeOut(300),b('#dphpforms-peer-record-'+w).stop().animate({backgroundColor:'rgb(175, 255, 173)'},400).animate({backgroundColor:'#e32423'},4e3,function(){b('#dphpforms-peer-record-'+w).remove()})})},500)):-1==A.status&&setTimeout(function(){swal('Error!',A.message,'error')},500)})}})})}}});