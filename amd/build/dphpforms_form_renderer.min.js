define ("block_ases/dphpforms_form_renderer",["jquery","block_ases/bootstrap","block_ases/sweetalert","block_ases/jqueryui","block_ases/select2","block_ases/loading_indicator","block_ases/jquery.scrollTo"],function(b,a,c,d,e,f){return{init:function init(){b("input[type=date]").keypress(function(a){a.preventDefault()});b(document).on("click",".btn-dphpforms-close",function(){b(this).closest("div[class=\"mymodal\"]").fadeOut(300)});b(".outside").click(function(){var a=b(this);swal({title:"Confirmaci\xF3n de salida",text:"",type:"warning",showCancelButton:!0,confirmButtonText:"Salir"},function(c){if(c){b(a).parent(".mymodal").fadeOut(300);console.log(b(this).parent(".mymodal"))}})});b(document).ready(function(){b(".seg_geo_origen").find("input").prop("disabled",!0)});b(document).on("change",b(".seg_geo_vive_zona_riesgo").find("label").find("input"),function(){if(b(".seg_geo_vive_zona_riesgo").find("label").find("input").prop("checked")){b(".seg_geo_origen").find("input").prop("disabled",!1)}else{b(".seg_geo_origen").find("input").prop("disabled",!0);b(".seg_geo_origen").find("input").prop("checked",!1)}});b(".seg_geo_vive_zona_riesgo").find("label").find("input").change(function(){if(b(".seg_geo_vive_zona_riesgo").find("label").find("input").prop("checked")){b(".seg_geo_origen").find("input").prop("disabled",!1)}else{b(".seg_geo_origen").find("input").prop("disabled",!0);b(".seg_geo_origen").find("input").prop("checked",!1)}});b("#button_update_geographic_track").click(function(){b("div").removeClass("regla_incumplida");b.get("../managers/dphpforms/dphpforms_forms_core.php?form_id=seguimiento_geografico&record_id="+b(this).attr("data-record-id"),function(a){b("#seguimiento_geografico_form").html("");b("#seguimiento_geografico_form").append(a);b("#modal_seguimiento_geografico").fadeIn(300);if(b(".seg_geo_vive_zona_riesgo").find("label").find("input").prop("checked")){b(".seg_geo_origen").find("input").prop("disabled",!1)}else{b(".seg_geo_origen").find("input").prop("disabled",!0);b(".seg_geo_origen").find("input").prop("checked",!1)}var c=b(".dphpforms-record .btn-dphpforms-univalle").length;if(2==c){b(".dphpforms-record .btn-dphpforms-univalle:eq(0)").css({"margin-left":b(".dphpforms-updater").width()/2-72+"px"})}if(3==c){b(".dphpforms-record .btn-dphpforms-univalle:eq(0)").css({"margin-left":b(".dphpforms-updater").width()/2-72-30+"px"})}})});function c(){return b("#dphpforms_ases_student_code").attr("data-info")}function d(){return b("#dphpforms_block_instance").attr("data-info")}function e(){var a=h(".seg_geo_nivel_riesgo"),d=b(".seg_geo_observaciones").find("textarea").val();if("3"==a){var e={function:"send_email_dphpforms",student_code:c(),risks:[{name:"Geogr\xE1fico",risk_lvl:a,observation:d}],date:b(".fecha").find("input").val(),url:window.location.href};console.log(JSON.stringify(e));b.ajax({type:"POST",data:JSON.stringify(e),url:"../managers/pilos_tracking/send_risk_email.php",success:function success(a){console.log(a)},dataType:"text",cache:"false",error:function error(a){console.log(a)}})}}function g(){var a=h(".puntuacion_riesgo_individual"),d=b(".comentarios_individual").find("textarea").val(),e=h(".puntuacion_riesgo_familiar"),f=b(".comentarios_familiar").find("textarea").val(),g=h(".puntuacion_riesgo_academico"),i=b(".comentarios_academico").find("textarea").val(),j=h(".puntuacion_riesgo_economico"),k=b(".comentarios_economico").find("textarea").val(),l=h(".puntuacion_vida_uni"),m=b(".comentarios_vida_uni").find("textarea").val();if("3"==a||"3"==e||"3"==g||"3"==j||"3"==l){var n={function:"send_email_dphpforms",student_code:c(),risks:[{name:"Individual",risk_lvl:a,observation:d},{name:"Familiar",risk_lvl:e,observation:f},{name:"Acad\xE9mico",risk_lvl:g,observation:i},{name:"Econ\xF3mico",risk_lvl:j,observation:k},{name:"Vida Universitaria",risk_lvl:l,observation:m}],date:b(".fecha").find("input").val(),url:window.location.href};console.log(JSON.stringify(n));b.ajax({type:"POST",data:JSON.stringify(n),url:"../managers/pilos_tracking/send_risk_email.php",success:function success(a){console.log(a)},dataType:"text",cache:"false",error:function error(a){console.log(a)}})}}function h(a){var c=0;b(a).find(".opcionesRadio").find("div").each(function(){if(b(this).find("label").find("input").is(":checked")){c=b(this).find("label").find("input").val()}});return c}b(document).on("click",".btn.btn-danger.btn-univalle.btn-card",function(){var a=b(this).attr("data-container"),c=b("#"+a).height();if(0==c){b(this).find("span").not(".protected").removeClass("glyphicon-chevron-left");b(this).find("span").not(".protected").addClass("glyphicon-chevron-down");b(this).find(".open-close-icon").removeClass("glyphicon-chevron-left");b(this).find(".open-close-icon").addClass("glyphicon-chevron-down")}else{while(0>c){c=b("#"+a).height()}b(this).find("span").not(".protected").removeClass("glyphicon-chevron-down");b(this).find("span").not(".protected").addClass("glyphicon-chevron-left");b(this).find(".open-close-icon").removeClass("glyphicon-chevron-down");b(this).find(".open-close-icon").addClass("glyphicon-chevron-left")}});b(".btn-inasistencia").on("click",function(){var a=b(this).attr("data-info");if("inasistencia"==a){b("#modal_inasistencia").fadeOut(300);b("#modal_v2_peer_tracking").fadeIn(300);b(".id_estudiante").find("input").val(c());var e=b("#current_user_id").val();b(".id_creado_por").find("input").val(e);b(".id_instancia").find("input").val(d());b(".id_monitor").find("input").val(b("#dphpforms_monitor_id").data("info"));b(".id_practicante").find("input").val(b("#dphpforms_practicing_id").data("info"));b(".id_profesional").find("input").val(b("#dphpforms_professional_id").data("info"));b(".username").find("input").val(b("#dphpforms_username").data("info"))}else{b("#modal_v2_peer_tracking").fadeOut(300);b("#modal_inasistencia").fadeIn(300);b(".in_id_estudiante").find("input").val(c());var e=b("#current_user_id").val();b(".in_id_creado_por").find("input").val(e);b(".in_id_instancia").find("input").val(d());b(".in_id_monitor").find("input").val(b("#dphpforms_monitor_id").data("info"));b(".in_id_practicante").find("input").val(b("#dphpforms_practicing_id").data("info"));b(".in_id_profesional").find("input").val(b("#dphpforms_professional_id").data("info"));b(".in_username").find("input").val(b("#dphpforms_username").data("info"))}});b("#button_add_groupal_track").on("click",function(){b("#modal_v2_edit_groupal_tracking").find("#body_editor").html("");b("div").removeClass("regla_incumplida");b("#modal_v2_groupal_tracking").fadeIn(300);var a=b("#current_user_id").val();b(".id_creado_por").find("input").val(a);b(".id_estudiante").find("input").val("-");b("#list_grupal_seg_consult  input[type=checkbox]").prop("checked",!1)});b("#button_add_geographic_track").on("click",function(){b("div").removeClass("regla_incumplida");b("#modal_seguimiento_geografico").fadeIn(300);b(".seg_geo_id_estudiante").find("input").val(c());var a=b("#current_user_id").val();b(".seg_geo_id_creado_por").find("input").val(a);if(b(".seg_geo_vive_zona_riesgo").find("label").find("input").prop("checked")){b(".seg_geo_origen").find("input").prop("disabled",!1)}else{b(".seg_geo_origen").find("input").prop("disabled",!0);b(".seg_geo_origen").find("input").prop("checked",!1)}});b(".mymodal-close").click(function(){b(this).parent().parent().parent().parent().fadeOut(300);b("#list_grupal_seg_consult_1").remove()});b(document).on("click",".dphpforms-peer-record",function(){if(!b(this).attr("disabled")){var a=b(this).attr("data-record-id");k("seguimiento_pares",a);b("#modal_v2_edit_peer_tracking").fadeIn(300)}});b(document).on("click",".dphpforms-groupal-record",function(){if(!b(this).attr("disabled")){var a=b(this).attr("data-record-id");k("seguimiento_grupal",a);b("#modal_v2_edit_groupal_tracking").fadeIn(300)}});function i(a,c){if("primer_acercamiento"==a&&"insert"==c){}else if("primer_acercamiento"==a&&"update"==c){}else if("inasistencia"==a&&"insert"==c){}else if("inasistencia"==a&&"update"==c){var d=b(".dphpforms-record").find(".in_revisado_profesional").find(".checkbox").find("input[type=checkbox]").prop("checked"),e=b(".dphpforms-record").find(".in_revisado_practicante").find(".checkbox").find("input[type=checkbox]").prop("checked"),f=b("#dphpforms_role_support").attr("data-info");if(d&&"sistemas"!=f){b(".btn-dphpforms-delete-record").remove();b(".btn-dphpforms-update").remove()}if("dir_socioeducativo"==f){b(".btn-dphpforms-delete-record").remove();b(".btn-dphpforms-update").remove()}}else if("seguimiento_pares"==a&&"insert"==c){}else if("seguimiento_pares"==a&&"update"==c){var d=b(".dphpforms-record").find(".revisado_profesional").find(".checkbox").find("input[type=checkbox]").prop("checked"),e=b(".dphpforms-record").find(".revisado_practicante").find(".checkbox").find("input[type=checkbox]").prop("checked"),f=b("#dphpforms_role_support").attr("data-info");if(d&&"sistemas"!=f){b(".btn-dphpforms-delete-record").remove();b(".btn-dphpforms-update").remove()}if("dir_socioeducativo"==f){b(".btn-dphpforms-delete-record").remove();b(".btn-dphpforms-update").remove()}}else if("seguimiento_geografico_"==a&&"insert"==c){b(".seg_geo_origen").find("input").prop("disabled",!1)}else if("seguimiento_geografico_"==a&&"update"==c){}else if("seguimiento_grupal_"==a&&"insert"==c){var g=b("modal_v2_edit_groupal_tracking").find("input:checked").length,h="",i="";b("#modal_v2_groupal_tracking").find("form").find(".oculto.id_estudiante").find("input").val("");b("#modal_v2_edit_groupal_tracking").find("form").find(".oculto.id_estudiante").find("input").val("");b("#modal_v2_edit_groupal_tracking").find("input:checked").each(function(){var a=b(this).parent().parent().find(">:first-child").text(),c=a.split("-");h+=c[0]+","});b("#modal_v2_groupal_tracking").find("input:checked").each(function(){var a=b(this).parent().parent().find(">:first-child").text(),c=a.split("-");i+=c[0]+","});b("#modal_v2_edit_groupal_tracking").find("form").find(".oculto.id_estudiante").find("input").val(h.slice(0,-1));b("#modal_v2_groupal_tracking").find("form").find(".oculto.id_estudiante").find("input").val(i.slice(0,-1))}else if("seguimiento_grupal"==a&&"update"==c){var j=b("#dphpforms_role_support").attr("data-info");if("profesional_ps"!=j&&"sistemas"!=j){b("#modal_v2_edit_groupal_tracking").find(".btn-dphpforms-delete-record").remove()}}}function j(a){students_code=a.split(",");console.log(".id_estudiante :"+students_code);var c=[];b("#list_students_attendance_1 > tbody  > tr").each(function(){var a=b(this).children("td").first().html().split("-");c.push(a[0])});console.log("lista total de id_estudiantes :");console.log("lista de estudiantes seleccin : "+students_code);b.each(students_code,function(a,d){var e=c.indexOf(d);if(-1!=e){var f=b("#list_students_attendance_1 tbody>tr:eq('"+e+"')"),g=f.find("td").eq(3).children("input");b("input[type=checkbox][value='"+g.val()+"']").prop("checked",!0)}})}function k(a,c){b(".div").removeClass("regla_incumplida");b("#body_editor").html("");f.show();b.get("../managers/dphpforms/dphpforms_forms_core.php?form_id=&record_id="+c,function(d){f.hide();if("seguimiento_grupal"==a){b("#modal_v2_edit_groupal_tracking").find("#body_editor").html("");b("#modal_v2_edit_groupal_tracking").find("#body_editor").append(d);var e=b("#modal_v2_edit_groupal_tracking").find("form").find(".oculto.id_estudiante").find("input").val();l(e)}else{b("#body_editor").append(d);var g=b("#dphpforms_role_support").attr("data-info"),h=b("#custom_metadata").data("view-name");if("report_trackings"==h){if("sistemas"==g||"profesional_ps"==g||"practicante_ps"==g){b(".dphpforms.dphpforms-record.dphpforms-updater").append("<br><br><div class=\"div-observation col-xs-12 col-sm-12 col-md-12 col-lg-12 comentarios_vida_uni\">Observaciones de Practicante/profesional:<br> <textarea id=\"observation_text\" class=\"form-control \" name=\"observation_text\" maxlength=\"5000\"></textarea><br><a id=\"send_observation\" class=\"btn btn-sm btn-danger btn-dphpforms-univalle btn-dphpforms-send-observation\">Enviar observaci\xF3n</a></div>")}}b("button.btn.btn-sm.btn-danger.btn-dphpforms-univalle").attr("id","button")}var k=b("#list_grupal_seg_consult").clone().prop("id","list_grupal_seg_consult_1");b("#modal_v2_edit_groupal_tracking").find("form").find("h1").after(k);b("#list_grupal_seg_consult_1 > #list_students_attendance").prop("id","list_students_attendance_1");b("#list_grupal_seg_consult_1  input[type=checkbox]").prop("checked",!1);var m=b("#modal_v2_edit_groupal_tracking").find("form").find(".oculto.id_estudiante").find("input");if(m.val()!=void 0){j(m.val())}b("#permissions_informationr").html("");var n=b(".dphpforms-record").find(".revisado_profesional").find(".checkbox").find("input[type=checkbox]").prop("checked"),o=b(".dphpforms-record").find(".revisado_practicante").find(".checkbox").find("input[type=checkbox]").prop("checked");if(n||o){b(".dphpforms-record").find(".btn-dphpforms-delete-record").remove()}for(var p=JSON.parse(b("#permissions_information").text()),q=0;q<p.behaviors_permissions.length;q++){for(var r=p.behaviors_permissions[q].behaviors[0],s=r.behaviors_accessibility,t=0,u;t<s.length;t++){u=s[t].disabled;if("true"==u){u=!0}else if("false"==u){u=!1}b(".dphpforms-record").find("#"+s[t].id).prop("disabled",u);b(".dphpforms-record").find("."+s[t]["class"]).prop("disabled",u)}for(var v=r.behaviors_fields_to_remove,t=0;t<v.length;t++){b(".dphpforms-record").find("#"+v[t].id).remove();b(".dphpforms-record").find("."+v[t]["class"]).remove()}for(var w=r.limpiar_to_eliminate,t=0;t<w.length;t++){b(".dphpforms-record").find("."+w[t]["class"]+".limpiar ").remove()}}b("#dphpforms_record_id[value="+c+"]").parent().parent().append("<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">                     <hr style=\"border-color:#424242;margin-bottom:3px;\">                </div>");b.ajax({type:"POST",data:JSON.stringify({function:"get_pretty_record_history",params:[c]}),url:"../managers/dphpforms/v2/dphpforms_api.php",async:!1,dataType:"json",cache:"false",success:function success(a){var d=JSON.parse(a.data_response);b("#dphpforms_record_id[value="+c+"]").parent().parent().append("<div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\" style=\"font-size:0.9em;\"><strong style=\"color:#424242;\">Fecha y hora</strong></div>"+"<div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\" style=\"font-size:0.9em;\"><strong style=\"color:#424242;\">Usuario que realiza la acci&oacute;n</strong></div>"+"<div class=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\" style=\"font-size:0.9em;\"><strong style=\"color:#424242;\">Acci&oacute;n</strong></div>"+"<div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\" style=\"font-size:0.9em;\"><strong style=\"color:#424242;\">Estado</strong></div>"+"<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">                             <hr style=\"border-color:#424242; margin-top:0px; margin-bottom:10px;\">                        </div>");d.forEach(function(a){var d="<div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">"+a.fecha_hora_registro+"</div>",e="<div class=\"col-xs-4 col-sm-4 col-md-4 col-lg-4\">"+a.usuario_moodle+"</div>",f="";switch(a.accion){case"INSERT":f="CREA";break;case"UPDATE":f="ACTUALIZA";break;case"DELETE":f="ELIMINA";break;default:f="DESCONOCIDA";break;}var g="<div class=\"col-xs-1 col-sm-1 col-md-1 col-lg-1\">"+f+"</div>",h="<div class=\"col-xs-3 col-sm-3 col-md-3 col-lg-3\">"+("0"!==a.cod_retorno?"( No completado )":"( Completado )")+"</div>";b("#dphpforms_record_id[value="+c+"]").parent().parent().append("<div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\"  style=\"padding:0px;font-size:0.9em;\">"+d+e+g+h+"</div>")})},error:function error(a){console.log(a)}});b("#permissions_informationr").html("");var y=d.indexOf("primer_acercamiento_");if(-1!=y){i("primer_acercamiento","update")}var A=d.indexOf("seguimiento_de_pares_");if(-1!=A){i("seguimiento_pares","update")}var B=d.indexOf("inasistencia");if(-1!=B){i("inasistencia","update")}var B=d.indexOf("seguimiento_grupal");if(-1!=B){i("seguimiento_grupal","update")}b("input[type=date]").keypress(function(a){a.preventDefault()})})}b(".limpiar").click(function(){b(this).parent().find(".opcionesRadio").find("div").each(function(){b(this).find("label").find("input").prop("checked",!1)})});b(document).on("click",".limpiar",function(){b(this).parent().find(".opcionesRadio").find("div").each(function(){b(this).find("label").find("input").prop("checked",!1)})});b(document).on("submit",".dphpforms",function(a){a.preventDefault();var d=b(this).attr("id").indexOf("seguimiento_geografico_"),h=b(this).attr("id").indexOf("seguimiento_grupal_");if(-1!=d){i("seguimiento_geografico_","insert")}if(-1!=h){b("#modal_v2_edit_groupal_tracking").find("form").find(".oculto.id_estudiante").find("input").val("");i("seguimiento_grupal_","insert")}b(".seg_geo_origen").find("input").prop("disabled",!1);b(":disabled").prop("disabled",!1);var j=new FormData(this),k=b(this),l=k.attr("action");if("procesador.php"==k.attr("action")){l="../managers/dphpforms/procesador.php"}var m=b("#dphpforms_record_id").val();b(k).find("button").prop("disabled",!0);b(k).find("a").attr("disabled",!0);f.show();b.ajax({type:"POST",url:l,data:j,cache:!1,contentType:!1,processData:!1,success:function success(d){f.hide();var h=JSON.parse(d);if(0==h.status){b.get("../managers/pilos_tracking/api_pilos_tracking.php?function=update_last_user_risk&arg="+c()+"&rid="+m,function(a){console.log(a)});var i="";if("Stored"==h.message){i="Almacenado, se va a descargar una copia de seguridad, por favor cons\xE9rvela, informar si no se genera la copia.";var j=h.data,l=null,n=null;b.ajax({url:"../managers/dphpforms/dphpforms_get_record.php?record_id="+j,dataType:"json",async:!1,success:function success(a){n=a;l=JSON.stringify(a)}});var u=null;b.ajax({url:"../managers/dphpforms/v2/dphpforms_api.php",type:"POST",data:JSON.stringify({function:"get_k",params:[j]}),dataType:"json",async:!1,success:function success(a){u=a.data_response}});var o=b("#dphpforms_fullname").data("info")+" - "+n.record.alias+"-"+j+"-k-"+u+" - Fecha "+n.record.fecha_hora_registro+".json",p=new Blob([l],{type:".json"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(p,o);else{var q=document.createElement("a"),a=URL.createObjectURL(p);q.href=a;q.download=o;document.body.appendChild(q);q.click();setTimeout(function(){document.body.removeChild(q);window.URL.revokeObjectURL(a)},0)}}else if("Updated"==h.message){i="Actualizado, las fechas e \xEDconos se actualizar\xE1n al recargar la p\xE1gina. "}g();e();swal({title:"Informaci\xF3n",text:i,type:"success"},function(){if("Updated"==h.message){b("#dphpforms-peer-record-"+b("#dphpforms_record_id").val()).stop().animate({backgroundColor:"rgb(175, 255, 173)"},400).animate({backgroundColor:"#f5f5f5"},4e3);b("#body_editor").html("")}else{b(".dphpforms-response").trigger("reset");b("#body_editor").html("")}});b("#modal_v2_edit_peer_tracking").fadeOut(300);b("#modal_v2_peer_tracking").fadeOut(300);b("#modal_primer_acercamiento").fadeOut(300);b("#modal_seguimiento_geografico").fadeOut(300);b(k).find("button").prop("disabled",!1);b(k).find("a").attr("disabled",!1)}else if(-6==h.status){b(k).find("button").prop("disabled",!1);b(k).find("a").attr("disabled",!1);var i="";if("The value of the field is out of range"==h.message){var r=h.data.id;b("div").removeClass("regla_incumplida");b(".div-"+r).addClass("regla_incumplida");i="Ups!, el campo marcado en rojo tiene una fecha por fuera del siguiente rango: "+h.data.min+" hasta "+h.data.max}b("#modal_v2_edit_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_primer_acercamiento").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_seguimiento_geografico").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_groupal_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});swal("Alerta",i,"warning")}else if(-5==h.status){b(k).find("button").prop("disabled",!1);b(k).find("a").attr("disabled",!1);var i="";if("The field is static and can not be changed"==h.message){var r=h.data;b("div").removeClass("regla_incumplida");b(".div-"+r).addClass("regla_incumplida");i="Ups!, el campo marcado en rojo est\xE1 definido como est\xE1tico y por lo tanto debe mantener el mismo valor, si no logra ver el campo marcado en rojo informe de este incidente."}b("#modal_v2_edit_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_primer_acercamiento").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_seguimiento_geografico").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_groupal_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});swal("Alerta",i,"warning")}else if(-4==h.status){b(k).find("button").prop("disabled",!1);b(k).find("a").attr("disabled",!1);var i="";if("Field does not match with the regular expression"==h.message){var r=h.data.id;b("div").removeClass("regla_incumplida");b(".div-"+r).addClass("regla_incumplida");i="Ups!, el campo marcado en rojo no cumple con el patr\xF3n esperado("+h.data.human_readable+"). Ejemplo: "+h.data.example}b("#modal_v2_edit_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_primer_acercamiento").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_seguimiento_geografico").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_groupal_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});swal("Alerta",i,"warning")}else if(-3==h.status){b(k).find("button").prop("disabled",!1);b(k).find("a").attr("disabled",!1);var i="";if("Field cannot be null"==h.message){var r=h.data;b("div").removeClass("regla_incumplida");b(".div-"+r).addClass("regla_incumplida");i="Ups!, los campos que se acaban de colorear en rojo no pueden estar vac\xEDos, si no logra ver ning\xFAn campo, informe de este incidente."}b("#modal_v2_edit_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_peer_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_primer_acercamiento").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_seguimiento_geografico").scrollTo(".div-"+r,{duration:1500,offset:-150});b("#modal_v2_groupal_tracking").scrollTo(".div-"+r,{duration:1500,offset:-150});swal("Alerta",i,"warning")}else if(-2==h.status){b(k).find("button").prop("disabled",!1);b(k).find("a").attr("disabled",!1);var i="";if("Without changes"==h.message){i="No hay cambios que registrar";b("#modal_v2_edit_peer_tracking").fadeOut(300);b("#modal_v2_peer_tracking").fadeOut(300);b("#modal_primer_acercamiento").fadeOut(300);b("#modal_seguimiento_geografico").fadeOut(300)}else if("Unfulfilled rules"==h.message){var s=h.data.id_form_pregunta_a,t=h.data.id_form_pregunta_b;b("div").removeClass("regla_incumplida");b(".div-"+s).addClass("regla_incumplida");b(".div-"+t).addClass("regla_incumplida");i="Ups!, revise los campos que se acaban de colorear en rojo."}b("#modal_v2_edit_peer_tracking").scrollTo(".div-"+s,{duration:1500,offset:-150});b("#modal_v2_peer_tracking").scrollTo(".div-"+s,{duration:1500,offset:-150});b("#modal_primer_acercamiento").scrollTo(".div-"+s,{duration:1500,offset:-150});b("#modal_seguimiento_geografico").scrollTo(".div-"+s,{duration:1500,offset:-150});b("#modal_v2_groupal_tracking").scrollTo(".div-"+s,{duration:1500,offset:-150});swal("Alerta",i,"warning")}else if(-1==h.status){console.log(d);swal("ERROR!","Ups!, informe de este error","error")}},error:function error(a){f.hide();console.log(a);swal("Error!","Ups!, informe de este error","error");b(k).find("button").prop("disabled",!1);b(k).find("a").attr("disabled",!1)}})});b(document).on("click",".btn-dphpforms-delete-record",function(){swal({title:"Confirmaci\xF3n",text:"Est\xE1 eliminando este registro, \xBFdesea continuar?",type:"warning",showCancelButton:!0,confirmButtonText:"S\xED, Eliminar!"},function(a){if(a){var d=b(".btn-dphpforms-delete-record").attr("data-record-id");f.show();b.get("../managers/dphpforms/dphpforms_delete_record.php?record_id="+d,function(a){f.hide();var e=a;if(0==e.status){console.log(e);b.get("../managers/pilos_tracking/api_pilos_tracking.php?function=update_last_user_risk&arg="+c()+"&rid="+d,function(a){console.log(a)});setTimeout(function(){swal({title:"Informaci\xF3n",text:"Eliminado",type:"success"},function(){b(".mymodal").fadeOut(300);b("#dphpforms-peer-record-"+d).stop().animate({backgroundColor:"rgb(175, 255, 173)"},400).animate({backgroundColor:"#e32423"},4e3,function(){b("#dphpforms-peer-record-"+d).remove()})})},500)}else if(-1==e.status){setTimeout(function(){swal("Error!",e.message,"error")},500)}})}})});function l(a){f.show();b.ajax({type:"POST",data:{students:a,type:"consult_students_name"},url:"../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php",async:!1,success:function success(a){f.hide();if(""!=a){b("#modal_v2_edit_groupal_tracking").find("#students").remove();b("#modal_v2_edit_groupal_tracking").find("form").find("h1").after("<hr style=\"border-color:red\"><div class=\"col-xs-12 col-sm-12 col-md-12 col-lg-12 estudiantes\" id=\"students\"><h3>Estudiantes asistentes:</h3><br>"+a+"<br>")}},dataType:"text",cache:"false",error:function error(){alert("Error al consultar nombres de los estudiantes pertenecientes a un seguimiento grupal");f.hide()}})}}}});
//# sourceMappingURL=dphpforms_form_renderer.min.js.map
