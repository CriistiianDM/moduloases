'use strict';define(['jquery','block_ases/bootstrap','block_ases/d3','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2','block_ases/Chart'],function(a,b,c,d,e,f,g){function h(){a('#span-icon-edit').on('click',function(){a(this).hide(),a('#tip-edit').hide(),a('#span-icon-save-profile').show(),a('#tip-save').show(),a('#span-icon-cancel-edit').show(),a('#tip-cancel').show(),a('#tipo_doc').prop('disabled',!1),a('#cedula').prop('readonly',!1),a('#icetex_status').prop('disabled',!1),a('.select_statuses_program').prop('disabled',!1)}),a('#span-icon-cancel-edit').on('click',function(){a(this).hide(),a('#tip-cancel').hide(),a('#span-icon-save-profile').hide(),a('#tip-save').hide(),a('#span-icon-edit').show(),a('#tip-edit').show(),a('#tipo_doc').prop('disabled',!0),a('#cedula').prop('readonly',!0),a('#icetex_status').prop('disabled',!0),a('.select_statuses_program').prop('disabled',!0)}),a('#editar_ficha').click(function(){a('#ficha_estudiante').find('input').prop('readonly',!1),a('#observations_profile').prop('readonly',!1),a('#profesional_ps').prop('readonly',!0),a('#practicante_ps').prop('readonly',!0),a('#monitor_ps').prop('readonly',!0),a('#ficha_estudiante').find('select').prop('disabled',!1),a(this).hide(),a('#ficha_estudiante #cancel').fadeIn(),a('#ficha_estudiante #save').fadeIn(),a('#ficha_estudiante #codigo').attr('readonly',!0),a('#ficha_estudiante #search').fadeOut()})}function j(){a('#ficha_estudiante').find('input, textarea').prop('readonly',!0),a('#ficha_estudiante').find('select').prop('disabled',!0),a(this).hide(),a('#ficha_estudiante #save').fadeOut(),a('#ficha_estudiante #cancel').fadeOut(),a('#ficha_estudiante #editar_ficha').fadeIn(),a('#ficha_estudiante #codigo').attr('readonly',!1),a('#ficha_estudiante #search').fadeIn()}function l(){var K=a('#ficha_estudiante').serializeArray();if(m(K)){JSON.stringify(K);a.ajax({type:'POST',data:{func:'save_profile',form:K},url:'../managers/student_profile/studentprofile_serverproc.php',success:function success(M){swal(M.title,M.msg,M.status)},dataType:'json',cache:'false',error:function error(M){swal(M.title,M.msg,M.status)}})}j()}function m(K){return n(K[4].value)?(swal('Error','El campo "Documento" solo debe contener n\xFAmeros','error'),0):''==K[4].value?(swal('Error','El campo "Documento" no puede estar vacio','error'),0):''==K[3].value?(swal('Error','El campo "Tipo de documento" no puede estar vacio','error'),0):n(K[6].value)?(swal('Error','El campo "Tel\xE9fono 1" solo debe contener n\xFAmeros','error'),0):n(K[7].value)?(swal('Error','El campo "Tel\xE9fono 2" solo debe contener n\xFAmeros','error'),0):n(K[8].value)?(swal('Error','El campo "Tel\xE9fono 3" solo debe contener n\xFAmeros','error'),0):''==K[9].value?(swal('Error','El campo "Email alternativo" no puede estar vacio','error'),0):p(K[9].value)?(swal('Error','El formato del correo alternativo es incorrecto. \n El formato correcto deber\xEDa ser ejemplo@ejemplo.com','error'),0):''==K[10].value?(swal('Error','El campo "Nombre acudiente" no puede estar vacio','error'),0):n(K[11].value)?(swal('Error','El campo "Tel\xE9fono acudiente" solo debe contener n\xFAmeros','error'),0):1}function n(K){for(K=K.toLowerCase(),i=0;i<K.length;i++)if(-1!='abcdefghyjklmn\xF1opqrstuvwxyz'.indexOf(K.charAt(i),0))return 1;return 0}function p(K){var L=/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i;return L.test(K)?0:1}function v(){var K=a('#modal_dropout'),L=a('.mymodal-close'),M=a('#goback_backdrop');M.on('click',function(){K.hide()}),L.on('click',function(){K.hide()})}function w(){var K=a('#modal_peer_tracking'),L=a('.mymodal-close'),M=a('#cancel_peer_tracking');M.on('click',function(){K.hide()}),L.on('click',function(){K.hide()});var N=a('.panel-heading.heading_semester_tracking');N.on('click',function(){'collapsed'==a(this).parent().attr('class')?(a('h4>span',this).removeClass('glyphicon-chevron-left'),a('h4>span',this).addClass('glyphicon-chevron-down')):(a('h4>span',this).removeClass('glyphicon-chevron-down'),a('h4>span',this).addClass('glyphicon-chevron-left'))})}function x(){var K=a('#modal_risk_span'),L=a('#modal_risk_close');K.on('click',function(){a('#modal_risk_graph').hide()}),L.on('click',function(){a('#modal_risk_graph').hide()})}function y(){a('#date').datepicker({dateFormat:'yy-mm-dd'});for(var K=new Date,L=K.getDate(),M=K.getMonth()+1,N=K.getFullYear(),O=K.getMinutes(),P=K.getHours(),Q='',R=0;24>R;R++)R==P?(10>P&&(P='0'+P),Q+='<option value="'+P+'" selected>'+P+'</option>'):Q+=10>R?'<option value="0'+R+'">0'+R+'</option>':'<option value="'+R+'">'+R+'</option>';for(var S='',R=0;60>R;R++)R==O?(10>O&&(O='0'+O),S+='<option value="'+O+'" selected>'+O+'</option>'):S+=10>R?'<option value="0'+R+'">0'+R+'</option>':'<option value="'+R+'">'+R+'</option>';a('#h_ini').append(Q),a('#m_ini').append(S),a('#h_fin').append(Q),a('#m_fin').append(S),a('#infomonitor').addClass('hide'),a('#seguimiento').find('input:text, textarea').val(''),a('#seguimiento').find('input:radio,input:checkbox').prop('checked',!1),a('#upd_seg').attr('disabled',!1),a('#upd_seg').attr('title',''),a('#seguimiento').find('select, textarea, input').attr('disabled',!1),a('#no_value_individual').hide(),a('#no_value_familiar').hide(),a('#no_value_academic').hide(),a('#no_value_economic').hide(),a('#no_value_life').hide(),a('#id_tracking_peer').val(''),a('#place').val(''),a('#topic_textarea').val(''),a('#objetivos').val(''),a('#individual').val(''),a('#familiar').val(''),a('#academico').val(''),a('#economico').val(''),a('#vida_uni').val(''),a('#observaciones').val(''),a('#no_value_individual').prop('checked',!0),a('#no_value_familiar').prop('checked',!0),a('#no_value_academic').prop('checked',!0),a('#no_value_economic').prop('checked',!0),a('#no_value_life').prop('checked',!0)}function z(){var K=a('#tracking_peer_form'),L=a('#modal_peer_tracking'),M=K.serializeArray(),N=B(document.location.search),O=A(M);if('success'!=O)swal({title:'Advertencia',text:O,type:'warning',html:!0});else{M.push({name:'func',value:'save_tracking_peer'});var P=a('#id_ases').val();M.push({name:'id_ases',value:P}),M.push({name:'id_instance',value:N.instanceid}),a.ajax({type:'POST',data:M,url:'../../ases/managers/student_profile/studentprofile_serverproc.php',success:function success(Q){swal({title:Q.title,text:Q.msg,type:Q.type},function(){L.hide();var R=B(document.location.search);R.tab?location.reload():location.href=location.search+'&tab=socioed_tab'})},dataType:'json',cache:'false',error:function error(Q){console.log(Q)}})}}function A(K){var L=/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/,M=L.exec(K[1].value);return''==K[1].value?'Debe introducir la fecha en la cual se realiz\xF3 el seguimiento':null===M?'La fecha no sigue el patr\xF3n yyyy-mm-dd. Ejemplo 2017-10-13':''==K[2].value?'Debe introducir el lugar donde se realiz\xF3 el seguimiento':''==K[7].value?'El campo tema se encuentra vacio':''==K[8].value?'El campo objetivos se encuentra vacio':parseInt(K[5].value)<parseInt(K[3].value)?'La hora de finalizaci\xF3n debe ser mayor a la hora inicial':parseInt(K[3].value)==parseInt(K[5].value)&&parseInt(K[6].value)<=parseInt(K[4].value)?'La hora de finalizaci\xF3n debe ser mayor a la hora inicial':''!=K[9].value&&0==K[10].value?'El riesgo asociado al campo Actividad Invidual no est\xE1 marcado. Si usted escribi\xF3 informaci\xF3n en el campo Actividad Individual debe marcar un nivel de riesgo.':''!=K[11].value&&0==K[12].value?'El riesgo asociado al campo Actividad Familiar no est\xE1 marcado. Si usted escribi\xF3 informaci\xF3n en el campo Actividad Familiar debe marcar un nivel de riesgo.':''!=K[13].value&&0==K[14].value?'El riesgo asociado al campo Actividad Acad\xE9mico no est\xE1 marcado. Si usted escribi\xF3 informaci\xF3n en el campo Actividad Acad\xE9mico debe marcar un nivel de riesgo.':''!=K[15].value&&0==K[16].value?'El riesgo asociado al campo Actividad Econ\xF3mico no est\xE1 marcado. Si usted escribi\xF3 informaci\xF3n en el campo Actividad Econ\xF3mico debe marcar un nivel de riesgo.':''!=K[17].value&&0==K[18].value?'El riesgo asociado al campo Actividad Vida Universitaria no est\xE1 marcado. Si usted escribi\xF3 informaci\xF3n en el campo Actividad Vida Universitaria debe marcar un nivel de riesgo.':''==K[9].value&&0!=K[10].value?'Usted ha marcado el nivel de riesgo asociado a la actividad Individual, debe digitar informaci\xF3n en el campo Actividad Individual. O puede utilizar el icono (<span style=\'color:gray;\' class=\'glyphicon glyphicon-erase\'></span>) de limpiar riesgo.':''==K[11].value&&0!=K[12].value?'Usted ha marcado el nivel de riesgo asociado a la actividad Familiar, debe digitar informaci\xF3n en el campo Actividad Familiar. O puede utilizar el icono (<span style=\'color:gray;\' class=\'glyphicon glyphicon-erase\'></span>) de limpiar riesgo.':''==K[13].value&&0!=K[14].value?'Usted ha marcado el nivel de riesgo asociado a la actividad Acad\xE9mico, debe digitar informaci\xF3n en el campo Actividad Acad\xE9mico. O puede utilizar el icono (<span style=\'color:gray;\' class=\'glyphicon glyphicon-erase\'></span>) de limpiar riesgo.':''==K[15].value&&0!=K[16].value?'Usted ha marcado el nivel de riesgo asociado a la actividad Econ\xF3mico, debe digitar informaci\xF3n en el campo Actividad Econ\xF3mico. O puede utilizar el icono (<span style=\'color:gray;\' class=\'glyphicon glyphicon-erase\'></span>) de limpiar riesgo.':''==K[17].value&&0!=K[18].value?'Usted ha marcado el nivel de riesgo asociado a la actividad Vida Universitaria, debe digitar informaci\xF3n en el campo Actividad Vida Universitaria. O puede utilizar el icono (<span style=\'color:gray;\' class=\'glyphicon glyphicon-erase\'></span>) de limpiar riesgo.':'success'}function B(){for(var P,L=[],M=document.location.search.substring(1),N=M.split('&'),O=0;O<N.length;O++)P=N[O].split('='),L[P[0]]=P[1];return L}function C(K){y();var L=new Date(a('#'+K+' .date_tracking_peer').text()),M=a('#'+K+' .place_tracking_peer').text(),N=a('#'+K+' .init_time_tracking_peer').text(),O=a('#'+K+' .ending_time_tracking_peer').text(),P=a('#'+K+' .topic_tracking_peer').text(),Q=a('#'+K+' .objectives_tracking_peer').text(),R=a('#'+K+' .individual_tracking_peer').text(),S=a('#'+K+' .ind_risk_tracking_peer').text(),T=a('#'+K+' .familiar_tracking_peer').text(),U=a('#'+K+' .fam_risk_tracking_peer').text(),V=a('#'+K+' .academico_tracking_peer').text(),W=a('#'+K+' .aca_risk_tracking_peer').text(),X=a('#'+K+' .economico_tracking_peer').text(),Y=a('#'+K+' .econ_risk_tracking_peer').text(),Z=a('#'+K+' .lifeu_tracking_peer').text(),_=a('#'+K+' .lifeu_risk_tracking_peer').text(),aa=a('#'+K+' .observations_tracking_peer').text(),ba={};ba.bajo=1,ba.medio=2,ba.alto=3;var ca=L.getFullYear(),da=L.getMonth()+1;ca+=10>L.getMonth()?'-0'+da:'-'+da,ca+=10>L.getDate()?'-0'+L.getDate():'-'+L.getDate();var ea=N.substring(0,2),fa=N.substring(3,5),ga=O.substring(0,2),ha=O.substring(3,5);a('#h_ini option[value="'+ea+'"]').attr('selected',!0),a('#m_ini option[value="'+fa+'"]').attr('selected',!0),a('#h_fin option[value="'+ga+'"]').attr('selected',!0),a('#m_fin option[value="'+ha+'"]').attr('selected',!0);var ia=ba[S.toLowerCase()],ja=ba[U.toLowerCase()],ka=ba[Y.toLowerCase()],la=ba[W.toLowerCase()],ma=ba[_.toLowerCase()];''==S?a('input[name=\'riesgo_ind\'][value=\'0\']').prop('checked',!0):a('input[name=\'riesgo_ind\'][value=\''+ia+'\']').prop('checked',!0),''==U?a('input[name=\'riesgo_familiar\'][value=\'0\']').prop('checked',!0):a('input[name=\'riesgo_familiar\'][value=\''+ja+'\']').prop('checked',!0),''==Y?a('input[name=\'riesgo_econom\'][value=\'0\']').prop('checked',!0):a('input[name=\'riesgo_econom\'][value=\''+ka+'\']').prop('checked',!0),''==W?a('input[name=\'riesgo_aca\'][value=\'0\']').prop('checked',!0):a('input[name=\'riesgo_aca\'][value=\''+la+'\']').prop('checked',!0),''==_?a('input[name=\'riesgo_uni\'][value=\'0\']').prop('checked',!0):a('input[name=\'riesgo_uni\'][value=\''+ma+'\']').prop('checked',!0),a('#date').val(ca),a('#place').val(M),a('#topic_textarea').val(P),a('#objetivos').val(Q),a('#individual').val(R),a('#familiar').val(T),a('#academico').val(V),a('#economico').val(X),a('#vida_uni').val(Z),a('#observaciones').val(aa),a('#id_tracking_peer').val(K);var na=a('#modal_peer_tracking');na.show()}function D(K){a.ajax({type:'POST',data:{func:'delete_tracking_peer',id_tracking:K},url:'../managers/student_profile/studentprofile_serverproc.php',success:function success(L){swal(L.title,L.msg,L.status);var M=B(document.location.search);M.tab?location.reload():location.href=location.search+'&tab=socioed_tab'},dataType:'json',cache:'false',error:function error(L){swal(L.title,L.msg,L.status)}})}function G(K){a.ajax({type:'POST',data:{func:'is_student',code_student:K},url:'../managers/student_profile/studentprofile_serverproc.php',success:function success(L){if('1'==L){var M=B(document.location.search),N=document.location+'',O=N.split('?'),P=O[0]+'?courseid='+M.courseid+'&instanceid='+M.instanceid+'&student_code='+K;location.href=P}else swal('Error','No se encuentra un estudiante asociado al c\xF3digo ingresado','error')},dataType:'text',cache:'false',error:function error(){swal('Error','Error al comunicarse con el servidor, por favor intentelo nuevamente.','error')}})}function H(){for(var K=0;K<Object.keys(datos.informacion).length;K++){var L=[],M,N=[],O=[],P=[];M=datos.informacion[K].dimension;for(var Q=0;'false'==datos.informacion[K].datos[Q].end;)N.push(datos.informacion[K].datos[Q].fecha),O.push(datos.informacion[K].datos[Q].color),P.push(datos.informacion[K].datos[Q].riesgo),++Q;L.push(M),L.push(N),L.push(O),L.push(P),datosGraficables.push(L)}}function I(){H();var K=J(datosGraficables[0],ctx_individual),L=J(datosGraficables[1],ctx_familiar),M=J(datosGraficables[2],ctx_academico),N=J(datosGraficables[3],ctx_economico),O=J(datosGraficables[4],ctx_vida_universitaria)}function J(K,L){return new g(L,{type:'line',data:{labels:K[1],datasets:[{label:'Nivel de riesgo',fill:!1,lineTension:0,pointBackgroundColor:K[2],data:K[3],backgroundColor:'black',borderColor:'black',borderWidth:3,pointRadius:5,pointHoverRadius:7}]},options:{legend:{display:!1},scales:{yAxes:[{ticks:{beginAtZero:!0,stepSize:1,max:3,min:0}}]}}})}return{init:function init(K){a('[data-toggle="tooltip"]').tooltip();var L=B(document.location.search),M=a('.panel-collapse.collapse.in'),N=this;a('#asignados').select2({width:'resolve',height:'resolve',language:{noResults:function noResults(){return'No hay resultado'},searching:function searching(){return'Buscando..'}}}),a('#asignados').on('change',function(){var U=a('#asignados').val(),V=U.split(' ')[0];G(V)});for(var O=0,P=K.length;O<P;O++)a('#select-'+K[O].academic_program_id+' option[value='+K[O].program_status+']').attr('selected',!0),'ACTIVO'==K[O].program_status&&a('#tr-'+K[O].id_moodle_user).addClass('is-active'),'1'==K[O].tracking_status&&a('#div_flags_'+K[O].academic_program_id).prop('checked',!0);var Q='',R=a('#div_cohorts').height();a('#div-icon-edit').height(R),a('div.slider.round').click(function(U){Q=U.target.parentElement.children[0].checked}),a('.input-tracking').on('change',{current_tracking_status:Q},function(){N.update_tracking_status(Q,a(this),K,N)});var S='';switch(a('.select_statuses_program').on('focus',function(U){S=U.target.value}),a('.select_statuses_program').on('change',{current_status:S},function(){N.update_status_program(S,a(this))}),a('#icon-tracking').on('click',function(){N.update_status_ases(L)}),L.tab){case'socioed_tab':a('#general_li').removeClass('active'),a('#socioed_li').addClass('active'),a('#general_tab').removeClass('active'),a('#socioed_tab').addClass('active'),M.removeClass('in'),a('#collapseOne').addClass('in');break;default:M.removeClass('in');}var T=a('#modal_peer_tracking');h(),v(),w(),x(),a('#save').click(function(){l()}),a('#cancel').click(function(){swal({title:'\xBFEstas seguro/a de cancelar?',text:'Los cambios realizados no ser\xE1n tomados en cuenta y se perder\xE1n',type:'warning',showCancelButton:!0,confirmButtonColor:'#d51b23',confirmButtonText:'Si!',cancelButtonText:'No',closeOnConfirm:!0},function(U){U&&j()})}),a('#button_add_track').on('click',function(){a('#save_seg').removeClass('hide'),a('#div_created').addClass('hide'),a('#upd_seg').addClass('hide'),a('#myModalLabel').attr('name','PARES'),T.show(),y()}),a('#save_tracking_btn').on('click',function(){z()}),a('#clean_individual_risk').on('click',function(){a('#no_value_individual').prop('checked',!0)}),a('#clean_familiar_risk').on('click',function(){a('#no_value_familiar').prop('checked',!0)}),a('#clean_academic_risk').on('click',function(){a('#no_value_academic').prop('checked',!0)}),a('#clean_economic_risk').on('click',function(){a('#no_value_economic').prop('checked',!0)}),a('#clean_life_risk').on('click',function(){a('#no_value_life').prop('checked',!0)}),a('.btn-primary.edit_peer_tracking').on('click',function(){var U=a(this).attr('id'),V=U.substring(14);C(V)}),a('.btn-danger.delete_peer_tracking').on('click',function(){var U=a(this).attr('id'),V=U.substring(21);swal({title:'Advertencia',text:'\xBFEst\xE1 seguro(a) que desea borrar este seguimiento?',type:'warning',showCancelButton:!0,confirmButtonText:'Si',cancelButtonText:'No',closeOnConfirm:!1},function(W){W&&D(V)})}),a('#view_graph_radial_button').on('click',function(){N.graph_radial()}),a('#view_graphic_risk_button').click(function(){a('#modal_riesgos').fadeIn(200),I()}),a('#mymodal-riesgo-close').click(function(){a('#modal_riesgos').fadeOut(200)})},equalize:function equalize(){a(document).ready(function(){var K=a('.equalize').map(function(){return a(this).height()}).get(),L=Math.max.apply(null,K);a('.equalize').height(L)})},update_status_program:function update_status_program(K,L){var M=L.attr('id').split('-')[1],N=L.val(),O=L.parent().parent().attr('id').split('-')[1],P={func:'update_status_program',program_id:M,status:N,student_id:O};swal({title:'Advertencia',text:'\xBFEst\xE1 seguro que desea cambiar el estado del programa?',type:'warning',showCancelButton:!0,confirmButtonClass:'btn-danger',confirmButtonText:'Si',cancelButtonText:'No',closeOnConfirm:!1},function(Q){Q?a.ajax({type:'POST',data:P,url:'../managers/student_profile/studentprofile_serverproc.php',success:function success(R){'ACTIVO'==a('#select-'+P.program_id).val()?a('#tr-'+P.student_id).addClass('is-active'):a('#tr-'+P.student_id).removeClass('is-active'),swal(R.title,R.msg,R.status)},dataType:'json',cache:'false',error:function error(R){swal(R.title,R.msg,R.status)}}):a('#select-'+P.program_id).val(K)})},update_status_ases:function update_status_ases(K){var L=a('#input_status_ases').val(),M;switch(L){case'seguimiento':M='sinseguimiento';break;case'sinseguimiento':M='seguimiento';break;case'noasignado':M='seguimiento';break;default:}if('sinseguimiento'==L)swal('Advertencia','No es posible realizar esta acci\xF3n. Al estudiante se le realiza seguimiento desde otra instancia.','warning');else{var N={func:'update_status_ases',current_status:L,new_status:M,instance_id:K.instanceid,code_student:K.student_code};swal({title:'Advertencia',text:'\xBFEst\xE1 seguro que desea cambiar el estado de seguimiento del estudiante en esta instancia? El estado pasar\xE1 de \''+L+'\' a \''+M+'\'',type:'warning',showCancelButton:!0,confirmButtonClass:'btn-danger',confirmButtonText:'Si',cancelButtonText:'No'},function(O){O&&('sinseguimiento'==M?(modal_dropout=a('#modal_dropout'),modal_dropout.show(),a('#save_changes_dropout').on('click',function(){N.id_reason_dropout=a('#reasons_select').val(),N.observation=a('#description_dropout').val(),a.ajax({type:'POST',data:N,url:'../managers/student_profile/studentprofile_serverproc.php',success:function success(P){L=M,a('#input_status_ases').val(M),'seguimiento'==P.previous_status?(a('#icon-tracking').removeClass('i-tracking-t'),a('#icon-tracking').addClass('i-tracking-n'),a('#tip_ases_status').html('Se realiza seguimiento en otra instancia')):'sinseguimiento'==P.previous_status?(a('#icon-tracking').removeClass('i-tracking-f'),a('#icon-tracking').addClass('i-tracking-t'),a('#tip_ases_status').html('Se realiza seguimiento en esta instancia')):''==P.previous_status&&(a('#icon-tracking').removeClass('i-tracking-n'),a('#icon-tracking').addClass('i-tracking-t'),a('#tip_ases_status').html('No se realiza seguimiento')),modal_dropout.hide(),swal(P.title,P.msg,P.status)},dataType:'json',cache:'false',error:function error(P){modal_dropout.hide(),swal(P.title,P.msg,P.status)}})})):'seguimiento'==M&&a.ajax({type:'POST',data:N,url:'../managers/student_profile/studentprofile_serverproc.php',success:function success(P){L=M,a('#input_status_ases').val(M),'seguimiento'==P.previous_status?(a('#icon-tracking').removeClass('i-tracking-t'),a('#icon-tracking').addClass('i-tracking-n'),a('#tip_ases_status').html('Se realiza seguimiento en otra instancia')):'sinseguimiento'==P.previous_status?(a('#icon-tracking').removeClass('i-tracking-f'),a('#icon-tracking').addClass('i-tracking-t'),a('#tip_ases_status').html('Se realiza seguimiento en esta instancia')):''==P.previous_status&&(a('#icon-tracking').removeClass('i-tracking-n'),a('#icon-tracking').addClass('i-tracking-t'),a('#tip_ases_status').html('Se realiza seguimiento en esta instancia'))},dataType:'json',cache:'false',error:function error(P){console.log(P)}}).then(function(P){swal(P.title,P.msg,P.status)}))})}},update_tracking_status:function update_tracking_status(K,L,M,N){has_tracking_status=!1,!1==K?(has_tracking_status=N.validate_tracking_statuses(M),has_tracking_status.tracking_status&&swal({title:'\xBFEst\xE1 seguro/a de cambiar el estado?',text:'Texto a cambiar',type:'warning',showCancelButton:!0,confirmButtonColor:'#d51b23',confirmButtonText:'Si',cancelButtonText:'No',closeOnConfirm:!0,allowEscapeKey:!1},function(O){O?(L.prop('checked',!0),a('#div_flags_'+has_tracking_status.academic_program_id).prop('checked',!1)):K?L.prop('checked',!0):L.prop('checked',!1)})):L.prop('checked',!0)},validate_tracking_statuses:function validate_tracking_statuses(K){for(has_tracking_status=!1,i=0;i<K.length;i++)if(1==K[i].tracking_status){has_tracking_status=!0;break}return K[i]},get_url_parameters:function get_url_parameters(){for(var P,L=[],M=document.location.search.substring(1),N=M.split('&'),O=0;O<N.length;O++)P=N[O].split('='),L[P[0]]=P[1];return L},graph_radial:function graph_radial(){var K=document.getElementById('canvas_radial_graph').getContext('2d'),L,M,N,O,P;L=0==a('#individual_risk').attr('data-risk-level')?4:a('#individual_risk').attr('data-risk-level'),M=0==a('#familiar_risk').attr('data-risk-level')?4:a('#familiar_risk').attr('data-risk-level'),N=0==a('#academic_risk').attr('data-risk-level')?4:a('#academic_risk').attr('data-risk-level'),O=0==a('#economic_risk').attr('data-risk-level')?4:a('#economic_risk').attr('data-risk-level'),P=0==a('#life_risk').attr('data-risk-level')?4:a('#life_risk').attr('data-risk-level'),a('#modal_radial_graph').fadeIn(200);var Q={labels:['Individual','Familiar','Acad\xE9mico','Econ\xF3mico','Vida universitaria'],datasets:[{data:[4-L,4-M,4-N,4-O,4-P],backgroundColor:'rgba(255, 99, 132, 0.4)',borderColor:['rgba(255,99,132,1)'],borderWidth:2,fontsize:12}]},S=new g(K,{type:'radar',data:Q,options:{scale:{ticks:{beginAtZero:!0,min:0,max:3,stepSize:1,display:!1},pointLabels:{fontSize:12},scaleLabel:{fontsize:10}},legend:{display:!1}}})}}});