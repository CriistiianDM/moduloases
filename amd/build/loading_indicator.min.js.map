{"version":3,"sources":["../src/loading_indicator.js"],"names":["define","$","append","css","loading_instances","console","log","show_loading_indicator","show","hide_loading_indicator","hide"],"mappings":"AAWCA,OAAM,gCACF,CACI,QADJ,CAEI,uBAFJ,CAGI,qBAHJ,CADE,CAME,SAASC,CAAT,CAAmC,CAqChCA,CAAC,CAAC,MAAD,CAAD,CAAUC,MAAV,CAAkB,UApBR,sqBAoBQ,CAAoB,UAAtC,EACAD,CAAC,CAAC,MAAD,CAAD,CAAUC,MAAV,mXACAD,CAAC,CAAC,oBAAD,CAAD,CAAwBE,GAAxB,CAA4B,SAA5B,CAAuC,IAAvC,EAEA,GAAIC,CAAAA,CAAiB,CAAG,CAAxB,CAEAC,OAAO,CAACC,GAAR,CAAa,+BAAb,EA3CgC,GA6C5BC,CAAAA,CAAsB,CAAI,UAAU,CACpCH,CAAiB,GACjBH,CAAC,CAAC,oBAAD,CAAD,CAAwBO,IAAxB,EACH,CAhD+B,CAkD5BC,CAAsB,CAAG,UAAU,CACnCL,CAAiB,GACjB,GAAyB,CAArB,EAAAA,CAAJ,CAA4B,CACxBH,CAAC,CAAC,oBAAD,CAAD,CAAwBS,IAAxB,EACH,CACJ,CAvD+B,CAyDhC,MAAO,CACHF,IAAI,CAACD,CADF,CAEHG,IAAI,CAACD,CAFF,CAIV,CAnEF,CAAN","sourcesContent":["// Standard license block omitted.\r\n/*\r\n * @package    block_ases\r\n * @copyright  ASES\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n \r\n /**\r\n  * @module block_ases/loading_indicator\r\n  */\r\n\r\n define(\r\n     [\r\n         'jquery', \r\n         'block_ases/sweetalert', \r\n         'block_ases/jqueryui'\r\n        ], \r\n         function($, sweetalert, jqueryui ) {\r\n    \r\n            var div = '\\\r\n            <div \\\r\n                class=\"loading_indicator\"\\\r\n                style=\"\\\r\n                    position: fixed;\\\r\n                    bottom: 20px;\\\r\n                    right: 20px;\\\r\n                    z-index: 9999;\\\r\n                    width: 70px;\\\r\n                    height: 70px;\\\r\n                    display:none;\\\r\n                \">\\\r\n            </div>\\\r\n            ';\r\n\r\n            var style='\\\r\n              .loading_indicator {\\\r\n                border: 16px solid #bdbdbd;\\\r\n                border-radius: 50%;\\\r\n                border-top: 16px solid red;\\\r\n                width: 100px;\\\r\n                height: 100px;\\\r\n                -webkit-animation: spin 2s linear infinite; /* Safari */\\\r\n                animation: spin 2s linear infinite;\\\r\n              }\\\r\n              @-webkit-keyframes spin {\\\r\n                0% { -webkit-transform: rotate(0deg); }\\\r\n                100% { -webkit-transform: rotate(360deg); }\\\r\n              }\\\r\n              @keyframes spin {\\\r\n                0% { transform: rotate(0deg); }\\\r\n                100% { transform: rotate(360deg); }\\\r\n              }\\\r\n            ';\r\n\r\n            $(\"head\").append( \"<style>\" + style + \"</style>\" );\r\n            $(\"body\").append( div );\r\n            $(\".loading_indicator\").css('z-index', 9999);\r\n\r\n            var loading_instances = 0;\r\n\r\n            console.log( \"Loading indicator initialised\" );\r\n\r\n            var show_loading_indicator =  function(){\r\n                loading_instances++;\r\n                $(\".loading_indicator\").show();\r\n            }\r\n\r\n            var hide_loading_indicator = function(){\r\n                loading_instances--;\r\n                if( loading_instances == 0 ){\r\n                    $(\".loading_indicator\").hide();\r\n                }\r\n            }\r\n\r\n            return {\r\n                show:show_loading_indicator, \r\n                hide:hide_loading_indicator\r\n            }\r\n        }\r\n);"],"file":"loading_indicator.min.js"}