{"version":3,"sources":["../src/icetex_reports_main.js"],"names":["define","$","jszip","init","window","JSZip","on","check_value","is","load_report_students_resolution","document","table","DataTable","colIndex","cell","index","column","each","reset","open","location","search","row","data","jQuery","fn","dataTable","Api","register","result","flatten","reduce","a","b","replace","parseInt","toString","load_resolutions","cohort","val","swal","load_summary_report","parent","columns","value","draw","check_val","html","ajax","type","loadR","url","success","msg","empty","fadeIn","append","css","dataType","cache","error","compute_resolutions_total_amount","total_current_page","page","sum","total_all_pages","total_stud_amount_page","footer","resR","cohort_name","summ","cohor","total_inact_no_res","total_act_res","total_inact_res","total_act_no_res"],"mappings":"AAQAA,OAAM,kCAAC,CAAC,QAAD,CACC,kBADD,CAEC,oBAFD,CAGC,8BAHD,CAIC,gCAJD,CAKC,+BALD,CAMC,0BAND,CAOC,0BAPD,CAQC,0BARD,CASC,sBATD,CAUC,uBAVD,CAAD,CAYE,SAASC,CAAT,CAAYC,CAAZ,CAAuG,CAE9G,MAAO,CAENC,IAAI,CAAE,eAAW,CAEhBC,MAAM,CAACC,KAAP,CAAeH,CAAf,CAEAD,CAAC,CAAC,iBAAD,CAAD,CAAqBK,EAArB,CAAwB,OAAxB,CAAiC,UAAU,CAC1C,GAAIC,CAAAA,CAAW,CAAGN,CAAC,CAAC,eAAD,CAAD,CAAmBO,EAAnB,CAAsB,UAAtB,CAAlB,CACAC,CAA+B,CAACF,CAAD,CAC/B,CAHD,EAKAN,CAAC,CAACS,QAAD,CAAD,CAAYJ,EAAZ,CAAe,OAAf,CAAwB,+BAAxB,CAAyD,UAAY,IAEhEK,CAAAA,CAAK,CAAGV,CAAC,CAAC,mBAAD,CAAD,CAAuBW,SAAvB,EAFwD,CAGhEC,CAAQ,CAAGF,CAAK,CAACG,IAAN,CAAW,IAAX,EAAiBC,KAAjB,GAAyBC,MAH4B,CAKpE,GAAgB,CAAZ,EAAAH,CAAQ,EAAqB,CAAZ,EAAAA,CAArB,CAAoC,CACnCZ,CAAC,CAAC,aAAD,CAAD,CAAiBgB,IAAjB,CAAsB,UAAY,CACjC,KAAKC,KACL,CAFD,EAGAd,MAAM,CAACe,IAAP,CAAY,sBAASC,QAAQ,CAACC,MAAlB,CAA2B,gBAA3B,CAA8CV,CAAK,CAACG,IAAN,CAAWH,CAAK,CAACW,GAAN,CAAU,IAAV,EAAgBP,KAAhB,EAAX,CAAoC,CAApC,EAAuCQ,IAAvC,EAA1D,CAAyG,QAAzG,CACA,CACD,CAXD,EAaAC,MAAM,CAACC,EAAP,CAAUC,SAAV,CAAoBC,GAApB,CAAwBC,QAAxB,CAAkC,OAAlC,CAA2C,UAAa,CACvD,GAAIC,CAAAA,CAAM,CAAG,CAAb,CACA,MAAO,MAAKC,OAAL,GAAeC,MAAf,CAAuB,SAAWC,CAAX,CAAcC,CAAd,CAAkB,CAC/C,GAAkB,QAAb,QAAOD,CAAAA,CAAZ,CAA6B,CAC5BA,CAAC,CAA6B,CAA1B,CAAAA,CAAC,CAACE,OAAF,CAAU,QAAV,CAAoB,EAApB,CACJ,CACD,GAAkB,QAAb,QAAOD,CAAAA,CAAZ,CAA6B,CAC5BA,CAAC,CAA6B,CAA1B,CAAAA,CAAC,CAACC,OAAF,CAAU,QAAV,CAAoB,EAApB,CACJ,CAEDL,CAAM,CAAGM,QAAQ,CAACH,CAAD,CAAI,EAAJ,CAAR,CAAkBG,QAAQ,CAACF,CAAD,CAAI,EAAJ,CAAnC,CACA,MAAOJ,CAAAA,CAAM,CAACO,QAAP,GAAkBF,OAAlB,CAA0B,uBAA1B,CAAmD,GAAnD,CACP,CAVM,CAUJ,CAVI,CAWP,CAbD,EAeAjC,CAAC,CAAC,yBAAD,CAAD,CAA6BK,EAA7B,CAAgC,OAAhC,CAAyC,UAAU,CAClD+B,CAAgB,EAChB,CAFD,EAIApC,CAAC,CAAC,gBAAD,CAAD,CAAoBK,EAApB,CAAuB,OAAvB,CAAgC,UAAW,CAC1C,GAAIgC,CAAAA,CAAM,CAAGrC,CAAC,CAAC,uBAAD,CAAD,CAA2BsC,GAA3B,EAAb,CACA,GAAa,EAAV,EAAAD,CAAH,CAAgB,CACfE,IAAI,CAAC,gBAAD,CAAgB,kCAAhB,CAAiD,MAAjD,CACJ,CAFD,IAGI,CACHC,CAAmB,CAACH,CAAD,CACnB,CACD,CARD,EAWArC,CAAC,CAACS,QAAD,CAAD,CAAYJ,EAAZ,CAAe,QAAf,CAAyB,sCAAzB,CAAiE,UAAY,IACxEK,CAAAA,CAAK,CAAGV,CAAC,CAAC,mBAAD,CAAD,CAAuBW,SAAvB,EADgE,CAGxEC,CAAQ,CAAGZ,CAAC,CAAC,IAAD,CAAD,CAAQyC,MAAR,GAAiB3B,KAAjB,GAAyB,CAHoC,CAI5EJ,CAAK,CAACgC,OAAN,CAAe9B,CAAQ,CAAC,CAAxB,EAA4BQ,MAA5B,CAAoC,KAAKuB,KAAzC,EAAiDC,IAAjD,EACA,CALD,EAQA5C,CAAC,CAACS,QAAD,CAAD,CAAYJ,EAAZ,CAAe,QAAf,CAAyB,sCAAzB,CAAiE,UAAY,IACxEK,CAAAA,CAAK,CAAGV,CAAC,CAAC,mBAAD,CAAD,CAAuBW,SAAvB,EADgE,CAGxEC,CAAQ,CAAGZ,CAAC,CAAC,IAAD,CAAD,CAAQyC,MAAR,GAAiB3B,KAAjB,GAAyB,CAHoC,CAI5EJ,CAAK,CAACgC,OAAN,CAAe9B,CAAQ,CAAC,CAAxB,EAA4BQ,MAA5B,CAAoC,KAAKuB,KAAzC,EAAiDC,IAAjD,EACA,CALD,EAYF,QAASpC,CAAAA,CAAT,CAAyCqC,CAAzC,CAAmD,CAClD7C,CAAC,CAAC,mBAAD,CAAD,CAAuB8C,IAAvB,CAA4B,2DAA5B,EACA9C,CAAC,CAAC+C,IAAF,CAAO,CACNC,IAAI,CAAE,MADA,CAEN1B,IAAI,CAAE,CAAC2B,KAAK,CAAE,YAAR,CAAsBN,KAAK,CAAEE,CAA7B,CAFA,CAGNK,GAAG,CAAE,mEAHC,CAINC,OAAO,CAAE,iBAASC,CAAT,CAAa,CACrBpD,CAAC,CAAC,mBAAD,CAAD,CAAuBqD,KAAvB,GACArD,CAAC,CAAC,mBAAD,CAAD,CAAuBsD,MAAvB,CAA8B,GAA9B,EAAoCC,MAApC,CAA2C,yGAA3C,EACYvD,CAAC,CAAC,mBAAD,CAAD,CAAuBW,SAAvB,CAAiCyC,CAAjC,CAHS,CAIrBpD,CAAC,CAAC,mBAAD,CAAD,CAAuBwD,GAAvB,CAA2B,QAA3B,CAAqC,SAArC,CAEA,CAVK,CAWNC,QAAQ,CAAE,MAXJ,CAYNC,KAAK,GAZC,CAaNC,KAAK,CAAE,gBAAa,CACnBpB,IAAI,CAAC,OAAD,CAAU,4BAAV,CAAwC,OAAxC,CACJ,CAfK,CAAP,CAiBA,CAOD,QAASqB,CAAAA,CAAT,CAA0ClD,CAA1C,CAAiD,IAC5CmD,CAAAA,CAAkB,CAAGnD,CAAK,CAACK,MAAN,CAAc,CAAd,CAAiB,CAAE+C,IAAI,CAAC,SAAP,CAAjB,EAAsCxC,IAAtC,GAA6CyC,GAA7C,EADuB,CAE5CC,CAAe,CAAGtD,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBO,IAAlB,GAAyByC,GAAzB,EAF0B,CAI5CE,CAAsB,CAAGvD,CAAK,CAACK,MAAN,CAAc,CAAd,CAAiB,CAAE+C,IAAI,CAAC,SAAP,CAAjB,EAAsCxC,IAAtC,GAA6CyC,GAA7C,EAJmB,CAMhD/D,CAAC,CAAEU,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBmD,MAAlB,EAAF,CAAD,CAAgCpB,IAAhC,CACC,IAAIe,CAAJ,CAAyB,UAAzB,CAAsCG,CAAtC,CAAwD,GADzD,EAIAhE,CAAC,CAAEU,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBmD,MAAlB,EAAF,CAAD,CAAgCpB,IAAhC,CACC,IAAImB,CADL,CAGA,CAOD,QAAS7B,CAAAA,CAAT,EAA2B,CAC1BpC,CAAC,CAAC,kBAAD,CAAD,CAAsB8C,IAAtB,CAA2B,2DAA3B,EACA9C,CAAC,CAAC+C,IAAF,CAAO,CACNC,IAAI,CAAE,MADA,CAEN1B,IAAI,CAAE,CAAC6C,IAAI,CAAE,WAAP,CAFA,CAGNjB,GAAG,CAAE,uEAHC,CAINC,OAAO,CAAE,iBAASC,CAAT,CAAa,CACrBpD,CAAC,CAAC,kBAAD,CAAD,CAAsBqD,KAAtB,GACArD,CAAC,CAAC,kBAAD,CAAD,CAAsBsD,MAAtB,CAA6B,GAA7B,EAAmCC,MAAnC,CAA0C,8MAA1C,EACA,GAAI7C,CAAAA,CAAK,CAAGV,CAAC,CAAC,mBAAD,CAAD,CAAuBW,SAAvB,CAAiCyC,CAAjC,CAAZ,CAEApD,CAAC,CAAC,mBAAD,CAAD,CAAuBK,EAAvB,CAA2B,SAA3B,CAAsC,UAAY,CACjDuD,CAAgC,CAAClD,CAAD,CAChC,CAFD,EAIAV,CAAC,CAAC,mBAAD,CAAD,CAAuBK,EAAvB,CAA0B,SAA1B,CAAqC,UAAY,CAChDuD,CAAgC,CAAClD,CAAD,CAChC,CAFD,EAIAkD,CAAgC,CAAClD,CAAD,CAAhC,CACAV,CAAC,CAAC,kBAAD,CAAD,CAAsBwD,GAAtB,CAA0B,QAA1B,CAAoC,SAApC,CAEA,CApBK,CAqBNC,QAAQ,CAAE,MArBJ,CAsBNC,KAAK,GAtBC,CAuBNC,KAAK,CAAE,gBAAa,CACnBpB,IAAI,CAAC,OAAD,CAAU,4BAAV,CAAwC,OAAxC,CACJ,CAzBK,CAAP,CA4BA,CAED,QAASC,CAAAA,CAAT,CAA6B4B,CAA7B,CAAyC,CACxCpE,CAAC,CAAC,qBAAD,CAAD,CAAyB8C,IAAzB,CAA8B,2DAA9B,EACA9C,CAAC,CAAC+C,IAAF,CAAO,CACNC,IAAI,CAAE,MADA,CAEN1B,IAAI,CAAE,CAAC+C,IAAI,CAAE,UAAP,CAAmBC,KAAK,CAAEF,CAA1B,CAFA,CAGNlB,GAAG,CAAE,mEAHC,CAINC,OAAO,CAAE,iBAASC,CAAT,CAAa,CACrBpD,CAAC,CAAC,qBAAD,CAAD,CAAyBqD,KAAzB,GACArD,CAAC,CAAC,qBAAD,CAAD,CAAyBsD,MAAzB,CAAgC,GAAhC,EAAsCC,MAAtC,CAA6C,+OAA7C,EAFqB,GAGjB7C,CAAAA,CAAK,CAAGV,CAAC,CAAC,eAAD,CAAD,CAAmBW,SAAnB,CAA6ByC,CAA7B,CAHS,CAIjBmB,CAAkB,CAAG7D,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBO,IAAlB,GAAyByC,GAAzB,EAJJ,CAKjBS,CAAa,CAAG9D,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBO,IAAlB,GAAyByC,GAAzB,EALC,CAMjBU,CAAe,CAAG/D,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBO,IAAlB,GAAyByC,GAAzB,EAND,CAOjBW,CAAgB,CAAGhE,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBO,IAAlB,GAAyByC,GAAzB,EAPF,CASrB/D,CAAC,CAAEU,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBmD,MAAlB,EAAF,CAAD,CAAgCpB,IAAhC,CACC,IAAI0B,CADL,EAIAxE,CAAC,CAAEU,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBmD,MAAlB,EAAF,CAAD,CAAgCpB,IAAhC,CACC,IAAI2B,CADL,EAIAzE,CAAC,CAAEU,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBmD,MAAlB,EAAF,CAAD,CAAgCpB,IAAhC,CACC,IAAI4B,CADL,EAIA1E,CAAC,CAAEU,CAAK,CAACK,MAAN,CAAc,CAAd,EAAkBmD,MAAlB,EAAF,CAAD,CAAgCpB,IAAhC,CACC,IAAIyB,CADL,EAIAvE,CAAC,CAAC,qBAAD,CAAD,CAAyBwD,GAAzB,CAA6B,QAA7B,CAAuC,SAAvC,CACA,CA9BK,CA+BNC,QAAQ,CAAE,MA/BJ,CAgCNC,KAAK,GAhCC,CAiCNC,KAAK,CAAE,gBAAa,CACnBpB,IAAI,CAAC,OAAD,CAAU,4BAAV,CAAwC,OAAxC,CACJ,CAnCK,CAAP,CAwCA,CAED,CApMO,CAwMP,CAtNK,CAAN","sourcesContent":[" /**\r\n * Management - View reports\r\n * @module amd/src/icetex_reports_main\r\n * @author Juan Pablo Moreno Muñoz\r\n * @copyright 2018 Juan Pablo Moreno Muñoz <moreno.juan@correounivalle.edu.co>\r\n * @license  http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n\r\ndefine(['jquery',\r\n        'block_ases/jszip',\r\n        'block_ases/pdfmake',\r\n        'block_ases/jquery.dataTables',\r\n        'block_ases/dataTables.autoFill',\r\n        'block_ases/dataTables.buttons',\r\n        'block_ases/buttons.html5',\r\n        'block_ases/buttons.flash',\r\n        'block_ases/buttons.print',\r\n        'block_ases/bootstrap',\r\n        'block_ases/sweetalert'\r\n        ],\r\n        function($, jszip, pdfmake, dataTables, autoFill, buttons, html5, flash, print, bootstrap, sweetalert) {\r\n\r\n\treturn {\r\n\r\n\t\tinit: function() {\r\n\t\t\t\r\n\t\t\twindow.JSZip = jszip;\r\n\r\n\t\t\t$(\"#stu_res_button\").on('click', function(){\r\n\t\t\t\tvar check_value = $(\"#check_no_res\").is(':checked');\r\n\t\t\t\tload_report_students_resolution(check_value);\r\n\t\t\t});\r\n\r\n\t\t\t$(document).on('click', '#tableResStudents tbody tr td', function () {\r\n\t\t\t\tvar pagina = \"student_profile.php\";\r\n\t\t\t\tvar table = $(\"#tableResStudents\").DataTable();\r\n\t\t\t\tvar colIndex = table.cell(this).index().column;\r\n\r\n\t\t\t\tif (colIndex >= 1 && colIndex <= 4) {\r\n\t\t\t\t\t$(\"#formulario\").each(function () {\r\n\t\t\t\t\t\tthis.reset;\r\n\t\t\t\t\t});\r\n\t\t\t\t\twindow.open(pagina + location.search + \"&student_code=\" + table.cell(table.row(this).index(), 1).data(), '_blank');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tjQuery.fn.dataTable.Api.register( 'sum()', function ( ) {\r\n\t\t\t\tvar result = 0;\r\n\t\t\t\treturn this.flatten().reduce( function ( a, b ) {\r\n\t\t\t\t\tif ( typeof a === 'string' ) {\r\n\t\t\t\t\t\ta = a.replace(/[\\$.]/g, '') * 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( typeof b === 'string' ) {\r\n\t\t\t\t\t\tb = b.replace(/[\\$.]/g, '') * 1;\r\n\t\t\t\t\t}\r\n\t\t\t \r\n\t\t\t\t\tresult = parseInt(a, 10) + parseInt(b, 10);\r\n\t\t\t\t\treturn result.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \".\");\r\n\t\t\t\t}, 0 );\r\n\t\t\t} );\r\n\r\n\t\t\t$(\"#list-resolutions-panel\").on('click', function(){\r\n\t\t\t\tload_resolutions();\t\t\t\t\t\t\t\t\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#report_button\").on('click', function() {\r\n\t\t\t\tvar cohort = $(\"#cohort_select select\").val();\r\n\t\t\t\tif(cohort == \"\"){\r\n\t\t\t\t\tswal(\"Información\", \"Seleccione una cohorte válida\", \"info\");\r\n\t\t\t\t}\r\n\t\t\t\telse{\t\t\t\t\t\r\n\t\t\t\t\tload_summary_report(cohort);\r\n\t\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\t});\r\n\r\n\t\t\t//Controles para la tabla de los estudianes con resolución\r\n\t\t\t$(document).on('change', '#tableResStudents thead tr th select', function () {\r\n\t\t\t\tvar table = $(\"#tableResStudents\").DataTable();\r\n\t\t\r\n\t\t\t\tvar colIndex = $(this).parent().index()+1;\r\n\t\t\t\ttable.columns( colIndex-1 ).search( this.value ).draw();\t\t\r\n\t\t\t});\r\n\r\n\t\t\t//Controles para la tabla de resoluciones\r\n\t\t\t$(document).on('change', '#tableResolutions thead tr th select', function () {\r\n\t\t\t\tvar table = $(\"#tableResolutions\").DataTable();\r\n\t\t\r\n\t\t\t\tvar colIndex = $(this).parent().index()+1;\r\n\t\t\t\ttable.columns( colIndex-1 ).search( this.value ).draw();\r\n\t\t\t});\r\n\r\n\t/**\r\n\t * @method load_report_students_resolution\r\n\t * @desc Loads the report of a student with resolution on a table. Current processing on icetex_reports_processing.php\r\n\t * @return {void}\r\n\t */\r\n\tfunction load_report_students_resolution(check_val){\r\n\t\t$(\"#div_res_students\").html('<img class=\"icon-loading\" src=\"../icon/loading.gif\"/>');\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\tdata: {loadR: 'loadReport', value: check_val},\r\n\t\t\turl: \"../managers/historic_icetex_reports/icetex_reports_processing.php\",\r\n\t\t\tsuccess: function(msg){\r\n\t\t\t\t$(\"#div_res_students\").empty();\r\n\t\t\t\t$(\"#div_res_students\").fadeIn(1000).append('<table id=\"tableResStudents\" class=\"display\" cellspacing=\"0\" width=\"80%\"><thead><thead></table>');\r\n\t\t\t\tvar table = $(\"#tableResStudents\").DataTable(msg);\r\n\t\t\t\t$('#tableResStudents').css('cursor', 'pointer');\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tdataType: \"json\",\r\n\t\t\tcache: false,\r\n\t\t\terror: function(msg){\r\n\t\t\t\tswal(\"Error\", \"Error al cargar el reporte\", \"error\");\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * @method compute_resolutions_total_amount\r\n\t * @desc Computes the sum of the current page and all pages for every value in columns three and five of the given table.\r\n\t * @return {void}\r\n\t */\r\n\tfunction compute_resolutions_total_amount(table) {\r\n\t\tvar total_current_page = table.column( 3, { page:'current' } ).data().sum();\r\n\t\tvar total_all_pages = table.column( 3 ).data().sum();\r\n\r\n\t\tvar total_stud_amount_page = table.column( 5, { page:'current' } ).data().sum();\r\n\r\n\t\t$( table.column( 3 ).footer() ).html(\r\n\t\t\t'$'+total_current_page + '(Total $' + total_all_pages + ')'\r\n\t\t);\r\n\r\n\t\t$( table.column( 5 ).footer() ).html(\r\n\t\t\t'$'+total_stud_amount_page\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * @method load_resolutions\r\n\t * @desc Loads the report of all resolutions on a table. Current processing on resolution_reports_processing.php\r\n\t * @return {void}\r\n\t */\r\n\tfunction load_resolutions(){\r\n\t\t$(\"#div_resolutions\").html('<img class=\"icon-loading\" src=\"../icon/loading.gif\"/>');\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\tdata: {resR: 'resReport'},\r\n\t\t\turl: \"../managers/historic_icetex_reports/resolution_reports_processing.php\",\r\n\t\t\tsuccess: function(msg){\r\n\t\t\t\t$(\"#div_resolutions\").empty();\r\n\t\t\t\t$(\"#div_resolutions\").fadeIn(1000).append('<table id=\"tableResolutions\" class=\"display\" cellspacing=\"0\" width=\"100%\"><thead><thead><tfoot id=\"table_res_foot\"><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tfoot></table>');\r\n\t\t\t\tvar table = $(\"#tableResolutions\").DataTable(msg);\r\n\t\t\t\t\r\n\t\t\t\t$(\"#tableResolutions\").on( 'page.dt', function () {\r\n\t\t\t\t\tcompute_resolutions_total_amount(table);\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(\"#tableResolutions\").on('draw.dt', function () {\r\n\t\t\t\t\tcompute_resolutions_total_amount(table);\t\t\t\t\t\r\n\t\t\t\t});\r\n\r\n\t\t\t\tcompute_resolutions_total_amount(table);\r\n\t\t\t\t$('#div_resolutions').css('cursor', 'pointer');\r\n\r\n\t\t\t},\r\n\t\t\tdataType: \"json\",\r\n\t\t\tcache: false,\r\n\t\t\terror: function(msg){\r\n\t\t\t\tswal(\"Error\", \"Error al cargar el reporte\", \"error\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tfunction load_summary_report(cohort_name){\r\n\t\t$(\"#div_report_summary\").html('<img class=\"icon-loading\" src=\"../icon/loading.gif\"/>');\r\n\t\t$.ajax({\r\n\t\t\ttype: \"POST\",\r\n\t\t\tdata: {summ: 'summaryR', cohor: cohort_name},\r\n\t\t\turl: \"../managers/historic_icetex_reports/summary_report_processing.php\",\r\n\t\t\tsuccess: function(msg){\r\n\t\t\t\t$(\"#div_report_summary\").empty();\r\n\t\t\t\t$(\"#div_report_summary\").fadeIn(1000).append('<table id=\"tableSummary\" class=\"display\" cellspacing=\"0\" width=\"100%\"><thead><thead><tfoot id=\"table_summ_foot\"><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tfoot></table>');\r\n\t\t\t\tvar table = $(\"#tableSummary\").DataTable(msg);\r\n\t\t\t\tvar total_inact_no_res = table.column( 9 ).data().sum();\r\n\t\t\t\tvar total_act_res = table.column( 3 ).data().sum();\r\n\t\t\t\tvar total_inact_res = table.column( 5 ).data().sum();\r\n\t\t\t\tvar total_act_no_res = table.column( 7 ).data().sum();\r\n\r\n\t\t\t\t$( table.column( 3 ).footer() ).html(\r\n\t\t\t\t\t'$'+total_act_res\r\n\t\t\t\t);\r\n\r\n\t\t\t\t$( table.column( 5 ).footer() ).html(\r\n\t\t\t\t\t'$'+total_inact_res\r\n\t\t\t\t);\r\n\r\n\t\t\t\t$( table.column( 7 ).footer() ).html(\r\n\t\t\t\t\t'$'+total_act_no_res\r\n\t\t\t\t);\r\n\r\n\t\t\t\t$( table.column( 9 ).footer() ).html(\r\n\t\t\t\t\t'$'+total_inact_no_res\r\n\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\t$('#div_report_summary').css('cursor', 'pointer');\t\t\t\r\n\t\t\t},\r\n\t\t\tdataType: \"json\",\r\n\t\t\tcache: false,\r\n\t\t\terror: function(msg){\r\n\t\t\t\tswal(\"Error\", \"Error al cargar el reporte\", \"error\");\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n}\r\n\r\n};\r\n\r\n});"],"file":"icetex_reports_main.min.js"}