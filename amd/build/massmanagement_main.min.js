define(["jquery","block_ases/bootstrap","block_ases/sweetalert","block_ases/mustache"],function(e,a,n,r){return{init:function(){function a(a){switch(e("#informacion").empty(),a){case"monitor_estud":e("#informacion").append('<div class="alert alert-info"><h4 align="center">Información Asignacion</h4><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username_monitor</li><li>username_estudiante</li> </ul> </p></div>');break;case"roles_usuario":e("#informacion").append('<div class="alert alert-info"><h4 align="center">Información Roles</h4><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username</li><li>rol(administrativo, reportes,profesional_ps, monitor_ps,  estudiante_t ó practicante_psp)</li> </ul> </p><p>Columnas extras aceptadas: <ul> <li>jefe</li>  </ul> </p></div>');break;case"status":e("#informacion").append('<div class="alert alert-info"><h4 align="center">Información estados</h4><strong>Para tener en cuenta...</strong> <br><p>Columnas obligatorias:<ul> <li>username</li> <li>estado_ases</li> <li>estado_icetex</li> <li>estado_programa</li><li>tracking_status</li> <li>motivo_ases(puede ir en blanco)</li> <li>motivo_icetex(puede ir en blanco)</li> </ul> </p></div>');break;case"monitor_data":e.ajax({url:"../templates/mass_management/"+a+"_div.mustache",data:null,dataType:"text",success:function(a){let n=e(r.render(a,{}));console.log(n),e("#informacion").append(n)},error:function(){console.error(`../templates/mass_management/${a}_div.mustache cannot be reached.`)}})}}a(e("#selector").val()),e("#selector").on("change",function(){a(e("#selector").val())}),e("#boton_subir").on("click",function(){e("#informacion").empty(),function(){var n=function(e){for(var a=[],n=document.location.search.substring(1).split("&"),r=0;r<n.length;r++){var o=n[r].split("=");a[o[0]]=o[1]}return a}(document.location.search),r=new FormData;if(r.append("idinstancia",n.instanceid),null==e("#archivo")[0].files[0]){swal({title:"Archivo no registrado.",text:"Seleccione el archivo a subir",html:!0,type:"error",confirmButtonColor:"#d51b23"});var o=e("#selector").val();return void a(o)}r.append("file",e("#archivo")[0].files[0]);var t="";switch(e("#selector").val()){case"monitor_estud":t="mrm_monitor_estud.php";break;case"roles_usuario":t="mrm_roles.php";break;case"status":t="mrm_status.php";break;case"monitor_data":t="mrm_monitor_data.php";break;default:return 0}r.append("function",t),e.ajax({url:"../managers/mass_management/"+t,data:r,type:"POST",method:"POST",cache:!1,contentType:!1,processData:!1,beforeSend:function(){e("#response").html("<img src='../icon/facebook.gif' />")},success:function(a){msj=JSON.parse(a),e("#response").empty(),e("#informacion").empty(),msj.success?e("#informacion").append('<div class="alert alert-success"><h4 align="center">Información</h4><strong>Exito!</strong> <br><p>'+msj.success+"</p></div>"):msj.warning?e("#informacion").append('<div class="alert alert-warning"><h4 align="center">Información</h4><strong>Cargado con inconsitencias!</strong> <br>'+msj.warning+"</div>"):msj.error&&e("#informacion").append('<div class="alert alert-danger"><h4 align="center">Información</h4><strong>Error!</strong> <br>'+msj.error+"</div>"),e("#informacion").append(msj.urlzip)},error:function(n){swal("Error","Error con el servidor, por favor inténtelo nuevamente","error"),console.log(n),e("#response").html("");var r=e("#selector").val();a(r)}})}()})}}});