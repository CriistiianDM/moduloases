{"version":3,"sources":["../src/monitorias_academicas_detalle.js"],"names":["define","$","dataTables","buttons","html5","flash","print","gmm","select2","jqueryui","loading_indicator","sweetalert","extras","construir_tabla","data","html","fadeIn","append","DataTable","monitoria_id","URLSearchParams","window","location","search","get","init","datepicker","setDefaults","closeText","prevText","nextText","currentText","monthNames","monthNamesShort","dayNames","dayNamesShort","dayNamesMin","weekHeader","firstDay","isRTL","showMonthAfterYear","yearSuffix","showWeek","dateFormat","Date","click","toggleClass","toggle","submit","consultar_sesiones_por_fecha","mostrar_modificar_monitoria","mostrar_programar_sesiones","init_despues_de_tabla","e","fecha","target","parent","find","innerHTML","swal","title","text","type","showCancelButton","confirmButtonText","isConfirmed","ajax","JSON","stringify","id","url","dataType","success","error","msg","console","log","show","datosTabla","when","responseText","done","generate_modal","data_response","show_modal","hide","async","template","listar_materias_select","listar_monitores_select","attach_listeners_botones","required","hora","split","val","parseInt","change","materias","map","a","nombre","renderizar_opcion","agregar_materia_a_select","markup","on","real_event","params","args","originalEvent","hasClass","opcion","originalSelect2Event","preventDefault","stopPropagation","status_code","remove","trigger","error_response","event","prevselection","value","nuevo","Option","m","hasOwnProperty","newTag","$opcion","tag","trim","term","length","getUrlParams","document","instanceid","monitores","apellido","first","dia","materia","monitor","icon","reload","width","minDate","desde","hasta","formatear_date_a_int","date","appendLeading0","toString","getFullYear","getMonth","getDate","page","query_string","query","substring","vars","i","pair"],"mappings":"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","sourcesContent":["// Standard license block omitted.\r\n/*\r\n * @package    block_ases\r\n * @copyright  ASES\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\n/**\r\n * @module block_ases/monitorias_academicas_detalle\r\n */\r\ndefine(['jquery',\r\n    'block_ases/jquery.dataTables',\r\n    'block_ases/dataTables.buttons',\r\n    'block_ases/buttons.html5',\r\n    'block_ases/buttons.flash',\r\n    'block_ases/buttons.print',\r\n    'block_ases/_general_modal_manager',\r\n    'block_ases/select2',\r\n    'block_ases/jqueryui',\r\n    'block_ases/loading_indicator',\r\n    'block_ases/sweetalert',\r\n    'extras'\r\n],\r\n    function ($, dataTables, buttons, html5, flash, print,  gmm, select2, jqueryui, loading_indicator, sweetalert, extras) {\r\n        function construir_tabla(data){\r\n            $(\"#div_table\").html('');\r\n            $(\"#div_table\").fadeIn(500).append('<table id=\"tableResult\" class=\"stripe row-border order-column\" cellspacing=\"0\" width=\"100%\"><thead> </thead></table>');\r\n            $(\"#tableResult\").DataTable(data);\r\n        }\r\n        const monitoria_id = (new URLSearchParams(window.location.search)).get(\"monitoriaid\");\r\n        return {\r\n            init: function () {\r\n                 // datepickers\r\n                $.datepicker.setDefaults({\r\n                    closeText: \"Cerrar\",\r\n                    prevText: \"&#x3C;Ant\",\r\n                    nextText: \"Sig&#x3E;\",\r\n                    currentText: \"Hoy\",\r\n                    monthNames: [ \"enero\",\"febrero\",\"marzo\",\"abril\",\"mayo\",\"junio\",\r\n                    \"julio\",\"agosto\",\"septiembre\",\"octubre\",\"noviembre\",\"diciembre\" ],\r\n                    monthNamesShort: [ \"ene\",\"feb\",\"mar\",\"abr\",\"may\",\"jun\",\r\n                    \"jul\",\"ago\",\"sep\",\"oct\",\"nov\",\"dic\" ],\r\n                    dayNames: [ \"domingo\",\"lunes\",\"martes\",\"miércoles\",\"jueves\",\"viernes\",\"sábado\" ],\r\n                    dayNamesShort: [ \"dom\",\"lun\",\"mar\",\"mié\",\"jue\",\"vie\",\"sáb\" ],\r\n                    dayNamesMin: [ \"D\",\"L\",\"M\",\"X\",\"J\",\"V\",\"S\" ],\r\n                    weekHeader: \"Sm\",\r\n                    firstDay: 1,\r\n                    isRTL: false,\r\n                    showMonthAfterYear: false,\r\n                    yearSuffix: \"\" });\r\n                $(\"#fecha_hasta\").datepicker({\r\n                    showWeek: true,\r\n                    dateFormat: \"dd/M/y\",\r\n                });\r\n                $(\"#fecha_desde\").datepicker({\r\n                    showWeek: true,\r\n                    dateFormat: \"dd/M/y\",\r\n                });\r\n                $(\"#fecha_desde\").datepicker(\"setDate\", new Date());\r\n                // filtrar\r\n                $(\"#desplegar-filtrar\").click(() => {\r\n                    $(\"#flecha\").toggleClass(\"abajo\");\r\n                    $(\"#rango-fechas-sesiones\").toggle(300);\r\n                });\r\n                $(\"#rango-fechas-sesiones\").submit(consultar_sesiones_por_fecha);\r\n                $(\"#modificar_monitoria\").click(this.mostrar_modificar_monitoria);\r\n                $(\"#programar_sesiones\").click(this.mostrar_programar_sesiones);\r\n            },\r\n            construir_tabla: construir_tabla,\r\n            init_despues_de_tabla: function (){\r\n                // cancelar sesion\r\n                $(\".dt-button.buttons-print.eliminar\").click(function (e) {\r\n                    let fecha = $(e.target).parent().parent().parent().find(\"td\")[0].innerHTML;\r\n                    swal({\r\n                        title: 'Cancelar sesión',\r\n                        text: \"¿Deseas cancelar la sesión programada el \"+fecha+\"?\",\r\n                        type: 'warning',\r\n                        showCancelButton: true,\r\n                        confirmButtonText: 'Eliminar'\r\n                    }, function (isConfirmed) {\r\n                        if (isConfirmed) {\r\n                            $.ajax({\r\n                                type: \"POST\",\r\n                                data: JSON.stringify({\r\n                                    \"function\": 'eliminar_sesion',\r\n                                    \"params\": e.target.id,\r\n                                }),\r\n                                url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                                dataType: \"json\",\r\n                                success: function(msg) {\r\n                                    consultar_sesiones_por_fecha();\r\n                                    init_despues_de_tabla();\r\n                                },\r\n                                error : function(msg) {\r\n                                    swal('Error!', msg, 'error')\r\n                                    console.log(msg)\r\n                                },\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n                // ver estudiantes inscritos en esa sesion\r\n                $(\".estudiantes\").click(function (e) {\r\n                    loading_indicator.show();\r\n                    let fecha = $(e.target).parent().parent().parent().find(\"td\")[0].innerHTML;\r\n                    // config de la dataTable\r\n                    let columnas = [\r\n                        {\"title\" : \"Asistió?\",                  \"name\": \"asistencia\",   \"data\": \"asistencia\",   \"width\": \"5%\"},\r\n                        {\"title\" : \"Código\",                    \"name\": \"codigo\",       \"data\": \"codigo\",       \"width\": \"5%\"},\r\n                        {\"title\" : \"Nombres\",                   \"name\": \"nombres\",      \"data\": \"nombres\",      \"width\": \"20%\"},\r\n                        {\"title\" : \"Apellidos\",                 \"name\": \"apellidos\",    \"data\": \"apellidos\",    \"width\": \"20%\"},\r\n                        {\"title\" : \"Programa/Dependencia\",      \"name\": \"programa\",     \"data\": \"programa\",     \"width\": \"10%\"},\r\n                        {\"title\" : \"Correo electrónico\",        \"name\": \"correo\",       \"data\": \"correo\",       \"width\": \"15%\"},\r\n                        {\"title\" : \"Celular\",                   \"name\": \"celular\",      \"data\": \"celular\",      \"width\": \"5%\"},\r\n                        {\"title\" : \"Asignatura a consultar\",    \"name\": \"asignatura\",   \"data\": \"asignatura\",   \"width\": \"20%\"},\r\n                        {\"title\" : \"Temática a consultar\",      \"name\": \"tematica\",     \"data\": \"tematica\",     \"width\": \"20%\"},\r\n                    ];\r\n                    let datosTabla = {\r\n                        \"ordering\": false,\r\n                        \"columns\" : columnas,\r\n                        \"select\": \"false\",\r\n                        \"fixedHeader\": {\r\n                          \"header\": true,\r\n                          \"footer\": true\r\n                        },\r\n                        \"language\": {\r\n                          \"search\": \"Buscar:\",\r\n                          \"oPaginate\": {\r\n                            \"sFirst\": \"Primero\",\r\n                            \"sLast\": \"Último\",\r\n                            \"sNext\": \"Siguiente\",\r\n                            \"sPrevious\": \"Anterior\"\r\n                          },\r\n                          \"sProcessing\": \"Procesando...\",\r\n                          \"sLengthMenu\": \"Mostrar _MENU_ registros\",\r\n                          \"sZeroRecords\": \"No se encontraron resultados\",\r\n                          \"sEmptyTable\": \"Ningún dato disponible\",\r\n                          \"sInfo\": \"Mostrando del _START_ al _END_ de _TOTAL_\",\r\n                          \"sInfoEmpty\": \" 0 registros\",\r\n                          \"sInfoFiltered\": \"(filtrado de un total de _MAX_ registros)\",\r\n                          \"sInfoPostFix\": \"\",\r\n                          \"sSearch\": \"Buscar:\",\r\n                          \"sUrl\": \"\",\r\n                          \"sInfoThousands\": \",\",\r\n                          \"sLoadingRecords\": \"Cargando...\",\r\n                          \"oAria\": {\r\n                            \"sSortAscending\": \": Ordenar ascendente\",\r\n                            \"sSortDescending\": \": Ordenar descendente\"\r\n                          }\r\n                        },\r\n                        \"dom\": \"lifrtpB\",\r\n                        \"buttons\": [\r\n                          {\r\n                            \"extend\": \"print\",\r\n                            \"text\": \"Imprimir\"\r\n                          },\r\n                          {\r\n                            \"extend\": \"csvHtml5\",\r\n                            \"text\": \"CSV\"\r\n                          },\r\n                          {\r\n                            \"extend\": \"excel\",\r\n                            \"text\": \"Excel\",\r\n                            \"className\": \"buttons-excel\",\r\n                            \"filename\": \"Export excel\",\r\n                            \"extension\": \".xls\"\r\n                          }\r\n                        ]\r\n                      } \r\n                    // consultar los inscritos en la db\r\n\r\n                    $.when($.ajax({\r\n                        type: \"POST\",\r\n                        data: JSON.stringify({\r\n                            \"function\": 'cargar_asistentes_de_sesion',\r\n                            \"params\": e.target.id,\r\n                        }),\r\n                        url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                        dataType: \"json\",\r\n                        error: function(msg) {\r\n                            console.log(\"Error consulta BD asistentes monitorias academicas\");\r\n                            $(\"#debug\").html(msg.responseText);\r\n                        }\r\n                    })).done((msg) =>{\r\n                        // mostrar modal\r\n                        gmm.generate_modal(\"modal_estudiantes_inscritos\", `Asistentes inscritos a ${$('#nombre_monitoria').html()} ${$('#horario_semanal').html()} ${fecha}`, '<table id=\"asistentes_sesion\" class=\"stripe row-border order-column\" cellspacing=\"0\" width=\"100%\"><thead> </thead></table>', null, \r\n                        function(){  \r\n                            datosTabla.data = msg.data_response;\r\n                            $(\"#asistentes_sesion\").DataTable(datosTabla);\r\n                            gmm.show_modal(\".modal_estudiantes_inscritos\");\r\n                            //$(\"#div_table\").fadeIn(500)\r\n                            loading_indicator.hide();\r\n                        });\r\n                    });\r\n                });\r\n            },\r\n            mostrar_modificar_monitoria : function(){\r\n                // cargar mustache\r\n            $.when($.ajax({\r\n                        url: \"../templates/monitorias_academicas_anadir.mustache\",\r\n                        data: null,\r\n                        dataType: \"text\",\r\n                        async: true,\r\n                        success: function( template ){\r\n                            let html_to_load = template;\r\n                            //Crear JSON con general_modal_manager\r\n                            gmm.generate_modal(\"modal_fomulario_anadir\", \"Modificar monitoría\", html_to_load, null, function(){gmm.show_modal(\".modal_fomulario_anadir\")});\r\n\r\n                        },\r\n                        error: function(){\r\n                            console.log( \"../templates/monitorias_academicas_anadir.mustache cannot be reached.\" );\r\n                        }\r\n                    })).done(() =>{\r\n\r\n                    listar_materias_select();\r\n                      listar_monitores_select();\r\n                        attach_listeners_botones();\r\n                \r\n\r\n                $(\"#form_anadir input[name=fecha_hasta]\")[0].required = false\r\n\r\n                $(\"#seleccionar-fecha-anadir\").hide(0);\r\n                $(\"#input-programar-monitorias-checkbox\").hide(0);\r\n                \r\n                // poner valores previos\r\n                var hora = $(\"#hora\").html().split(\" \");\r\n                $(\"#hora_inicio1\").val(hora[0]);\r\n                $(\"#hora_inicio2\").val(hora[1]);\r\n                $(\"#hora_final1\").val(hora[3]);\r\n                $(\"#hora_final2\").val(hora[4]);\r\n                $(\"select[name='dia']\").val(parseInt($(\"#dia\").html())).change();\r\n\r\n            });\r\n            \r\n                function listar_materias_select(){\r\n                    $.ajax({\r\n                        type: \"POST\",\r\n                        data: JSON.stringify({\r\n                            \"function\": 'cargar_materias',\r\n                            \"params\": [],\r\n                        }),\r\n                        url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                        dataType: \"json\",\r\n                        success: function(msg) {\r\n                            //$(\"#div_table\").html(msg.responseText);\r\n                            var materias = $.map(msg.data_response, function(a) {return {\"id\" : a.id, \"text\" : a.nombre}});\r\n                            $('#materia').select2({\r\n                                \"data\" : materias,\r\n                                \"placeholder\": \"Seleccionar materia\",\r\n                                \"templateResult\" : renderizar_opcion,\r\n                                \"createTag\" : agregar_materia_a_select,\r\n                                \"tags\" : true,\r\n                                \"escapeMarkup\" : function (markup) {\r\n                                    return markup;\r\n                                },\r\n                            }).on('select2:closing', function (e) {\r\n                                var real_event = e.params.args.originalEvent;\r\n                                if(real_event != null && $(real_event.target).hasClass('boton-eliminar-materia')){\r\n                                        var opcion = e.params.args.originalSelect2Event.data;\r\n                                        // eliminar materia\r\n                                        e.preventDefault();\r\n                                        e.stopPropagation();\r\n                                        $.ajax({\r\n                                            type: \"POST\",\r\n                                            data: JSON.stringify({\r\n                                                \"function\": 'eliminar_materia',\r\n                                                \"params\": [parseInt(opcion.id)],\r\n                                            }),\r\n                                            url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                                            dataType: \"json\",\r\n                                            success: function(msg) {\r\n                                                if(msg.status_code == 0) {\r\n                                                    $(\"#materia\").find(`option[value=${opcion.id}]`)[0].remove();\r\n                                                    $('#materia').trigger('change');\r\n                                                    $(real_event.target).parent(\".opcion-select\").parent(\".select2-results__option\").hide();\r\n                                                } else {\r\n                                                    swal(\r\n                                                            'Error!',\r\n                                                            'Oops!: ' + msg.error_response,\r\n                                                            'error'\r\n                                                        );\r\n                                                }\r\n                                            },\r\n                                            error: function(msg) {\r\n                                                console.log(\"Error eliminar bd de materia en backend\");\r\n                                                $(\"#debug\").html(msg.responseText);\r\n                                            }\r\n                                        });\r\n                                } \r\n                              }).on('select2:opening', function(event){\r\n                                prevselection = $(event.target).find(':selected');\r\n                                $('#materia').val(null);\r\n                             }).on('select2:select', function(e){\r\n                                 var opcion = e.params.data;\r\n                                if(opcion.id==-1){\r\n                                    // agregar materia\r\n                                    $.ajax({\r\n                                        type: \"POST\",\r\n                                        data: JSON.stringify({\r\n                                            \"function\": 'anadir_materia',\r\n                                            \"params\": [opcion.text],\r\n                                        }),\r\n                                        url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                                        dataType: \"json\",\r\n                                        success: function(msg) {\r\n                                            if(msg.status_code == 0) {\r\n                                                $('#materia').find(\"option[value=-1]\")[0].value = msg.id;\r\n                                                var nuevo = new Option(opcion.text, msg.id, false, true);\r\n                                                $('#materia').append(nuevo).trigger('change'); \r\n                                            } else {\r\n                                                swal(\r\n                                                        'Error!',\r\n                                                        'Oops!: ' + msg.data_response,\r\n                                                        'error'\r\n                                                    );\r\n                                            }\r\n                                        },\r\n                                        error: function(msg) {\r\n                                            console.log(\"Error insercion bd de materia en backend\");\r\n                                            $(\"#debug\").html(msg.responseText);\r\n                                        }\r\n                                    });\r\n                                }\r\n                             });\r\n                             $('#materia').val(parseInt($(\"#materia_id\").html())).change();\r\n            \r\n                        },\r\n                        error: function(msg) {\r\n                            console.log(\"Error consulta BD materias\");\r\n                            console.log(msg);\r\n                        }\r\n                    });\r\n                    function renderizar_opcion(m){\r\n                        if(m.hasOwnProperty('newTag') && m.newTag){\r\n                            return $(`<span id=\"materia_nueva\" class=\"opcion-select\">${m.text}<span style=\"opacity:0.5;margin-left:1ch\">(agregar)</span><div class=\"icono-agregar-materia\"><span>`)\r\n                        }\r\n                        var $opcion = $(`<span id=\"materia_${m.id}\" class=\"opcion-select\">${m.text}<div class=\"boton-eliminar-materia\"><span>`);\r\n                        return $opcion;\r\n                    }\r\n                    function agregar_materia_a_select(tag){\r\n                        if ($.trim(tag.term) === '' || $.trim(tag.term).length < 3) {\r\n                            return null;\r\n                          }\r\n        \r\n                          return {\r\n                            id: -1,\r\n                            text: tag.term,\r\n                            newTag: true\r\n                          }\r\n                    }\r\n                }\r\n            \r\n                function listar_monitores_select(){\r\n                    $.ajax({\r\n                        type: \"POST\",\r\n                        data: JSON.stringify({\r\n                            \"function\": 'cargar_monitores',\r\n                            \"params\": [extras.getUrlParams(document.location.search).instanceid],\r\n                        }),\r\n                        url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                        dataType: \"json\",\r\n                        success: function(msg) {\r\n                            //$(\"#div_table\").html(msg.responseText);\r\n                            var monitores = $.map(msg.data_response, function(a) {return {\"id\" : a.id, \"text\" : a.nombre+' '+a.apellido}});\r\n                            $('#monitor').select2({\r\n                                \"data\" : monitores,\r\n                                \"placeholder\" : \"Seleccionar monitor\"\r\n                            });\r\n                            $('#monitor').val(parseInt($(\"#monitor_id\").html())).change();\r\n                            \r\n                        },\r\n                        error: function(msg) {\r\n                            console.log(\"Error consulta BD monitores\");\r\n                            $(\"#debug\").html(msg.responseText);\r\n                        }\r\n                    });\r\n                }\r\n            \r\n           \r\n                function attach_listeners_botones(){\r\n                 \r\n                    // cancelar\r\n                    $(\"#cancel_monitoria_btn\").click(() => {$(\".general_modal_close\").first().click()});\r\n                    // modificar monitoria\r\n                    $(\"#form_anadir\").submit(function(e){\r\n                        e.preventDefault();\r\n                        loading_indicator.show();\r\n                        var dia = $(\"select[name='dia']\").val();\r\n                        var hora = $(\"#hora_inicio1 option:selected\").text()+\" \"+$(\"#hora_inicio2 option:selected\").text()+ \" - \"+ $(\"#hora_final1 option:selected\").text()+\" \"+$(\"#hora_final2 option:selected\").text();\r\n                        var materia = $('#materia').find(':selected').first().val();\r\n                        var monitor = $('#monitor').find(':selected').first().val();\r\n\r\n                        $.ajax({\r\n                            type: \"POST\",\r\n                            data: JSON.stringify({\r\n                                \"function\": 'modificar_monitoria',\r\n                                \"params\": [dia, hora, materia, monitor, monitoria_id],\r\n                            }),\r\n                            url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                            dataType: \"json\",\r\n                            success: function(msg) {\r\n                                loading_indicator.hide();\r\n                                $(\".general_modal_close\").first().click();\r\n                                if(msg.status_code == 0) {\r\n                                    swal(\r\n                                        {title:\"Monitoria guardada\",\r\n                                        text: \"Se ha modificado correctamente la monitoria\",\r\n                                        icon: \"success\"},\r\n                                        function (isConfirmed) {\r\n                                            location.reload()\r\n                                        });\r\n                                        \r\n                                } else {\r\n                                    swal(\r\n                                            'Error!',\r\n                                            'Oops!: ' + msg.data_response,\r\n                                            'error'\r\n                                        );\r\n                                    console.log(msg);\r\n                                }\r\n                            },\r\n                            error: function(msg) {\r\n                                console.log(\"Error insercion bd de monitoria en backend\");\r\n                                $(\"#debug\").html(msg.responseText);\r\n                            }\r\n                        });\r\n                    });\r\n        \r\n               \r\n                }\r\n            },\r\n            mostrar_programar_sesiones : function(){\r\n                $.when($.ajax({\r\n                    url: \"../templates/monitorias_academicas_programar.mustache\",\r\n                    data: null,\r\n                    dataType: \"text\",\r\n                    async: true,\r\n                    success: function( template ){\r\n                        gmm.generate_modal(\"modal_fomulario_programar\", \"Programar sesiones de monitoría\", template, null, function(){gmm.show_modal(\".modal_fomulario_programar\")});\r\n                        $(\".modal_fomulario_programar\").find(\".general_modal_content\").width(\"40%\")\r\n                    },\r\n                    error: function(){\r\n                        console.log( \"../templates/monitorias_academicas_programar.mustache cannot be reached.\" );\r\n                    }\r\n                })).done(() =>{\r\n                    $(\"#programar_desde\").datepicker({\r\n                        minDate: 0,\r\n                        showWeek: true,\r\n                        dateFormat: \"dd/M/y\"\r\n                    });\r\n                    $(\"#programar_hasta\").datepicker({\r\n                        minDate: 0,\r\n                        showWeek: true,\r\n                        dateFormat: \"dd/M/y\"\r\n                    });\r\n\r\n                    $(\"#form_programar\").submit(function (e) {\r\n                        loading_indicator.show();\r\n                        e.preventDefault()\r\n                        let desde = $(\"#programar_desde\").val();\r\n                        console.log(desde)\r\n                        let hasta = $(\"#programar_hasta\").val();\r\n                        let dia = parseInt($(\"#dia\").html());\r\n                        swal({\r\n                            title: '¿Programar sesiones?',\r\n                            text: \"Se programarán sesiones todos los \" +[\"lunes\", \"martes\", \"miércoles\", \"jueves\", \"viernes\", \"sábado\", \"domingo\"][dia]+\" desde \"+desde+\" hasta \"+hasta+\".\",\r\n                            type: 'warning',\r\n                            showCancelButton: true,\r\n                            confirmButtonText: 'Programar'\r\n                        }, function (isConfirmed) {\r\n                            if (isConfirmed) {\r\n                                $.ajax({\r\n                                    type: \"POST\",\r\n                                    data: JSON.stringify({\r\n                                        \"function\": 'programar_sesiones',\r\n                                        \"params\": [monitoria_id, dia, desde, hasta],\r\n                                    }),\r\n                                    url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n                                    dataType: \"json\",\r\n                                    success: function(msg) {\r\n                                        loading_indicator.hide();\r\n                                        location.reload()\r\n                                    },\r\n                                    error : function(msg) {\r\n                                        swal('Error!', msg.responseText, 'error')\r\n                                        $(\"#debug\").html(msg.responseText);\r\n                                    },\r\n                                });\r\n                            }\r\n                        });\r\n                    });\r\n\r\n\r\n            });\r\n        }\r\n    }\r\n    function formatear_date_a_int(date){\r\n        function appendLeading0(a){ return a < 10 ? \"0\"+a.toString() : a.toString()};\r\n        return parseInt(date.getFullYear().toString()+appendLeading0(date.getMonth()+1)+appendLeading0(date.getDate()))\r\n    }\r\n    // TODO: poner como fechas iniciales hoy y 9999999\r\n    function consultar_sesiones_por_fecha(e = null){\r\n        if(e) e.preventDefault();\r\n        loading_indicator.show();\r\n            var desde = formatear_date_a_int(e ? $(\"#fecha_desde\").datepicker(\"getDate\") : new Date());\r\n            var hasta = formatear_date_a_int(e ? $(\"#fecha_hasta\").datepicker(\"getDate\") : new Date(8640000000000000)); // máxima fecha disponible en JS\r\n        $.ajax({\r\n            type: \"POST\",\r\n            data: JSON.stringify({\r\n                \"function\": \"get_tabla_sesiones\",\r\n                \"params\": [monitoria_id, desde, hasta],\r\n            }),\r\n            url: \"../managers/asistencia_monitorias/asistencia_monitorias_api.php\",\r\n            dataType: \"json\",\r\n            success: function(msg) {\r\n                loading_indicator.hide();\r\n                construir_tabla(msg.data_response);\r\n            },\r\n            error: function(msg) {\r\n                console.log(\"Error insercion bd de monitoria en backend\");\r\n                $(\"#debug\").html(msg.responseText);\r\n            }\r\n        });\r\n    }\r\n    }\r\n);\r\n\r\ndefine('extras', function(){\r\n    return {\r\n        getUrlParams : function (page) {\r\n            var query_string = [];\r\n            var query = page.substring(1);\r\n            var vars = query.split(\"&\");\r\n            for (var i = 0; i < vars.length; i++) {\r\n                var pair = vars[i].split(\"=\");\r\n                query_string[pair[0]] = pair[1];\r\n            }\r\n            return query_string;\r\n        }\r\n    }\r\n});"],"file":"monitorias_academicas_detalle.min.js"}