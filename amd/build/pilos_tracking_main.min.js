'use strict';define(['jquery','block_ases/Modernizr-v282','block_ases/bootstrap','block_ases/jquery.dataTables','block_ases/sweetalert','block_ases/select2','block_ases/loading_indicator'],function(a,b,c,d,f,g,h){return{init:function init(){function j(K,L,M,N){var O='get_tracking_count';N&&(O='get_tracking_count_student'),h.show(),a.ajax({type:'POST',data:JSON.stringify({function:O,params:[K,L,M]}),url:'../managers/pilos_tracking/v2/pilos_tracking_api.php',dataType:'json',cache:'false',success:function success(P){for(var Q=P.data_response,R=0,S=0,T=0,U=0,V=0,W=0,X=0;X<Q.length;X++){R=Q[X].count.revisado_profesional+Q[X].count.not_revisado_profesional,S=Q[X].count.not_revisado_profesional,T=Q[X].count.not_revisado_practicante,U=Q[X].count.in_revisado_profesional+Q[X].count.in_not_revisado_profesional,V=Q[X].count.in_not_revisado_profesional,W=Q[X].count.in_not_revisado_practicante;var Y='                                <div class="conteo">                                    <div class="row">                                         <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             Fichas: <strong>'+R+'</strong>                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-prof">Pendientes Prof: </div>'+S+'                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-pract">Pendientes pract: </div>'+T+'                                        </div>                                    </div>                                    <div class="row">                                         <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             Inasistencias: <strong>'+U+'</strong>                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-prof">Pendientes Prof: </div>'+V+'                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-pract">Pendientes pract: </div>'+W+'                                        </div>                                    </div>                                </div>                            ';a('#counting_'+Q[X].username).find('.loader').html(Y)}h.hide()},error:function error(P){h.hide(),console.log(P),swal({title:'Error!',text:'',html:!0,type:'error',confirmButtonColor:'#d51b23'})}})}function k(K,L){if('primer_acercamiento'==K&&'insert'==L);else if('primer_acercamiento'==K&&'update'==L);else if('inasistencia'==K&&'insert'==L);else if('inasistencia'==K&&'update'==L){var M=a('.dphpforms-record').find('.in_revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),N=a('.dphpforms-record').find('.in_revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked'),O=a('#dphpforms_role_support').attr('data-info');M&&'sistemas'!=O&&(a('.btn-dphpforms-delete-record').remove(),a('.btn-dphpforms-update').remove()),'dir_socioeducativo'==O&&(a('.btn-dphpforms-delete-record').remove(),a('.btn-dphpforms-update').remove());var P=a('.dphpforms-record .btn-dphpforms-univalle').length;1==P?a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-a('.dphpforms-record .btn-dphpforms-close').outerWidth()/2+'px'}):2==P?a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72+'px'}):3==P?a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72-30+'px'}):4==P&&a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72-30+'px'})}else if('seguimiento_pares'==K&&'insert'==L);else if('seguimiento_pares'==K&&'update'==L){var M=a('.dphpforms-record').find('.revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),N=a('.dphpforms-record').find('.revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked');M&&(a('.btn-dphpforms-delete-record').remove(),a('.btn-dphpforms-update').remove());N&&a('.btn-dphpforms-delete-record').remove();var P=a('.dphpforms-record .btn-dphpforms-univalle').length;3==P||2==P?a('.dphpforms-record .btn-dphpforms-close').css({'margin-left':a('.dphpforms-updater').width()/2-30+'px'}):4==P&&a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72-30+'px'})}else if('seguimiento_geografico_'==K&&'insert'==L);else if('seguimiento_geografico_'==K&&'update'==L);else if('seguimiento_grupal_'==K&&'insert'==L);else if('seguimiento_grupal_'==K&&'update'==L);}function l(){a('.dphpforms-peer-record').on('click',function(){var K=a(this).attr('data-record-id');r('seguimiento_pares',K),a('#modal_v2_edit_peer_tracking').fadeIn(300)})}function m(){a('.dphpforms-groupal-record').on('click',function(){var K=a(this).attr('data-record-id');r('seguimiento_grupal',K),a('#modal_v2_edit_groupal_tracking').fadeIn(300)})}function n(K,L){var M=o('.puntuacion_riesgo_individual'),N=a('.comentarios_individual').find('textarea').val();var O=o('.puntuacion_riesgo_familiar'),P=a('.comentarios_familiar').find('textarea').val(),Q=o('.puntuacion_riesgo_academico'),R=a('.comentarios_academico').find('textarea').val(),S=o('.puntuacion_riesgo_economico'),T=a('.comentarios_economico').find('textarea').val(),U=o('.puntuacion_vida_uni'),V=a('.comentarios_vida_uni').find('textarea').val();if('3'==M||'3'==O||'3'==Q||'3'==S||'3'==U){var W={'function':'send_email_dphpforms',student_code:L,risks:[{name:'Individual',risk_lvl:M,observation:N},{name:'Familiar',risk_lvl:O,observation:P},{name:'Acad\xE9mico',risk_lvl:Q,observation:R},{name:'Econ\xF3mico',risk_lvl:S,observation:T},{name:'Vida Universitaria',risk_lvl:U,observation:V}],date:a('.fecha').find('input').val(),url:window.location.href};h.show(),a.ajax({type:'POST',data:JSON.stringify(W),url:'../managers/pilos_tracking/send_risk_email.php',success:function success(X){console.log(X),h.hide()},dataType:'text',cache:'false',error:function error(X){h.hide(),console.log(X)}})}}function o(K){var L=0;return a(K).find('.opcionesRadio').find('div').each(function(){a(this).find('label').find('input').is(':checked')&&(L=a(this).find('label').find('input').val())}),L}function p(K){a('#general_rev_pro').html('*'),a('#general_rev_prac').html('*'),a('#general_not_rev_pro').html('*'),a('#general_not_rev_prac').html('*'),a('#general_pro_t').html('*'),a('#general_prac_t').html('*'),a('#general_in_rev_pro').html('*'),a('#general_in_rev_prac').html('*'),a('#general_in_not_rev_pro').html('*'),a('#general_in_not_rev_prac').html('*'),a('#general_in_pro_t').html('*'),a('#general_in_prac_t').html('*'),h.show(),a.ajax({type:'POST',data:{type:'user_specific_counting',user:K,instance:C()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!0,dataType:'json',cache:'false',success:function success(L){h.hide(),a('#general_rev_pro').html(L.revisado_profesional),a('#general_rev_prac').html(L.revisado_practicante),a('#general_not_rev_pro').html(L.not_revisado_profesional),a('#general_not_rev_prac').html(L.not_revisado_practicante),a('#general_pro_t').html(L.total_profesional),a('#general_prac_t').html(L.total_practicante),a('#general_in_rev_pro').html(L.in_revisado_profesional),a('#general_in_rev_prac').html(L.in_revisado_practicante),a('#general_in_not_rev_pro').html(L.in_not_revisado_profesional),a('#general_in_not_rev_prac').html(L.in_not_revisado_practicante),a('#general_in_pro_t').html(L.in_total_profesional),a('#general_in_prac_t').html(L.in_total_practicante)},error:function error(){h.hide()}})}function q(K){h.show(),a.ajax({type:'POST',data:{students:K,type:'consult_students_name'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(L){if(''!=L){a('#modal_v2_edit_groupal_tracking').find('#students').remove(),a('#modal_v2_edit_groupal_tracking').find('form').find('h1').after('<hr style="border-color:red"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 estudiantes" id="students"><h3>Estudiantes asistentes:</h3><br>'+L+'<br>')}h.hide()},dataType:'text',cache:'false',error:function error(){alert('Error al consultar nombres de los estudiantes pertenecientes a un seguimiento grupal'),h.hide()}})}function r(K,L){a('#body_editor').html(''),a('#modal_v2_edit_groupal_tracking').find('#body_editor').html(''),h.show(),a.get('../managers/dphpforms/dphpforms_forms_core.php?form_id=&record_id='+L,function(M){if(h.hide(),'seguimiento_grupal'==K){a('#modal_v2_edit_groupal_tracking').find('#body_editor').append(M),a('#modal_v2_edit_groupal_tracking').find('.btn-dphpforms-univalle').remove();var N=a('#modal_v2_edit_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val();q(N)}else{a('#body_editor').append(M),a('.dphpforms.dphpforms-record.dphpforms-updater').append('<br><br><div class="div-observation col-xs-12 col-sm-12 col-md-12 col-lg-12 comentarios_vida_uni">Observaciones de Practicante/profesional:<br> <textarea id="observation_text" class="form-control " name="observation_text" maxlength="5000"></textarea><br><a id="send_observation" class="btn btn-sm btn-danger btn-dphpforms-univalle btn-dphpforms-send-observation">Enviar observaci\xF3n</a></div>'),a('button.btn.btn-sm.btn-danger.btn-dphpforms-univalle').attr('id','button');var O=M.indexOf('seguimiento_de_pares_');-1!=O&&k('seguimiento_pares','update');var P=M.indexOf('inasistencia');-1!=P&&k('inasistencia','update')}a('#permissions_informationr').html('');var Q=a('.dphpforms-record').find('.revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),R=a('.dphpforms-record').find('.revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked');Q&&a('.dphpforms-record').find('.btn-dphpforms-delete-record').remove();for(var S=JSON.parse(a('#permissions_information').text()),T=0;T<S.behaviors_permissions.length;T++){for(var X,U=S.behaviors_permissions[T].behaviors[0],V=U.behaviors_accessibility,W=0;W<V.length;W++)X=V[W].disabled,'true'==X?X=!0:'false'==X&&(X=!1),a('.dphpforms-record').find('#'+V[W].id).prop('disabled',X),a('.dphpforms-record').find('.'+V[W]['class']).prop('disabled',X);for(var Y=U.behaviors_fields_to_remove,W=0;W<Y.length;W++)a('.dphpforms-record').find('#'+Y[W].id).remove(),a('.dphpforms-record').find('.'+Y[W]['class']).remove();for(var Z=U.limpiar_to_eliminate,W=0;W<Z.length;W++)a('.dphpforms-record').find('.'+Z[W]['class']+'.limpiar ').remove()}a('#permissions_informationr').html('')})}function s(){a('a[class*="practicant"]').click(function(){var M=a(this).data('username');if(-1==D.indexOf(M))D.push(M);else return;var K=a(this).attr('href').split('#practicant')[1],L=a(this).attr('href');h.show(),a.ajax({type:'POST',data:{type:'get_practicants_of_professional',practicant_code:K,instance:C()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!0,dataType:'json',cache:'false',success:function success(N){a(L+' > div').empty(),a(L+' > div').append(N.render);N.counting;j(K,J,parseInt(C()),!1),t(),u(),h.hide()},error:function error(){h.hide(),swal({title:'Oops !',text:'Se present\xF3 un inconveniente con el practicante seleccionado.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function t(){a('a[class*="monitor"]').click(function(){var M=a(this).data('username');if(-1==D.indexOf(M))D.push(M);else return;var K=a(this).attr('href').split('#monitor')[1],L=a(this).attr('href');h.show(),a.ajax({type:'POST',data:{type:'get_monitors_of_practicant',monitor_code:K,instance:C()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!0,dataType:'json',cache:'false',success:function success(N){a(L+' > div').empty(),a(L+' > div').append(N),j(K,J,parseInt(C()),!0),v(),u(),h.hide()},error:function error(){h.hide(),swal({title:'Oops !',text:'Se present\xF3 un inconveniente con el monitor seleccionado.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function u(){a('a[class*="groupal"]').click(function(){var K=a(this).attr('href').split('#groupal')[1],L=a(this).attr('href');h.show(),a.ajax({type:'POST',data:{type:'get_groupal_trackings',student_code:K,instance:C()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(M){a(L+' > div').empty(),a(L+' > div').append(M),m(),h.hide()},dataType:'json',cache:'false',error:function error(){h.hide(),swal({title:'Oops !',text:'Se present\xF3 un inconveniente con los seguimientos grupales seleccionados.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function v(){a('a[class*="student"]').click(function(){var M=a(this).data('username');if(-1==D.indexOf(M))D.push(M);else return;var K=a(this).attr('href').split('#student')[1],L=a(this).attr('href');h.show(),a.ajax({type:'POST',data:{type:'get_student_trackings',student_code:K,instance:C()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(N){a(L+' > div').empty(),a(L+' > div').append(N),l(),m(),h.hide()},dataType:'json',cache:'false',error:function error(){h.hide(),swal({title:'Oops !',text:'Se present\xF3 un inconveniente con el estudiante seleccionado.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})}),a('.see_history').unbind().click(function(){var L=a(this).parents().eq(3).attr('href').split('#monitor')[1];h.show(),a.ajax({type:'POST',data:{type:'redirect_tracking_time_control',monitor:L},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(M){var N=window.location.href,O=N.replace('report_trackings','tracking_time_control');h.hide();try{var P=window.open(O+'&&monitorid='+M,'_blank');P&&P.focus()}catch(Q){alert('Se ha producido un error al abrir la ventana : '+Q)}},dataType:'json',cache:'false',error:function error(){h.hide(),swal({title:'Oops !',text:'Se present\xF3 un inconveniente al reedirecionar al reporte de horas.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function w(K,L,M){a('#periodos').change(function(){if('sistemas'!=I){var N=a('#periodos').val(),O=F;h.show(),a.ajax({type:'POST',data:{id_persona:O,id_semestre:N,instance:K,otro:!0,type:'consulta_sistemas'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',dataType:'text',cache:'false',success:function success(P){''==P?a('#reemplazarToogle').html('<label> No se encontraron registros </label>'):(a('#reemplazarToogle').html(P),v(),t(),s(),u()),a('.well.col-md-10.col-md-offset-1.reporte-seguimiento.oculto').slideDown('slow'),j(M,N,parseInt(C()),!1),h.hide()},error:function error(){h.hide(),swal('ERROR!','Oops!, Se present\xF3 un error al consultar seguimientos de personas','error')}}),l(),m()}})}function y(K){a('#personas').val('').change(),a('#personas').select2({placeholder:'Seleccionar persona',language:{noResults:function noResults(){return'No hay resultado'},searching:function searching(){return'Buscando..'}}}),a('#periodos').select2({language:{noResults:function noResults(){return'No hay resultado'},searching:function searching(){return'Buscando..'}}}),B(K,I),a('#consultar_persona').on('click',function(){var L=a('#personas').children(':selected').attr('value'),M=a('#periodos').children(':selected').attr('value'),N=a('#personas').children(':selected').data('username');if(L==void 0)swal({title:'Debe escoger una persona para realizar la consulta',html:!0,type:'warning',confirmButtonColor:'#d51b23'});else{a('.well.col-md-10.col-md-offset-1.reporte-seguimiento.oculto').show(),a('.se-pre-con').show(),a('#reemplazarToogle').hide();h.show(),a.ajax({type:'POST',data:{id_persona:L,id_semestre:M,instance:C(),type:'consulta_sistemas'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',dataType:'text',cache:'false',success:function success(P){''==P?a('#reemplazarToogle').html('<label> No se encontraron registros </label>'):(a('#reemplazarToogle').html(P),a('input[name=practicante]').prop('disabled',!0),a('input[name=profesional]').prop('disabled',!0)),p(L),v(),t(),s(),u(),a('.well.col-md-10.col-md-offset-1.reporte-seguimiento.oculto').slideDown('slow'),j(N,M,parseInt(C()),!1),h.hide()},error:function error(){h.hide(),swal('ERROR!','Oops!, Se present\xF3 un error al cargar seguimientos de personas','error')},complete:function complete(){a('.se-pre-con').hide(),a('#reemplazarToogle').fadeIn()}}),l(),m()}})}function A(K){a('body').on('click','#send_observation',function(){var L=a('form').serializeArray(),M={};a(L).each(function(W,X){M[X.name]=X.value});var N=M.id_registro,O=a('#observation_text');if(''==O.val())swal({title:'Para enviar una observaci\xF3n debe llenar el campo correspondiente',html:!0,type:'error',confirmButtonColor:'#d51b23'});else{var P='individual',Q=a('.id_creado_por').find('input').val();''==Q&&(Q=a('.in_id_creado_por').find('input').val(),P='individual_inasistencia');var R=a('.fecha').find('input').val();''==R&&(R=a('.in_fecha').find('input').val());var S=O.val(),T=a('#periodos').val(),U=a('.lugar').find('input').val();''==U&&(U=a('.in_lugar').find('input').val());h.show(),a.ajax({type:'POST',data:{id_tracking:N,type:'send_email_to_user',form:'new_form',tracking_type:P,monitor_code:Q,date:R,message_to_send:S,semester:T,instance:K,place:U},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(W){h.hide(),'Error'==W?(console.log('mensaje error : '),console.log(W),swal({title:'error al enviar el correo al monitor',html:!0,type:'error',confirmButtonColor:'#d51b23'})):(swal({title:'Correo enviado',html:!0,type:'success',confirmButtonColor:'#d51b23'}),O.val(''))},dataType:'text',cache:'false',error:function error(W){h.hide(),console.log('mensaje error : '),console.log(W),swal('ERROR!','Oops!, Se present\xF3 un error al enviar el correo','error')}})}})}function B(K,L){a('#periodos').change(function(){var M=a('#periodos').val();h.show(),a.ajax({type:'POST',data:{id:M,instance:K,type:'update_people'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(N){if(a('#personas').empty(),a('#personas').select2({placeholder:'Seleccionar persona',language:{noResults:function noResults(){return'No hay resultado'},searching:function searching(){return'Buscando..'}}}),'sistemas'==L){a('#personas').attr('selectedIndex','-1').find('option:selected').removeAttr('selected'),a('#personas').append('<option value="">Seleccionar persona</option>'+N)}h.hide()},dataType:'text',cache:'false',error:function error(){h.hide(),swal('ERROR!','Oops!, Se present\xF3 un error al cargar personas','error')}})})}function C(){for(var M,K=window.location.search.split('&'),L=0;L<K.length;L++)if(M=K[L].split('='),'?instanceid'==M[0]||'instanceid'==M[0])var N=M[1];return N}var D=[],E=0,F=0,G='',H='',I='',J=parseInt(a('#current_ases_semester').data('info'));a(document).on('click','.btn-dphpforms-close',function(){a(this).closest('div[class="mymodal"]').fadeOut(300)}),a('.outside').click(function(){var K=a(this);swal({title:'Confirmaci\xF3n de salida',text:'',type:'warning',showCancelButton:!0,confirmButtonText:'Salir'},function(L){L&&a(K).parent('.mymodal').fadeOut(300)})}),a(document).ready(function(){a('.se-pre-con').fadeOut('slow'),a('#reemplazarToogle').fadeIn('slow');var L='';h.show(),a.ajax({type:'POST',data:{type:'getInfo',instance:C()},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(M){h.hide(),$data=a.parseJSON(M),G=$data.username,L=$data.username,F=$data.id,H=$data.email,E=$data.rol,I=$data.name_rol},dataType:'text',cache:'false',error:function error(){h.hide(),swal({title:'error al obtener informaci\xF3n del usuario, getInfo.',html:!0,type:'error',confirmButtonColor:'#d51b23'})}}),G='';var K=[];K.id=F,K.name=G,K.namerol=I,p(K),'practicante_ps'==I?(j(L,J,parseInt(C()),!1),w(C(),K,L),A(C())):'profesional_ps'==I?(j(L,J,parseInt(C()),!1),w(C(),K,L),A(C())):'monitor_ps'==I?(j(L,J,parseInt(C()),!0),w(C(),K,L),A(C())):'sistemas'==I&&(y(C()),A(C()))});a(document).on('click','.dphpforms > #button',function(K){K.preventDefault(),a(':disabled').prop('disabled',!1);var L=new FormData,M=a(this).parent(),N=M.attr('action');'procesador.php'==M.attr('action')&&(N='../managers/dphpforms/procesador.php');var O=M.find('.id_estudiante').find('input').val();h.show(),a.ajax({type:'POST',url:N,data:a('form.dphpforms').serialize(),dataType:'json',success:function success(P){h.hide();var Q=P;if(0==Q.status){a.get('../managers/pilos_tracking/api_pilos_tracking.php?function=update_last_user_risk&arg='+O+'&rid=-1',function(V){console.log(V)});var R='';'Stored'==Q.message?R='Almacenado':'Updated'==Q.message&&(R='Actualizado'),n(!1,O),swal({title:'Informaci\xF3n',text:R,type:'success'},function(){if('Updated'==Q.message){a('#dphpforms-peer-record-'+a('#dphpforms_record_id').val()).stop().animate({backgroundColor:'rgb(175, 255, 173)'},400).animate({backgroundColor:'#f5f5f5'},4e3);var V=a('#dphpforms-peer-record-'+a('#dphpforms_record_id').val()).parent().parent().data('asesid');console.log(V);for(var W=0;W<D.length;W++)D[W]===V&&D.splice(W,1);a('a[data-username=\''+V+'\']').trigger('click')}}),a('.dphpforms-response').trigger('reset'),a('#modal_v2_edit_peer_tracking').fadeOut(300),a('#modal_v2_peer_tracking').fadeOut(300),a(M).find('button').prop('disabled',!1),a(M).find('a').attr('disabled',!1)}else if(-5==Q.status){a(M).find('button').prop('disabled',!1),a(M).find('a').attr('disabled',!1);var R='';if('The field is static and can not be changed'==Q.message){var S=Q.data;a('div').removeClass('regla_incumplida'),a('.div-'+S).addClass('regla_incumplida'),R='Ups!, el campo marcado en rojo est\xE1 definido como est\xE1tico y por lo tanto debe mantener el mismo valor, si no logra ver el campo marcado en rojo informe de este incidente.'}swal('Alerta',R,'warning')}else if(-4==Q.status){a(M).find('button').prop('disabled',!1),a(M).find('a').attr('disabled',!1);var R='';if('Field does not match with the regular expression'==Q.message){var S=Q.data.id;a('div').removeClass('regla_incumplida'),a('.div-'+S).addClass('regla_incumplida'),R='Ups!, el campo marcado en rojo no cumple con el patr\xF3n esperado('+Q.data.human_readable+'). Ejemplo: '+Q.data.example}swal('Alerta',R,'warning')}else if(-3==Q.status){a(M).find('button').prop('disabled',!1),a(M).find('a').attr('disabled',!1);var R='';if('Field cannot be null'==Q.message){var S=Q.data;a('div').removeClass('regla_incumplida'),a('.div-'+S).addClass('regla_incumplida'),R='Ups!, los campos que se acaban de colorear en rojo no pueden estar vac\xEDos, si no logra ver ning\xFAn campo, informe de este incidente.'}swal('Alerta',R,'warning')}else if(-2==Q.status){a(M).find('button').prop('disabled',!1),a(M).find('a').attr('disabled',!1);var R='';if('Without changes'==Q.message)R='No hay cambios que registrar',a('#modal_v2_edit_peer_tracking').fadeOut(300),a('#modal_v2_peer_tracking').fadeOut(300),a('#modal_primer_acercamiento').fadeOut(300),a('#modal_seguimiento_geografico').fadeOut(300);else if('Unfulfilled rules'==Q.message){var T=Q.data.id_form_pregunta_a,U=Q.data.id_form_pregunta_b;a('div').removeClass('regla_incumplida'),a('.div-'+T).addClass('regla_incumplida'),a('.div-'+U).addClass('regla_incumplida'),R='Ups!, revise los campos que se acaban de colorear en rojo.'}swal('Alerta',R,'warning')}else-1==Q.status&&(console.log(P),swal('ERROR!','Ups!, informe de este error','error'))},error:function error(){h.hide(),swal('Error!','Ups!, informe de este error','error')}})}),a('.mymodal-close').click(function(){a(this).parent().parent().parent().parent().fadeOut(300)}),v(),t(),s(),u()}}});