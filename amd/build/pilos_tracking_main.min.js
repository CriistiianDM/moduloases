'use strict';define(['jquery','block_ases/Modernizr-v282','block_ases/bootstrap','block_ases/jquery.dataTables','block_ases/sweetalert','block_ases/select2'],function(a){return{init:function init(){function h(J,K,L,M){var N='get_tracking_count';M&&(N='get_tracking_count_student'),a.ajax({type:'POST',data:JSON.stringify({function:N,params:[J,K,L]}),url:'../managers/pilos_tracking/v2/pilos_tracking_api.php',dataType:'json',cache:'false',success:function success(O){for(var P=O.data_response,Q=0,R=0,S=0,T=0,U=0,V=0,W=0;W<P.length;W++){Q=P[W].count.revisado_profesional+P[W].count.not_revisado_profesional,R=P[W].count.not_revisado_profesional,S=P[W].count.not_revisado_practicante,T=P[W].count.in_revisado_profesional+P[W].count.in_not_revisado_profesional,U=P[W].count.in_not_revisado_profesional,V=P[W].count.in_not_revisado_practicante;var X='                                <div class="conteo">                                    <div class="row">                                         <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             Fichas: <strong>'+Q+'</strong>                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-prof">Pendientes Prof: </div>'+R+'                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-pract">Pendientes pract: </div>'+S+'                                        </div>                                    </div>                                    <div class="row">                                         <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             Inasistencias: <strong>'+T+'</strong>                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-prof">Pendientes Prof: </div>'+U+'                                        </div>                                        <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">                                             <div class="pend-pract">Pendientes pract: </div>'+V+'                                        </div>                                    </div>                                </div>                            ';a('#counting_'+P[W].username).find('.loader').html(X)}},error:function error(O){console.log(O),swal({title:'Error!',text:'',html:!0,type:'error',confirmButtonColor:'#d51b23'})}})}function j(J,K){if('primer_acercamiento'==J&&'insert'==K);else if('primer_acercamiento'==J&&'update'==K);else if('inasistencia'==J&&'insert'==K);else if('inasistencia'==J&&'update'==K){var L=a('.dphpforms-record').find('.in_revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),M=a('.dphpforms-record').find('.in_revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked'),N=a('#dphpforms_role_support').attr('data-info');L&&'sistemas'!=N&&(a('.btn-dphpforms-delete-record').remove(),a('.btn-dphpforms-update').remove()),'dir_socioeducativo'==N&&(a('.btn-dphpforms-delete-record').remove(),a('.btn-dphpforms-update').remove());var O=a('.dphpforms-record .btn-dphpforms-univalle').length;1==O?a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-a('.dphpforms-record .btn-dphpforms-close').outerWidth()/2+'px'}):2==O?a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72+'px'}):3==O?a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72-30+'px'}):4==O&&a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72-30+'px'})}else if('seguimiento_pares'==J&&'insert'==K);else if('seguimiento_pares'==J&&'update'==K){var L=a('.dphpforms-record').find('.revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),M=a('.dphpforms-record').find('.revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked');L&&(a('.btn-dphpforms-delete-record').remove(),a('.btn-dphpforms-update').remove());M&&a('.btn-dphpforms-delete-record').remove();var O=a('.dphpforms-record .btn-dphpforms-univalle').length;3==O||2==O?a('.dphpforms-record .btn-dphpforms-close').css({'margin-left':a('.dphpforms-updater').width()/2-30+'px'}):4==O&&a('.dphpforms-record .btn-dphpforms-univalle:eq(0)').css({'margin-left':a('.dphpforms-updater').width()/2-72-30+'px'})}else if('seguimiento_geografico_'==J&&'insert'==K);else if('seguimiento_geografico_'==J&&'update'==K);else if('seguimiento_grupal_'==J&&'insert'==K);else if('seguimiento_grupal_'==J&&'update'==K);}function k(){a('.dphpforms-peer-record').on('click',function(){var J=a(this).attr('data-record-id');q('seguimiento_pares',J),a('#modal_v2_edit_peer_tracking').fadeIn(300)})}function l(){a('.dphpforms-groupal-record').on('click',function(){var J=a(this).attr('data-record-id');q('seguimiento_grupal',J),a('#modal_v2_edit_groupal_tracking').fadeIn(300)})}function m(J,K){var L=n('.puntuacion_riesgo_individual'),M=a('.comentarios_individual').find('textarea').val();var N=n('.puntuacion_riesgo_familiar'),O=a('.comentarios_familiar').find('textarea').val(),P=n('.puntuacion_riesgo_academico'),Q=a('.comentarios_academico').find('textarea').val(),R=n('.puntuacion_riesgo_economico'),S=a('.comentarios_economico').find('textarea').val(),T=n('.puntuacion_vida_uni'),U=a('.comentarios_vida_uni').find('textarea').val();if('3'==L||'3'==N||'3'==P||'3'==R||'3'==T){var V={'function':'send_email_dphpforms',student_code:K,risks:[{name:'Individual',risk_lvl:L,observation:M},{name:'Familiar',risk_lvl:N,observation:O},{name:'Acad\xE9mico',risk_lvl:P,observation:Q},{name:'Econ\xF3mico',risk_lvl:R,observation:S},{name:'Vida Universitaria',risk_lvl:T,observation:U}],date:a('.fecha').find('input').val(),url:window.location.href};a.ajax({type:'POST',data:JSON.stringify(V),url:'../managers/pilos_tracking/send_risk_email.php',success:function success(W){console.log(W)},dataType:'text',cache:'false',error:function error(W){console.log(W)}})}}function n(J){var K=0;return a(J).find('.opcionesRadio').find('div').each(function(){a(this).find('label').find('input').is(':checked')&&(K=a(this).find('label').find('input').val())}),K}function o(J){a('#general_rev_pro').html('*'),a('#general_rev_prac').html('*'),a('#general_not_rev_pro').html('*'),a('#general_not_rev_prac').html('*'),a('#general_pro_t').html('*'),a('#general_prac_t').html('*'),a('#general_in_rev_pro').html('*'),a('#general_in_rev_prac').html('*'),a('#general_in_not_rev_pro').html('*'),a('#general_in_not_rev_prac').html('*'),a('#general_in_pro_t').html('*'),a('#general_in_prac_t').html('*'),a.ajax({type:'POST',data:{type:'user_specific_counting',user:J,instance:B()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!0,dataType:'json',cache:'false',success:function success(K){a('#general_rev_pro').html(K.revisado_profesional),a('#general_rev_prac').html(K.revisado_practicante),a('#general_not_rev_pro').html(K.not_revisado_profesional),a('#general_not_rev_prac').html(K.not_revisado_practicante),a('#general_pro_t').html(K.total_profesional),a('#general_prac_t').html(K.total_practicante),a('#general_in_rev_pro').html(K.in_revisado_profesional),a('#general_in_rev_prac').html(K.in_revisado_practicante),a('#general_in_not_rev_pro').html(K.in_not_revisado_profesional),a('#general_in_not_rev_prac').html(K.in_not_revisado_practicante),a('#general_in_pro_t').html(K.in_total_profesional),a('#general_in_prac_t').html(K.in_total_practicante)},error:function error(){}})}function p(J){a.ajax({type:'POST',data:{students:J,type:'consult_students_name'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(K){if(''!=K){a('#modal_v2_edit_groupal_tracking').find('#students').remove(),a('#modal_v2_edit_groupal_tracking').find('form').find('h1').after('<hr style="border-color:red"><div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 estudiantes" id="students"><h3>Estudiantes asistentes:</h3><br>'+K+'<br>')}},dataType:'text',cache:'false',error:function error(){alert('Error al consultar nombres de los estudiantes pertenecientes a un seguimiento grupal')}})}function q(J,K){a('#body_editor').html(''),a('#modal_v2_edit_groupal_tracking').find('#body_editor').html(''),a.get('../managers/dphpforms/dphpforms_forms_core.php?form_id=&record_id='+K,function(L){if('seguimiento_grupal'==J){a('#modal_v2_edit_groupal_tracking').find('#body_editor').append(L),a('#modal_v2_edit_groupal_tracking').find('.btn-dphpforms-univalle').remove();var M=a('#modal_v2_edit_groupal_tracking').find('form').find('.oculto.id_estudiante').find('input').val();p(M)}else{a('#body_editor').append(L),a('.dphpforms.dphpforms-record.dphpforms-updater').append('<br><br><div class="div-observation col-xs-12 col-sm-12 col-md-12 col-lg-12 comentarios_vida_uni">Observaciones de Practicante/profesional:<br> <textarea id="observation_text" class="form-control " name="observation_text" maxlength="5000"></textarea><br><a id="send_observation" class="btn btn-sm btn-danger btn-dphpforms-univalle btn-dphpforms-send-observation">Enviar observaci\xF3n</a></div>'),a('button.btn.btn-sm.btn-danger.btn-dphpforms-univalle').attr('id','button');var N=L.indexOf('seguimiento_de_pares_');-1!=N&&j('seguimiento_pares','update');var O=L.indexOf('inasistencia');-1!=O&&j('inasistencia','update')}a('#permissions_informationr').html('');var P=a('.dphpforms-record').find('.revisado_profesional').find('.checkbox').find('input[type=checkbox]').prop('checked'),Q=a('.dphpforms-record').find('.revisado_practicante').find('.checkbox').find('input[type=checkbox]').prop('checked');P&&a('.dphpforms-record').find('.btn-dphpforms-delete-record').remove();for(var R=JSON.parse(a('#permissions_information').text()),S=0;S<R.behaviors_permissions.length;S++){for(var W,T=R.behaviors_permissions[S].behaviors[0],U=T.behaviors_accessibility,V=0;V<U.length;V++)W=U[V].disabled,'true'==W?W=!0:'false'==W&&(W=!1),a('.dphpforms-record').find('#'+U[V].id).prop('disabled',W),a('.dphpforms-record').find('.'+U[V]['class']).prop('disabled',W);for(var X=T.behaviors_fields_to_remove,V=0;V<X.length;V++)a('.dphpforms-record').find('#'+X[V].id).remove(),a('.dphpforms-record').find('.'+X[V]['class']).remove();for(var Y=T.limpiar_to_eliminate,V=0;V<Y.length;V++)a('.dphpforms-record').find('.'+Y[V]['class']+'.limpiar ').remove()}a('#permissions_informationr').html('')})}function r(){a('a[class*="practicant"]').click(function(){var L=a(this).data('username');if(-1==C.indexOf(L))C.push(L);else return;var J=a(this).attr('href').split('#practicant')[1],K=a(this).attr('href');a.ajax({type:'POST',data:{type:'get_practicants_of_professional',practicant_code:J,instance:B()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!0,dataType:'json',cache:'false',success:function success(M){a(K+' > div').empty(),a(K+' > div').append(M.render);M.counting;h(J,I,parseInt(B()),!1),s(),t()},error:function error(){swal({title:'Oops !',text:'Se present\xF3 un inconveniente con el practicante seleccionado.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function s(){a('a[class*="monitor"]').click(function(){var L=a(this).data('username');if(-1==C.indexOf(L))C.push(L);else return;var J=a(this).attr('href').split('#monitor')[1],K=a(this).attr('href');a.ajax({type:'POST',data:{type:'get_monitors_of_practicant',monitor_code:J,instance:B()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!0,dataType:'json',cache:'false',success:function success(M){a(K+' > div').empty(),a(K+' > div').append(M),h(J,I,parseInt(B()),!0),u(),t()},error:function error(){swal({title:'Oops !',text:'Se present\xF3 un inconveniente con el monitor seleccionado.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function t(){a('a[class*="groupal"]').click(function(){var J=a(this).attr('href').split('#groupal')[1],K=a(this).attr('href');a.ajax({type:'POST',data:{type:'get_groupal_trackings',student_code:J,instance:B()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(L){a(K+' > div').empty(),a(K+' > div').append(L),l()},dataType:'json',cache:'false',error:function error(){swal({title:'Oops !',text:'Se present\xF3 un inconveniente con los seguimientos grupales seleccionados.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function u(){a('a[class*="student"]').click(function(){var L=a(this).data('username');if(-1==C.indexOf(L))C.push(L);else return;var J=a(this).attr('href').split('#student')[1],K=a(this).attr('href');a.ajax({type:'POST',data:{type:'get_student_trackings',student_code:J,instance:B()},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(M){a(K+' > div').empty(),a(K+' > div').append(M),k(),l()},dataType:'json',cache:'false',error:function error(){swal({title:'Oops !',text:'Se present\xF3 un inconveniente con el estudiante seleccionado.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})}),a('.see_history').unbind().click(function(){var K=a(this).parents().eq(3).attr('href').split('#monitor')[1];a.ajax({type:'POST',data:{type:'redirect_tracking_time_control',monitor:K},url:'../managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(L){var M=window.location.href,N=M.replace('report_trackings','tracking_time_control');try{var O=window.open(N+'&&monitorid='+L,'_blank');O&&O.focus()}catch(P){alert('Se ha producido un error al abrir la ventana : '+P)}},dataType:'json',cache:'false',error:function error(){swal({title:'Oops !',text:'Se present\xF3 un inconveniente al reedirecionar al reporte de horas.',html:!0,type:'warning',confirmButtonColor:'#d51b23'})}})})}function v(J,K,L){a('#periodos').change(function(){if('sistemas'!=H){var M=a('#periodos').val(),N=E;a.ajax({type:'POST',data:{id_persona:N,id_semestre:M,instance:J,otro:!0,type:'consulta_sistemas'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',dataType:'text',cache:'false',success:function success(O){''==O?a('#reemplazarToogle').html('<label> No se encontraron registros </label>'):(a('#reemplazarToogle').html(O),u(),s(),r(),t()),a('.well.col-md-10.col-md-offset-1.reporte-seguimiento.oculto').slideDown('slow'),h(L,M,parseInt(B()),!1)},error:function error(){swal('ERROR!','Oops!, Se present\xF3 un error al consultar seguimientos de personas','error')}}),k(),l()}})}function w(J){a('#personas').val('').change(),a('#personas').select2({placeholder:'Seleccionar persona',language:{noResults:function noResults(){return'No hay resultado'},searching:function searching(){return'Buscando..'}}}),a('#periodos').select2({language:{noResults:function noResults(){return'No hay resultado'},searching:function searching(){return'Buscando..'}}}),A(J,H),a('#consultar_persona').on('click',function(){var K=a('#personas').children(':selected').attr('value'),L=a('#periodos').children(':selected').attr('value'),M=a('#personas').children(':selected').data('username');if(K==void 0)swal({title:'Debe escoger una persona para realizar la consulta',html:!0,type:'warning',confirmButtonColor:'#d51b23'});else{a('.well.col-md-10.col-md-offset-1.reporte-seguimiento.oculto').show(),a('.se-pre-con').show(),a('#reemplazarToogle').hide();a.ajax({type:'POST',data:{id_persona:K,id_semestre:L,instance:B(),type:'consulta_sistemas'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',dataType:'text',cache:'false',success:function success(O){''==O?a('#reemplazarToogle').html('<label> No se encontraron registros </label>'):(a('#reemplazarToogle').html(O),a('input[name=practicante]').prop('disabled',!0),a('input[name=profesional]').prop('disabled',!0)),o(K),u(),s(),r(),t(),a('.well.col-md-10.col-md-offset-1.reporte-seguimiento.oculto').slideDown('slow'),h(M,L,parseInt(B()),!1)},error:function error(){swal('ERROR!','Oops!, Se present\xF3 un error al cargar seguimientos de personas','error')},complete:function complete(){a('.se-pre-con').hide(),a('#reemplazarToogle').fadeIn()}}),k(),l()}})}function y(J){a('body').on('click','#send_observation',function(){var K=a('form').serializeArray(),L={};a(K).each(function(V,W){L[W.name]=W.value});var M=L.id_registro,N=a('#observation_text');if(''==N.val())swal({title:'Para enviar una observaci\xF3n debe llenar el campo correspondiente',html:!0,type:'error',confirmButtonColor:'#d51b23'});else{var O='individual',P=a('.id_creado_por').find('input').val();''==P&&(P=a('.in_id_creado_por').find('input').val(),O='individual_inasistencia');var Q=a('.fecha').find('input').val();''==Q&&(Q=a('.in_fecha').find('input').val());var R=N.val(),S=a('#periodos').val(),T=a('.lugar').find('input').val();''==T&&(T=a('.in_lugar').find('input').val());a.ajax({type:'POST',data:{id_tracking:M,type:'send_email_to_user',form:'new_form',tracking_type:O,monitor_code:P,date:Q,message_to_send:R,semester:S,instance:J,place:T},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(V){'Error'==V?(console.log('mensaje error : '),console.log(V),swal({title:'error al enviar el correo al monitor',html:!0,type:'error',confirmButtonColor:'#d51b23'})):(swal({title:'Correo enviado',html:!0,type:'success',confirmButtonColor:'#d51b23'}),N.val(''))},dataType:'text',cache:'false',error:function error(V){console.log('mensaje error : '),console.log(V),swal('ERROR!','Oops!, Se present\xF3 un error al enviar el correo','error')}})}})}function A(J,K){a('#periodos').change(function(){var L=a('#periodos').val();a.ajax({type:'POST',data:{id:L,instance:J,type:'update_people'},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(M){if(a('#personas').empty(),a('#personas').select2({placeholder:'Seleccionar persona',language:{noResults:function noResults(){return'No hay resultado'},searching:function searching(){return'Buscando..'}}}),'sistemas'==K){a('#personas').attr('selectedIndex','-1').find('option:selected').removeAttr('selected'),a('#personas').append('<option value="">Seleccionar persona</option>'+M)}},dataType:'text',cache:'false',error:function error(){swal('ERROR!','Oops!, Se present\xF3 un error al cargar personas','error')}})})}function B(){for(var L,J=window.location.search.split('&'),K=0;K<J.length;K++)if(L=J[K].split('='),'?instanceid'==L[0]||'instanceid'==L[0])var M=L[1];return M}var C=[],D=0,E=0,F='',G='',H='',I=parseInt(a('#current_ases_semester').data('info'));a(document).on('click','.btn-dphpforms-close',function(){a(this).closest('div[class="mymodal"]').fadeOut(300)}),a('.outside').click(function(){var J=a(this);swal({title:'Confirmaci\xF3n de salida',text:'',type:'warning',showCancelButton:!0,confirmButtonText:'Salir'},function(K){K&&a(J).parent('.mymodal').fadeOut(300)})}),a(document).ready(function(){a('.se-pre-con').fadeOut('slow'),a('#reemplazarToogle').fadeIn('slow');var K='';a.ajax({type:'POST',data:{type:'getInfo',instance:B()},url:'../../../blocks/ases/managers/pilos_tracking/pilos_tracking_report.php',async:!1,success:function success(L){$data=a.parseJSON(L),F=$data.username,K=$data.username,E=$data.id,G=$data.email,D=$data.rol,H=$data.name_rol},dataType:'text',cache:'false',error:function error(){swal({title:'error al obtener informaci\xF3n del usuario, getInfo.',html:!0,type:'error',confirmButtonColor:'#d51b23'})}}),F='';var J=[];J.id=E,J.name=F,J.namerol=H,o(J),'practicante_ps'==H?(h(K,I,parseInt(B()),!1),v(B(),J,K),y(B())):'profesional_ps'==H?(h(K,I,parseInt(B()),!1),v(B(),J,K),y(B())):'monitor_ps'==H?(h(K,I,parseInt(B()),!0),v(B(),J,K),y(B())):'sistemas'==H&&(w(B()),y(B()))});a(document).on('click','.dphpforms > #button',function(J){J.preventDefault(),a(':disabled').prop('disabled',!1);var K=new FormData,L=a(this).parent(),M=L.attr('action');'procesador.php'==L.attr('action')&&(M='../managers/dphpforms/procesador.php');var N=L.find('.id_estudiante').find('input').val();a.ajax({type:'POST',url:M,data:a('form.dphpforms').serialize(),dataType:'json',success:function success(O){var P=O;if(0==P.status){a.get('../managers/pilos_tracking/api_pilos_tracking.php?function=update_last_user_risk&arg='+N+'&rid=-1',function(U){console.log(U)});var Q='';'Stored'==P.message?Q='Almacenado':'Updated'==P.message&&(Q='Actualizado'),m(!1,N),swal({title:'Informaci\xF3n',text:Q,type:'success'},function(){if('Updated'==P.message){a('#dphpforms-peer-record-'+a('#dphpforms_record_id').val()).stop().animate({backgroundColor:'rgb(175, 255, 173)'},400).animate({backgroundColor:'#f5f5f5'},4e3);var U=a('#dphpforms-peer-record-'+a('#dphpforms_record_id').val()).parent().parent().data('asesid');console.log(U);for(var V=0;V<C.length;V++)C[V]===U&&C.splice(V,1);a('a[data-username=\''+U+'\']').trigger('click')}}),a('.dphpforms-response').trigger('reset'),a('#modal_v2_edit_peer_tracking').fadeOut(300),a('#modal_v2_peer_tracking').fadeOut(300),a(L).find('button').prop('disabled',!1),a(L).find('a').attr('disabled',!1)}else if(-5==P.status){a(L).find('button').prop('disabled',!1),a(L).find('a').attr('disabled',!1);var Q='';if('The field is static and can not be changed'==P.message){var R=P.data;a('div').removeClass('regla_incumplida'),a('.div-'+R).addClass('regla_incumplida'),Q='Ups!, el campo marcado en rojo est\xE1 definido como est\xE1tico y por lo tanto debe mantener el mismo valor, si no logra ver el campo marcado en rojo informe de este incidente.'}swal('Alerta',Q,'warning')}else if(-4==P.status){a(L).find('button').prop('disabled',!1),a(L).find('a').attr('disabled',!1);var Q='';if('Field does not match with the regular expression'==P.message){var R=P.data.id;a('div').removeClass('regla_incumplida'),a('.div-'+R).addClass('regla_incumplida'),Q='Ups!, el campo marcado en rojo no cumple con el patr\xF3n esperado('+P.data.human_readable+'). Ejemplo: '+P.data.example}swal('Alerta',Q,'warning')}else if(-3==P.status){a(L).find('button').prop('disabled',!1),a(L).find('a').attr('disabled',!1);var Q='';if('Field cannot be null'==P.message){var R=P.data;a('div').removeClass('regla_incumplida'),a('.div-'+R).addClass('regla_incumplida'),Q='Ups!, los campos que se acaban de colorear en rojo no pueden estar vac\xEDos, si no logra ver ning\xFAn campo, informe de este incidente.'}swal('Alerta',Q,'warning')}else if(-2==P.status){a(L).find('button').prop('disabled',!1),a(L).find('a').attr('disabled',!1);var Q='';if('Without changes'==P.message)Q='No hay cambios que registrar',a('#modal_v2_edit_peer_tracking').fadeOut(300),a('#modal_v2_peer_tracking').fadeOut(300),a('#modal_primer_acercamiento').fadeOut(300),a('#modal_seguimiento_geografico').fadeOut(300);else if('Unfulfilled rules'==P.message){var S=P.data.id_form_pregunta_a,T=P.data.id_form_pregunta_b;a('div').removeClass('regla_incumplida'),a('.div-'+S).addClass('regla_incumplida'),a('.div-'+T).addClass('regla_incumplida'),Q='Ups!, revise los campos que se acaban de colorear en rojo.'}swal('Alerta',Q,'warning')}else-1==P.status&&(console.log(O),swal('ERROR!','Ups!, informe de este error','error'))},error:function error(){swal('Error!','Ups!, informe de este error','error')}})}),a('.mymodal-close').click(function(){a(this).parent().parent().parent().parent().fadeOut(300)}),u(),s(),r(),t()}}});