'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};define(['jquery','block_ases/jszip','block_ases/jquery.dataTables','block_ases/dataTables.autoFill','block_ases/dataTables.buttons','block_ases/buttons.html5','block_ases/buttons.flash','block_ases/buttons.print','block_ases/bootstrap','block_ases/sweetalert','block_ases/jqueryui','block_ases/select2'],function(a,b){return{init:function init(){function n(t,u){a.ajax({type:'POST',data:{loadF:'get_like',cadena:t,atributo:u},url:'../managers/dphpforms/dphpforms_dwarehouse_api.php',success:function success(w){if(0===w.length)swal('ATTRIBUTE NOT FOUND','Oooops! Zero results','warning');else{a('#div_table_forms').empty(),a('#div_table_forms').append('<table id="tableBackupForms" class="display" cellspacing="0" width="100%"><thead><thead></table>');a('#tableBackupForms').DataTable(w);a('#div_table_forms').css('cursor','pointer')}},cache:!1,async:!0,failure:function failure(){alert('No encontrado')}})}function o(t,u){var w=[];w.push(t),w.push(u),a.ajax({type:'POST',data:{loadF:'get_id_user',params:w},url:'../managers/dphpforms/dphpforms_dwarehouse_api.php',success:function success(x){0===x.length?swal('USER NOT FOUND','Oooops! Incorrect code','warning'):(a('#div_code_user').empty(),a('#div_code_user').append('<strong>Usuario: </strong>'+x[0].cod_user),a('#div_name_user').empty(),a('#div_name_user').append('<strong>Nombre: </strong>'+x[0].name_user))},cache:!1,async:!0,failure:function failure(){alert('No encontrado')}})}function p(t){a.ajax({type:'POST',data:{loadF:'get_values',params:t},url:'../managers/dphpforms/dphpforms_dwarehouse_api.php',success:function success(u){if(0===u.length)swal('QUESTION NOT FOUND','Oooops! Incorrect code','warning');else{opciones=u[0].options_c,tipo_campo=u[0].tipo_campo;var w='"respuesta":"MODIFIQUE ESTE VALOR","opciones":"'+opciones+'","tipo_campo":"'+tipo_campo+'","id_pregunta":"'+a('#typekey_select').val()+'"';a('#filtroLike').val(w)}},cache:!1,async:!0,failure:function failure(){alert('No encontrado')}})}function q(t){a.ajax({type:'POST',data:{loadF:'get_form',params:t},url:'../managers/dphpforms/dphpforms_dwarehouse_api.php',dataType:'json',cache:!1,async:!0,success:function success(u){''!=u[t].datos_previos&&(u[t].datos_previos=JSON.parse(u[t].datos_previos)),''!=u[t].datos_enviados&&(u[t].datos_enviados=JSON.parse(u[t].datos_enviados)),''!=u[t].datos_almacenados&&(u[t].datos_almacenados=JSON.parse(u[t].datos_almacenados)),r(u)},failure:function failure(){}})}function r(t){a('#div_JSONform').empty();var u=JSON.stringify(t);a('#div_JSONform').append(u),a('#div_JSONform').beautifyJSON({type:'flexible',hoverable:!0,collapsible:!0,color:!0}),a('#modal_JSON').fadeIn(300)}window.JSZip=b,a(document).ready(function(){a.ajax({type:'POST',data:{loadF:'loadForms'},url:'../managers/dphpforms/dphpforms_dwarehouse_api.php',success:function success(t){a('#div_table_forms').empty(),a('#div_table_forms').append('<table id="tableBackupForms" class="display" cellspacing="0" width="100%"><thead><thead></table>');a('#tableBackupForms').DataTable(t);a('#div_table_forms').css('cursor','pointer')},dataType:'json',cache:!1,async:!0,failure:function failure(){}})}),a(document).on('click','#tableBackupForms tbody tr td',function(){var t='';t=a(this).parents('tr').find('td:first').html(),q(t)}),a('#generarFiltro').on('click',function(){var t=document.getElementById('filtroCodigoUsuario').value,u=document.getElementById('selectTable').value;o(t,u)}),a('#load_like').on('click',function(){var t=document.getElementById('typecolumn_select').value,u=document.getElementById('filtroLike').value;n(u,t)}),a('#typecolumn_select').on('click',function(){'datos_previos'==a('#typecolumn_select').val()||'datos_enviados'==a('#typecolumn_select').val()||'datos_almacenados'==a('#typecolumn_select').val()?a('#typekey_select').parent().parent().show():a('#typekey_select').parent().parent().hide()}),a('#typekey_select').on('click',function(){if('datos_enviados'==a('#typecolumn_select').val()){var t='"id":"'+a(this).val()+'","valor":"MODIFIQUE ESTE VALOR"';a('#filtroLike').val(t)}('datos_previos'==a('#typecolumn_select').val()||'datos_almacenados'==a('#typecolumn_select').val())&&p(a(this).val())}),a('.outside').click(function(){var t=a(this);swal({title:'Confirmaci\xF3n de salida',text:'',type:'warning',showCancelButton:!0,confirmButtonText:'Salir'},function(u){u&&(a(t).parent('.mymodal').fadeOut(300),console.log(a(this).parent('.mymodal')))})}),function(t){t.fn.beautifyJSON=function(u){var x=jQuery.extend({},{type:'strict',hoverable:!0,collapsible:!0,color:!0},u);this.each(function(){if('plain'==x.type){var J=function(O){var P=O.pop();return O.push(P),P},y='&ensp;&ensp;&ensp;',z=[],A='',B=this.innerHTML,C=B.split('"').map(function(O,P){return P%2?O:O.replace(/\s/g,'')}).join('"'),D='';for(i=0;i<B.length;i++)if('{'==B.charAt(i))z.push(B.charAt(i)),D+=B.charAt(i)+'<br>',A+=y,D+=A;else if('"'==B.charAt(i)&&'"'!=J(z))D+=B.charAt(i),z.push(B.charAt(i));else if('['==B.charAt(i)&&']'==B.charAt(i+1))z.push(B.charAt(i)),D+=B.charAt(i),A+=y;else if('['==B.charAt(i))z.push(B.charAt(i)),D+=B.charAt(i)+'<br>',A+=y,D+=A;else if(']'==B.charAt(i))A=A.substring(0,A.length-18),D+='<br>'+A,D+=B.charAt(i),z.pop();else if('}'==B.charAt(i))A=A.substring(0,A.length-18),D+='<br>'+A+B.charAt(i),z.pop(),0!=z.length&&'['!=J(z)&&'{'!=J(z)&&(D+=A);else if('"'==B.charAt(i)&&'"'==J(z))D+=B.charAt(i),z.pop();else if(','==B.charAt(i)&&'"'!=J(z))D+=B.charAt(i)+'<br>',D+=A;else if('\n'==B.charAt(i));else if(' '==B.charAt(i)&&'"'!=J(z));else D+=B.charAt(i);this.innerHTML=D}else if('flexible'==x.type){var K=function(O){var P=O.pop();return O.push(P),P},z=[],E=[],B=this.innerHTML,D='';if(x.collapsible)var F='<span class=\'ellipsis\'></span><div class=\'collapser\'></div><ul class=\'array collapsible\'>';else var F='<div></div><ul class=\'array\'>';if(x.hoverable)var G='<div class=\'hoverable\'>';else var G='<div>';for(D+='<div id=\'json\'>',E.push('</div>'),i=0;i<B.length;i++)if('{'==B.charAt(i))z.push(B.charAt(i)),D+=B.charAt(i),D+=F,E.push('</ul>'),D+='<li>'+G,E.push('</div></li>');else if('"'==B.charAt(i)&&'"'!=K(z))D+=B.charAt(i),z.push(B.charAt(i));else if('['==B.charAt(i)&&']'==B.charAt(i+1))z.push(B.charAt(i)),D+=B.charAt(i),D+=F,E.push('</ul>'),D+='<li>'+G,E.push('</div></li>');else if('['==B.charAt(i))z.push(B.charAt(i)),D+=B.charAt(i),D+=F,E.push('</ul>'),D+='<li>'+G,E.push('</div></li>');else if(']'==B.charAt(i))D+=E.pop()+E.pop(),D+=B.charAt(i),z.pop();else if('}'==B.charAt(i))D+=E.pop()+E.pop(),D+=B.charAt(i),z.pop(),0!=z.length&&'['!=K(z)&&'{'!=K(z)&&(D+=E.pop());else if('"'==B.charAt(i)&&'"'==K(z))D+=B.charAt(i),z.pop();else if(','==B.charAt(i)&&'"'!=K(z))D+=B.charAt(i),D+=E.pop(),D+='<li>'+G,E.push('</div></li>');else if('\n'==B.charAt(i));else if(' '==B.charAt(i)&&'"'!=K(z));else D+=B.charAt(i);this.innerHTML=D}else{var M=function(O){t.each(O,function(P,Q){null==Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-null\'>'+Q+'</span></div></li>':Q instanceof Array?(D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: ['+F,E.push('</li>'),E.push('</div>'),E.push('</ul>'),N(Q)):'object'==('undefined'==typeof Q?'undefined':_typeof(Q))?(D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: {'+H,E.push('</li>'),E.push('</div>'),E.push('</ul>'),M(Q)):'number'==typeof Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-number\'>'+Q+'</span></div></li>':'string'==typeof Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-string\'>"'+Q+'"</span></div></li>':'boolean'==typeof Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-boolean\'>'+Q+'</span></div></li>':D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: '+Q+'</div></li>'}),D+=E.pop()+'}'+E.pop()+E.pop()},N=function(O){t.each(O,function(P,Q){null==Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-null\'>'+Q+'</span></div></li>':Q instanceof Array?(D+='<li>'+G+'['+F,E.push('</li>'),E.push('</div>'),E.push('</ul>'),N(Q)):'object'==('undefined'==typeof Q?'undefined':_typeof(Q))?(D+='<li>'+G+'{'+H,E.push('</li>'),E.push('</div>'),E.push('</ul>'),M(Q)):'number'==typeof Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-number\'>'+Q+'</span></div></li>':'string'==typeof Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-string\'>"'+Q+'"</span></div></li>':'boolean'==typeof Q?D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: <span class=\'type-boolean\'>'+Q+'</span></div></li>':D+='<li>'+G+'<span class=\'property\'>'+P+'</span>: '+Q+'</div></li>'}),D+=E.pop()+']'+E.pop()+E.pop()},D='',E=[];if(x.collapsible)var F='<span class=\'ellipsis\'></span><div class=\'collapser\'></div><ul class=\'array collapsible\'>',H='<span class=\'ellipsis\'></span><div class=\'collapser\'></div><ul class=\'obj collapsible\'>';else var F='<div></div><ul class=\'array\'>',H='<div></div><ul class=\'obj\'>';if(x.hoverable)var G='<div class=\'hoverable\'>';else var G='<div>';var B=this.innerHTML,I=jQuery.parseJSON(B);D='',D+='<div id=\'json\'>',D+=G+'{'+H,E.push(''),E.push('</div>'),E.push('</ul>'),M(I),D+='</ul></div></div>',this.innerHTML=D}t('.hoverable').hover(function(O){O.stopPropagation(),t('.hoverable').removeClass('hovered'),t(this).addClass('hovered')},function(O){O.stopPropagation(),t(this).addClass('hovered')}),t('.collapser').off().click(function(){t(this).parent('.hoverable').toggleClass('collapsed')})})}}(jQuery),a('.mymodal-close').click(function(){a('#modal_JSON').hide()}),a('.btn-danger-close').click(function(){a('#modal_JSON').hide()})}}});