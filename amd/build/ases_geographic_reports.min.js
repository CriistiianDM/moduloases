define ("block_ases/ases_geographic_reports",["jquery","block_ases/jszip"],function(a,b){return{init:function init(){window.JSZip=b;c();a("#heat_map").on("change",function(){if(window.heatmap){window.heatmap.setMap(heatmap.getMap()?null:window.map)}else{e()}});a("#markers_map").on("change",function(){if(window.markers){for(var a in window.markers){window.markers[a].setMap(window.markers[a].getMap()?null:window.map)}}else{f()}});a("#conditions").on("change",function(){c()})}};function c(){a.ajax({type:"POST",data:{type:"mapa",cohort:a("#conditions").val(),instance_id:g()},url:"../managers/ases_report/asesreport_graphics_processing.php",success:function success(a){d(a)},dataType:"json",cache:!1,async:!0,failure:function failure(){}})}function d(a){if(!window.map){var b=new google.maps.LatLng(3.4247198,-76.5259052);window.map=new google.maps.Map(document.getElementById("map-canvas"),{center:b,zoom:12})}var c=[],d=[],g,h;for(var i in a){g=+a[i].latitude;h=+a[i].longitude;c.push(new google.maps.LatLng(g,h));d.push(a[i].cohorte)}window.puntosMapa=c;window.cohortes=d;e(c);f(c)}function e(){if(window.heatmap){window.heatmap.setMap(null)}if(a("#heat_map").is(":checked")){window.heatmap=new google.maps.visualization.HeatmapLayer({data:window.puntosMapa,map:map,opacity:1,maxIntensity:10})}}function f(){if(window.markers){for(var b in window.markers){window.markers[b].setMap(null)}}if(a("#markers_map").is(":checked")){window.markers=[];var c,d;for(var b in window.puntosMapa){switch(window.cohortes[b]){case"SPP":d="blue";break;case"SPE":d="green";break;case"SPT":d="red";break;case"3740":d="purple";break;case"Otros":d="orange";break;}c={url:"https://raw.githubusercontent.com/Concept211/Google-Maps-Markers/master/images/marker_"+d+".png",scaledSize:new google.maps.Size(11,20)};window.markers.push(new google.maps.Marker({position:window.puntosMapa[b],map:map,icon:c,title:window.cohortes[b]}))}}}function g(){var a=location.search.split("&");for(x in a){if(0<=a[x].indexOf("instanceid")){var b=a[x].split("=");return b[1]}}return 0}});
//# sourceMappingURL=ases_geographic_reports.min.js.map
