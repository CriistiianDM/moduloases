define ("block_ases/tracking_time_control_main",["jquery","block_ases/bootstrap","block_ases/datatables","block_ases/sweetalert","block_ases/select2","block_ases/jqueryui","block_ases/moment"],function(a){return{init:function init(){a(document).ready(function(){a("#table_hours").DataTable();a(".period_date").datepicker({dateFormat:"yy-mm-dd"});d();a("#consult").click(function(){var c=a("#beginning_date").val(),e=a("#ending_date").val(),f=b(c,e);if("success"!=f){swal({title:"Advertencia",text:f,type:"warning",html:!0})}else{d(c,e)}})});function b(a,b){var c=/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/,d=c.exec(a),e=c.exec(b);if(""==a&&""==b){return"Debe llenar todos los campos"}else if(""==a||""==b){return"Debe introducir la fecha de inicio y fin del per\xEDodo"}else if(null===d){return"La fecha de inicio no sigue el patr\xF3n yyyy-mm-dd. Ejemplo: 2017-10-20"}else if(null===e){return"La fecha de fin no sigue el patr\xF3n yyyy-mm-dd. Ejemplo: 2017-10-20"}else if(a==b){return"La fecha de inicio y de fin deben ser diferentes"}else{return"success"}}function c(b,c){var d=0;a("#"+b+" tbody tr").not(":first").each(function(){var b=a(this).find("td:eq("+c+")");if(null!=b.val())d+=parseFloat(b.html().replace(",","."))});a("#"+b+" tfoot tr").find("td:eq("+c+")").html(d.toFixed(2).toString().replace(".",","))}function d(b,d){var e=window.location.href,f=e.split("monitorid=");if(b===void 0){b=0}if(d===void 0){d=0}a.ajax({type:"POST",url:"../managers/tracking_time_control/load_hours_report.php",data:{initial_hour:b,final_hour:d,monitorid:f[1]},success:function success(b){if(""==b){a("#div_hours").empty();a("#div_hours").append("<h2>No existen registros de seguimientos en el dia de hoy</h2>")}else{a("#div_hours").empty();a("#div_hours").append("<table id=\"tableHours\"  class=\"display\" cellspacing=\"0\" width=\"100%\" ><thead><thead><tfoot id=\"hours_foot\"></tfoot></table>");a("#tableHours").DataTable(b);a("#hours_foot").append(" <tr><td><strong>Total : </strong></td><td id=\"total_hour\"></td><td></td></tr>");c("tableHours",1);c("tableHours",2);a("#div_hours #show_details").css("cursor","pointer")}},dataType:"json",cache:"false",error:function error(){alert("Error al cargar horas trabajadas")}})}}}});
//# sourceMappingURL=tracking_time_control_main.min.js.map
