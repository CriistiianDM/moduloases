define(["jquery","block_ases/bootstrap","block_ases/datatables.net","block_ases/datatables.net-buttons","block_ases/buttons.flash","block_ases/jszip","block_ases/pdfmake","block_ases/buttons.html5","block_ases/buttons.print","block_ases/sweetalert","block_ases/select2","block_ases/jqueryui","block_ases/moment"],function(e,a,s,t,o,n,l,i,r,c,d,u,b){return{init:function(){function a(e,a){var s=/^\d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])$/,t=s.exec(e),o=s.exec(a);return""==e&&""==a?"Debe llenar todos los campos":""==e||""==a?"Debe introducir la fecha de inicio y fin del período":null===t?"La fecha de inicio no sigue el patrón yyyy-mm-dd. Ejemplo: 2017-10-20":null===o?"La fecha de fin no sigue el patrón yyyy-mm-dd. Ejemplo: 2017-10-20":e==a?"La fecha de inicio y de fin deben ser diferentes":"success"}function s(a,s){console.log(a+" : "+s),e.ajax({type:"POST",url:"../managers/tracking_time_control/load_hours_report.php",data:{initial_hour:a,final_hour:s},success:function(a){if(console.log(a),""==a)e("#div_hours").empty(),e("#div_hours").append("<h2>No existen registros de seguimientos en el dia de hoy</h2>");else{e("#div_hours").empty(),e("#div_hours").append('<table id="tableHours"  class="display" cellspacing="0" width="100%" ><thead><thead></table>');e("#tableHours").DataTable(a);e("#div_hours #show_details").css("cursor","pointer")}},dataType:"json",cache:"false",error:function(e){alert("Error al cargar horas trabajadas")}})}e(document).ready(function(){e("#table_hours").DataTable(),e(".period_date").datepicker({dateFormat:"yy-mm-dd"}),e("#consult").click(function(){var t=e("#beginning_date").val(),o=e("#ending_date").val(),n=a(t,o);"success"!=n?swal({title:"Advertencia",text:n,type:"warning",html:!0}):s(t,o)})})}}});