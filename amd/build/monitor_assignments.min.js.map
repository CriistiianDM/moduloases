{"version":3,"sources":["../src/monitor_assignments.js"],"names":["define","$","CFG","loading_indicator","csv","asignation_counter","api_url","wwwroot","get_report_monitors_particants_and_students","instance_id","semester_name","data_stringfy","JSON","stringify","function","params","ajax","url","contentType","method","data","get_instance_id","get_semester_name","download_report_monitors_practicants_and_students","show","then","report","csv_string_to_file_for_download","hide","catch","error","console","log","init","click","load_reverse_assignation","role","data_id","type","dataType","success","status_code","data_response","load_assigned_monitors","setTimeout","swal","title","text","failure","errMsg","load_assigned_students","addClass","html","removeClass","animate","scrollTop","position","top","monitor_assignments_monitor_students_relationship","find","elements","i","length","id_monitor","id_estudiante","clone","appendTo","not","reversed","monitor_assignments_practicant_monitor_relationship","id_practicante","keyup","filter_value","val","test","toUpperCase","document","ready","load_counters","trigger","on","attr","e","stopImmediatePropagation","current_item","item","parent","data_item_0","data_item_1","item_type","api_function","name_original_monitor","id_old_monitor","modal","options","each","name","id_new_monitor","append","close","change","user_type","split","filter_type","faculty_id","program_id","boss_id","total","forEach","nombre_usuario_moodle__profesional","codigo_practicante","codigo_monitor","index_id","fullname"],"mappings":"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","sourcesContent":["// Standard license block omitted.\n/*\n * @package    block_ases\n * @copyright  ASES\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n \n /**\n  * @author Jeison Cardona Gómez <jeison.cardona@correounivalle.edu.co>\n  * @author Luis Gerardo Manrique Cardona <luis.manrique@correounivalle.edu.co>\n  * @module block_ases/monitor_assignments\n  */\n\n define([\n     'jquery',\n     'core/config',\n     'block_ases/loading_indicator',\n     'block_ases/csv',\n     'block_ases/bootstrap',\n     'block_ases/sweetalert',\n     'block_ases/jqueryui',\n     'block_ases/select2',\n     'block_ases/jquery.dataTables'\n ], function($, CFG,  loading_indicator, csv, bootstrap, sweetalert, jqueryui, select2) {\n     \n    var asignation_counter = []; \n     \n    var BUTTON_GET_COMPLETE_REPORT_NAME_SELECTOR = '#button-get-complete-report';\n    var GET_COMPLETE_REPORT_NAME_FUNCTION_NAME = 'get_monitor_practicing_and_students_report';\n    var BASE_API_URL = '/blocks/ases/managers/monitor_assignments/monitor_assignments_api.php';\n    var DOWNLOAD_FILE_NAME = \"asignaciones_monitor_con_practicantes.csv\";\n    \n    var api_url = function () {\n      return  CFG.wwwroot+BASE_API_URL;\n    };\n     /**\n      * Return a Promise with a string, than have the report in CSV format\n      * @author Luis Gerardo Manrique Cardona <luis.manrique@correounivalle.edu.co>\n      * @param instance_id\n      * @param semester_name\n      * @returns Promise<string>\n      */\n    var get_report_monitors_particants_and_students = function (instance_id, semester_name) {\n        var data = {\n\n            function: GET_COMPLETE_REPORT_NAME_FUNCTION_NAME,\n            params: {\n                instance_id: instance_id,\n                semester_name: semester_name\n            }\n        };\n      var data_stringfy = JSON.stringify(data);\n      return $.ajax({\n          url: api_url(),\n          contentType: \"application/csv\",\n          method: 'POST',\n          data: data_stringfy\n          }\n      );\n    };\n    var get_instance_id = function () {\n        return $(\"#monitor_assignments_instance_id\").data(\"instance-id\");\n    } ;\n     var get_semester_name = function () {\n         return $(\"#monitor_assignments_instance_id\").data(\"semester-name\");\n     } ;\n     /**\n      * Download the report using tricky dom properties.\n      * The download occurs in the same window, not in a emergent window.\n      * @author Luis Gerardo Manrique Cardona <luis.manrique@correounivalle.edu.co>\n      * @param instance_id\n      * @param semester_name\n      * @returns Promise<string>\n      */\n    var download_report_monitors_practicants_and_students = function (instance_id, semester_name) {\n        loading_indicator.show();\n         get_report_monitors_particants_and_students(instance_id, semester_name)\n             .then( report => {\n                 csv.csv_string_to_file_for_download(report, DOWNLOAD_FILE_NAME);\n                 loading_indicator.hide();\n             })\n             .catch(error => {\n                 loading_indicator.hide();\n                 console.log(error);\n         });\n\n    };\n    return {\n        init: function() {\n            $(BUTTON_GET_COMPLETE_REPORT_NAME_SELECTOR).click(function () {\n                download_report_monitors_practicants_and_students(get_instance_id(), get_semester_name() );\n            });\n\n            function load_reverse_assignation( role, instance_id, data_id ){\n              if( role === \"monitor\" ){\n\n                loading_indicator.show();\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": \"get_current_practicant_by_monitor\", \"params\": [ instance_id, data_id ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        loading_indicator.hide();\n                        if( data.status_code == 0 ){\n\n                            if( data.data_response ){\n                              load_assigned_monitors( instance_id, data.data_response, true );\n                            }else{\n                              setTimeout(function(){\n                                swal(\n                                  {\n                                    title:'Información',\n                                    text: 'El monitor seleccionado no tiene asignado un practicante.',\n                                    type: 'info'\n                                  },\n                                  function(){}\n                                );\n                              }, 0);\n                            }\n\n                            \n                        }else{\n                            console.log( data );\n                        }\n                    },\n                    failure: function(errMsg) {\n                      loading_indicator.hide();\n                      console.log(errMsg);\n                    }\n                });\n\n\n              }else if( role === \"student\" ){\n\n                loading_indicator.show();\n\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": \"get_current_monitor_by_student\", \"params\": [ instance_id, data_id ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        loading_indicator.hide();\n                        if( data.status_code == 0 ){\n\n                            if( data.data_response ){\n                              load_reverse_assignation( \"monitor\", instance_id, data.data_response );\n                              load_assigned_students( instance_id, data.data_response );\n                            }else{\n                              setTimeout(function(){\n                                swal(\n                                  {\n                                    title:'Información',\n                                    text: 'El estudiante seleccionado no tiene asignado un monitor.',\n                                    type: 'info'\n                                  },\n                                  function(){}\n                                );\n                              }, 0);\n                            }\n                            \n                        }else{\n                            console.log( data );\n                        }\n                    },\n                    failure: function(errMsg) {\n                      loading_indicator.hide();\n                      console.log(errMsg);\n                    }\n                });\n\n              }\n            };\n\n\n            /**\n             * \n             * @param {Number} instance_id \n             * @param {Number} data_id monitor identificator\n             */\n            function load_assigned_students( instance_id, data_id ){\n                $(\"#student_assigned\").addClass(\"items_assigned_empty\");\n                $(\"#student_assigned\").html(\"Consultando <span>.</span><span>.</span><span>.</span>\");\n                $(\".student_item\").removeClass(\"oculto-asignado\");\n                $('#student_column').animate({\n                    scrollTop: $('#student_column').scrollTop() + $('#student_assigned').position().top\n                }, 0);\n                loading_indicator.show();\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": \"get_monitors_students_relationship_by_instance\", \"params\": [ instance_id ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        loading_indicator.hide();\n                        if( data.status_code == 0 ){\n\n                            var monitor_assignments_monitor_students_relationship = data.data_response;\n                            $(\".monitor_item\").removeClass(\"active\");\n                            $(\".monitor_item[data-id='\" + data_id + \"']\").addClass(\"active\");\n                            $(\".student_item\").find(\".add\").removeClass(\"oculto-asignar\")\n                            $(\".student_item\").removeClass(\"assigned\");\n                            $(\".student_item\").removeClass(\"not-assigned\");\n                            $(\".student_item\").addClass(\"not-assigned\");\n                            $(\"#student_assigned\").removeClass(\"items_assigned_empty\");\n                            $(\"#student_assigned\").text(\"\");\n                            \n                            var elements = false;\n                            for( var i = 0; i < monitor_assignments_monitor_students_relationship.length; i++ ){\n                                if( monitor_assignments_monitor_students_relationship[i].id_monitor == data_id ){\n\n                                    if( !elements ){\n                                        elements = true;\n                                        $(\"#student_assigned\").removeClass(\"items_assigned_empty\");\n                                    }\n                                    \n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").removeClass(\"not-assigned\");\n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").addClass(\"assigned\");\n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").find(\".add\").addClass(\"oculto-asignar\");\n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").clone().appendTo(\"#student_assigned\");\n\n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").not(\"#student_assigned .student_item\").addClass(\"oculto-asignado\");\n\n                                }else{\n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").find(\".add\").addClass(\"oculto-asignar\");\n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").find(\".delete\").addClass(\"oculto-eliminar\");\n                                    $(\".student_item[data-id='\" + monitor_assignments_monitor_students_relationship[i].id_estudiante + \"']\").addClass(\"oculto-asignado\");\n                                }\n                            }\n\n                            $(\"#student_assigned\").find(\".student_item\").find(\".add\").addClass(\"oculto-asignar\");\n                            $(\"#student_assigned\").find(\".student_item\").find(\".delete\").removeClass(\"oculto-eliminar\");\n\n                            if( !elements ){\n                                $(\"#student_assigned\").addClass(\"items_assigned_empty\");\n                                $(\"#student_assigned\").text(\"No tiene estudiantes asignados.\");\n                            }\n                            \n                        }else{\n                            console.log( data );\n                        }\n                    },\n                    failure: function(errMsg) {\n                        loading_indicator.hide();\n                        console.log(errMsg);\n                    }\n                });\n\n            };\n\n            /**\n             * \n             * @param {Number} instance_id \n             * @param {Number} data_id practicant identificator\n             */\n            function load_assigned_monitors( instance_id, data_id, reversed = false ){\n                loading_indicator.show();\n                $(\"#monitor_assigned\").addClass(\"items_assigned_empty\");\n                $(\"#monitor_assigned\").html(\"Consultando <span>.</span><span>.</span><span>.</span>\");\n                $(\".monitor_item\").removeClass(\"oculto-asignado\");\n                $('#monitor_column').animate({\n                    scrollTop: $('#monitor_column').scrollTop() + $('#monitor_assigned').position().top\n                }, 0);\n\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": \"get_practicant_monitor_relationship_by_instance\", \"params\": [ instance_id ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        loading_indicator.hide();\n                        if( data.status_code == 0 ){\n                            var monitor_assignments_practicant_monitor_relationship = data.data_response;\n                            $(\".practicant_item\").removeClass(\"active\");\n                            $(\".practicant_item[data-id='\" + data_id + \"']\").addClass(\"active\");\n                            $(\".monitor_item\").find(\".add\").removeClass(\"oculto-asignar\")\n                            $(\".monitor_item\").find(\".transfer\").removeClass(\"oculto-tranferir\");\n                            $(\".monitor_item\").removeClass(\"assigned\");\n                            $(\".monitor_item\").removeClass(\"not-assigned\");\n                            $(\".monitor_item\").addClass(\"not-assigned\");\n                            $(\".student_item\").removeClass(\"assigned\");\n                            $(\".student_item\").removeClass(\"not-assigned\");\n                            $(\".student_item\").addClass(\"not-assigned\");\n\n                            if( !reversed ){\n                              $(\"#student_assigned\").text(\"No ha seleccionado un monitor.\");\n                              $(\"#student_assigned\").addClass(\"items_assigned_empty\");\n                            }\n\n                            $(\"#monitor_assigned\").text(\"\");\n                            var elements = false;\n                            for( var i = 0; i < monitor_assignments_practicant_monitor_relationship.length; i++ ){\n                                if( monitor_assignments_practicant_monitor_relationship[i].id_practicante == data_id ){\n                                    \n                                    if( !elements ){\n                                        elements = true;\n                                        $(\"#monitor_assigned\").removeClass(\"items_assigned_empty\");\n                                    }\n\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").removeClass(\"not-assigned\");\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").addClass(\"assigned\");\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").find(\".add\").addClass(\"oculto-asignar\");\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").clone().appendTo(\"#monitor_assigned\");\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").not(\"#monitor_assigned .monitor_item\").addClass(\"oculto-asignado\");\n                                }else{\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").find(\".add\").addClass(\"oculto-asignar\");\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").find(\".delete\").addClass(\"oculto-eliminar\");\n                                    $(\".monitor_item[data-id='\" + monitor_assignments_practicant_monitor_relationship[i].id_monitor + \"']\").addClass(\"oculto-asignado\");\n                                }\n                            }\n\n                            $(\"#monitor_assigned\").find(\".monitor_item\").find(\".add\").addClass(\"oculto-asignar\");\n                            $(\"#monitor_assigned\").find(\".monitor_item\").find(\".delete\").removeClass(\"oculto-eliminar\");\n                            $(\".monitor_item\").not(\"#monitor_assigned .monitor_item\").find(\".transfer\").addClass(\"oculto-tranferir\");\n\n                            if( !elements ){\n                                $(\"#monitor_assigned\").addClass(\"items_assigned_empty\");\n                                $(\"#monitor_assigned\").text(\"No tiene monitores asignados.\");\n                            }\n\n                        }else{\n                            console.log( data );\n                        }\n                    },\n                    failure: function(errMsg) {\n                        loading_indicator.hide();\n                        console.log(errMsg);\n                    }\n                });\n            };\n\n            $( \"#student-name-filter\" ).keyup(function() {\n                $('.student_item').removeClass(\"oculto-filtro-nombre\");\n                var filter_value = $(this).val();\n                if (filter_value != \"\"){\n                    if(/\\d/.test(filter_value)){\n                        $('.student_item').not('.item-general-list.student_item[data-username*=\"' + filter_value.toUpperCase() + '\"]').addClass(\"oculto-filtro-nombre\");\n                    }else{\n                        $('.student_item').not('.item-general-list.student_item[data-name*=\"' + filter_value.toUpperCase() + '\"]').addClass(\"oculto-filtro-nombre\");\n                    }\n                    $(this).addClass(\"filter-active\");\n                }else{\n                    $(this).removeClass(\"filter-active\");\n                }\n            });\n\n            $( \"#monitor-name-filter\" ).keyup(function() {\n                $('.monitor_item').removeClass(\"oculto-filtro-nombre\");\n                var filter_value = $(this).val();\n                if (filter_value != \"\"){\n                    if(/\\d/.test(filter_value)){\n                        $('.monitor_item').not('.item-general-list.monitor_item[data-username*=\"' + filter_value.toUpperCase() + '\"]').addClass(\"oculto-filtro-nombre\");\n                    }else{\n                        $('.monitor_item').not('.item-general-list.monitor_item[data-name*=\"' + filter_value.toUpperCase() + '\"]').addClass(\"oculto-filtro-nombre\");\n                    }\n                    $(this).addClass(\"filter-active\");\n                }else{\n                    $(this).removeClass(\"filter-active\");\n                }\n            });\n\n            $(\"#btn-student-name-filter\").click(function(){\n                $(\"#student-name-filter\").val(\"\");\n                $('.student_item').removeClass(\"oculto-filtro-nombre\");\n                $(\"#student-name-filter\").removeClass(\"filter-active\");\n            });\n\n            $(\"#btn-monitor-name-filter\").click(function(){\n                $(\"#monitor-name-filter\").val(\"\");\n                $('.monitor_item').removeClass(\"oculto-filtro-nombre\");\n                $(\"#monitor-name-filter\").removeClass(\"filter-active\");\n            });\n\n            \n            $(document).ready(function(){\n                load_counters();\n                $(\"select\").trigger( \"change\" );\n            });\n\n            $(document).on( 'click', '.practicant_item', function() {\n                $(\".monitor_item\").removeClass(\"active\");\n                load_assigned_monitors( $(\"#monitor_assignments_instance_id\").data(\"instance-id\"), $(this).attr(\"data-id\") );\n\n            });\n\n            $(document).on( 'click', '.monitor_item', function() {\n                let instance_id = $(\"#monitor_assignments_instance_id\").data(\"instance-id\");\n                let data_id = $(this).attr(\"data-id\");\n\n                load_assigned_students( instance_id , data_id  );\n                loading_indicator.show();\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": \"get_current_practicant_by_monitor\", \"params\": [ instance_id, data_id ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        loading_indicator.hide();\n                        if( data.status_code == 0 ){\n\n                            if( data.data_response ){\n                              load_assigned_monitors( instance_id, data.data_response, true );\n                            }else{\n                              \n                              setTimeout(function(){\n                                swal(\n                                  {\n                                    title:'Información',\n                                    text: 'El monitor seleccionado no tiene asignado un practicante.',\n                                    type: 'info'\n                                  },\n                                  function(){}\n                                );\n                              }, 0);\n                            }\n\n                            \n                        }else{\n                            console.log( data );\n                        }\n                    },\n                    failure: function(errMsg) {\n                      loading_indicator.hide();\n                      console.log(errMsg);\n                    }\n                });\n\n\n            });\n\n            $(document).on( 'click', '.student_item', function(){\n                var data_id = $(this).attr(\"data-id\"); // student_id\n                $(\".student_item\").removeClass(\"active\");\n                $(this).addClass(\"active\");\n                $(\".student_item[data-id='\" + data_id + \"']\").addClass(\"active\");\n                load_reverse_assignation( \"student\", $(\"#monitor_assignments_instance_id\").data(\"instance-id\") , data_id );\n            });\n\n            $(document).on( 'click', '.add', function(e) {\n\n                e.stopImmediatePropagation();\n\n                var current_item = $(this);\n                var instance_id = $(\"#monitor_assignments_instance_id\").data(\"instance-id\");\n\n                var item = $(this).parent();\n                var data_item_0 = -1; // monitor_id or practicant_id\n                var data_item_1 = item.attr(\"data-id\");\n                var item_type = item.attr(\"data-item\");\n\n                var api_function = \"\";\n\n                if( item_type == \"student\" ){\n                    api_function = \"create_monitor_student_relationship\";\n                    data_item_0 =  $(\".monitor_item.active\").attr(\"data-id\");\n                    if( data_item_0 == null ){\n                      setTimeout(function(){\n                        swal(\n                            {title:'Error',\n                            text: 'Debe seleccionar primero a un monitor.',\n                            type: 'error'},\n                            function(){}\n                        );\n                      }, 0);\n                      return;\n                    }\n                }else if( item_type == \"monitor\" ){\n                    api_function = \"create_practicant_monitor_relationship\";\n                    data_item_0 =  $(\".practicant_item.active\").attr(\"data-id\");\n                    if( data_item_0 == null ){\n                      setTimeout(function(){\n                        swal(\n                            {title:'Error',\n                            text: 'Debe seleccionar primero a un practicante.',\n                            type: 'error'},\n                            function(){}\n                        );\n                      }, 0);\n                      return;\n                    }\n                }\n\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": api_function, \"params\": [ instance_id, data_item_0 ,data_item_1 ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        if( data.status_code === 0 ){\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Información',\n                                    text: 'Asignación registrada correctamente.',\n                                    type: 'success'},\n                                    function(){\n                                        if( item_type == \"student\" ){\n                                            load_assigned_students( instance_id , data_item_0 );\n                                            item.find(\".add\").addClass(\"oculto-asignar\");\n                                        }else if( item_type == \"monitor\" ){\n                                            load_assigned_monitors( instance_id , data_item_0 );\n                                            item.find(\".add\").addClass(\"oculto-asignar\");\n                                        }\n                                    }\n                                );\n                            }, 0);\n                        }else if( data.status_code === -5 ){\n\n                            if( item_type == \"student\" ){\n                                setTimeout(function(){\n                                    swal(\n                                        {title:'Información',\n                                        text: 'La asignación ya existe en el periodo actual, si tiene problemas con esto, puede probar de nuevo recargando la pestaña.',\n                                        type: 'info'},\n                                        function(){}\n                                    );\n                                }, 0);\n                            }else if( item_type == \"monitor\" ){\n                                setTimeout(function(){\n                                    swal(\n                                        {title:'Información',\n                                        text: 'Este monitor ya se encuentra asignado.',\n                                        type: 'info'},\n                                        function(){}\n                                    );\n                                }, 0);\n                            }\n\n                        }else{\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Error',\n                                    text: 'Reporte este error.',\n                                    type: 'error'},\n                                    function(){}\n                                );\n                            }, 0);\n                        }\n                        \n                        load_counters();\n                    },\n                    failure: function(errMsg) {\n                        console.log(errMsg);\n                    }\n                });\n\n            });\n\n            $(document).on( 'click', '.delete', function(e) {\n\n                e.stopImmediatePropagation();\n\n                var current_item = $(this);\n                var instance_id = $(\"#monitor_assignments_instance_id\").data(\"instance-id\");\n\n                var item = $(this).parent();\n                var data_item_0 = -1; // monitor_id or practicant_id\n                var data_item_1 = item.attr(\"data-id\");\n                var item_type = item.attr(\"data-item\");\n\n                var api_function = \"\";\n\n                if( item_type == \"student\" ){\n                    api_function = \"delete_monitor_student_relationship\";\n                    data_item_0 =  $(\".monitor_item.active\").attr(\"data-id\");\n                }else if( item_type == \"monitor\" ){\n                    api_function = \"delete_practicant_monitor_relationship\";\n                    data_item_0 =  $(\".practicant_item.active\").attr(\"data-id\");\n                }\n\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": api_function, \"params\": [ instance_id, data_item_0 ,data_item_1 ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        if( data.status_code === 0 ){\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Información',\n                                    text: 'Asignación eliminada correctamente',\n                                    type: 'success'},\n                                    function(){\n                                        if( item_type == \"student\" ){\n                                            load_assigned_students( instance_id , data_item_0 );\n                                            item.find(\".add\").removeClass(\"oculto-asignar\");\n                                        }else if( item_type == \"monitor\" ){\n                                            load_assigned_monitors( instance_id , data_item_0 );\n                                            item.find(\".add\").addClass(\"oculto-asignar\");\n                                        }\n                                    }\n                                );\n                            }, 0);\n                        }else if( data.status_code === 1 ){\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Información',\n                                    text: 'Está intentando eliminar una asignación que ya no existe, si tiene problemas con esto, puede probar de nuevo recargando la pestaña.',\n                                    type: 'info'},\n                                    function(){}\n                                );\n                            }, 0);\n                        }else{\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Error',\n                                    text: 'Reporte este error.',\n                                    type: 'error'},\n                                    function(){}\n                                );\n                            }, 0);\n                            console.log( data );\n                        }\n                        \n                        load_counters();\n                    },\n                    failure: function(errMsg) {\n                        console.log(errMsg);\n                    }\n                });\n\n            });\n\n            $(document).on( 'click', '.transfer', function(e) {\n\n                e.stopImmediatePropagation();\n\n                var name_original_monitor = $(this).parent().data(\"name\");\n                var id_old_monitor = $(this).parent().data(\"id\");\n\n                $('#modalTransfer').modal('show');\n                $(\"#old_monitor_name\").text(name_original_monitor);\n                \n                var options = '<option value=\"\" disabled selected>Seleccione un monitor</option>\\n';\n                $(\"#monitor_assigned > .monitor_item\").each(function(){\n                    var name = $(this).data(\"name\");\n                    var id_new_monitor = $(this).data(\"id\");\n                    options += '<option data-old=\"' + id_old_monitor + '\" data-new=\"' + id_new_monitor + '\">' + name + '</option>\\n';\n                });\n\n                $(\"#transfer-monitor-list\").html(\"\");\n                $(\"#transfer-monitor-list\").append( options );\n                \n            });\n\n            $(document).on( 'click', '#btn-execute-transfer', function(e){\n\n                $('#modalTransfer').modal('hide');\n\n                var instance_id = $(\"#monitor_assignments_instance_id\").data(\"instance-id\");\n                var api_function = \"transfer\";\n                var id_old_monitor = $(\"#transfer-monitor-list\").find(\":selected\").data(\"old\");\n                var id_new_monitor = $(\"#transfer-monitor-list\").find(\":selected\").data(\"new\");\n\n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": api_function, \"params\": [ instance_id, id_old_monitor ,id_new_monitor ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        if( data.status_code === 0 ){\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Información',\n                                    text: 'Estudiantes transferidos correctamente.',\n                                    type: 'success'},\n                                    function(){\n                                        load_assigned_students( instance_id, id_new_monitor );\n                                    }\n                                );\n                            }, 0);\n                        }else if( data.status_code === 1 ){\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Información',\n                                    text: 'El monitor no tiene estudiantes para transferir.',\n                                    type: 'info'},\n                                    function(){}\n                                );\n                            }, 0);\n                        }else{\n                            setTimeout(function(){\n                                swal(\n                                    {title:'Error',\n                                    text: 'Reporte este error.',\n                                    type: 'error'},\n                                    function(){}\n                                );\n                                swal.close();\n                            }, 0);\n                            console.log( data );\n                        }\n                        \n                        load_counters();\n                    },\n                    failure: function(errMsg) {\n                        console.log(errMsg);\n                    }\n                });\n                \n                \n            });\n\n            $(\"select\").change(function(){\n\n                var user_type = $(this).attr(\"data-id\").split(\"_\")[0]; // i.e monitor_faculty => monitor\n                var filter_type = $(this).attr(\"data-id\").split(\"_\")[1]; // i.e monitor_faculty => faculty\n\n                if( (user_type == \"monitor\") && (filter_type == \"faculty\") ){\n                    var faculty_id = $(this).find(\":selected\").attr(\"data-id-facultad\");\n                    if( faculty_id != \"-1\" ){\n                        $(this).addClass(\"filter-active\");\n                        $(\".item-general-list.monitor_item\").removeClass(\"oculto-facultad\");\n                        $(\".item-general-list.monitor_item\").not(\".item-general-list.monitor_item[data-id-facultad='\" + faculty_id + \"']\").addClass(\"oculto-facultad\");\n                    }else{\n                        $(this).removeClass(\"filter-active\");\n                        $(\".item-general-list.monitor_item\").removeClass(\"oculto-facultad\");\n                    }\n                }else if( (user_type == \"monitor\") && (filter_type == \"program\") ){\n                    var program_id = $(this).find(\":selected\").attr(\"data-cod-programa\");\n                    if( program_id != \"-1\" ){\n                        $(this).addClass(\"filter-active\");\n                        $(\".item-general-list.monitor_item\").removeClass(\"oculto-programa\");\n                        $(\".item-general-list.monitor_item\").not(\".item-general-list.monitor_item[data-cod-programa='\" + program_id + \"']\").addClass(\"oculto-programa\");\n                    }else{\n                        $(this).removeClass(\"filter-active\");\n                        $(\".item-general-list.monitor_item\").removeClass(\"oculto-programa\");\n                    }\n                }else if( (user_type == \"student\") && (filter_type == \"faculty\") ){\n                    var faculty_id = $(this).find(\":selected\").attr(\"data-id-facultad\");\n                    if( faculty_id != \"-1\" ){\n                        $(this).addClass(\"filter-active\");\n                        $(\".item-general-list.student_item\").removeClass(\"oculto-facultad\");\n                        $(\".item-general-list.student_item\").not(\".item-general-list.student_item[data-id-facultad='\" + faculty_id + \"']\").addClass(\"oculto-facultad\");\n                    }else{\n                        $(this).removeClass(\"filter-active\");\n                        $(\".item-general-list.student_item\").removeClass(\"oculto-facultad\");\n                    }\n                }else if( (user_type == \"student\") && (filter_type == \"program\") ){\n                    var program_id = $(this).find(\":selected\").attr(\"data-cod-programa\");\n                    if( program_id != \"-1\" ){\n                        $(this).addClass(\"filter-active\");\n                        $(\".item-general-list.student_item\").removeClass(\"oculto-programa\");\n                        $(\".item-general-list.student_item\").not(\".item-general-list.student_item[data-cod-programa='\" + program_id + \"']\").addClass(\"oculto-programa\");\n                    }else{\n                        $(this).removeClass(\"filter-active\");\n                        $(\".item-general-list.student_item\").removeClass(\"oculto-programa\");\n                    }\n                }else if( (user_type == \"professional\") ){\n                    var boss_id = $(this).find(\":selected\").attr(\"data-id\");\n                    if( boss_id != \"-1\" ){\n                        $(this).addClass(\"filter-active\");\n                        $(\".item-general-list.practicant_item\").removeClass(\"oculto-jefe\");\n                        $(\".item-general-list.practicant_item\").not(\".item-general-list.practicant_item[data-id-jefe='\" + boss_id + \"']\").addClass(\"oculto-jefe\");\n                    }else{\n                        $(this).removeClass(\"filter-active\");\n                        $(\".item-general-list.practicant_item\").removeClass(\"oculto-jefe\");\n                    }\n                    \n                }\n            });\n            \n            function load_counters(){\n                \n                asignation_counter = [];\n                \n                var instance_id = $(\"#monitor_assignments_instance_id\").data(\"instance-id\");\n                var api_function = \"get_practicants_monitors_and_students\";\n                var semester_name = get_semester_name();\n                \n                $.ajax({\n                    type: \"POST\",\n                    url: \"../managers/monitor_assignments/monitor_assignments_api.php\",\n                    data: JSON.stringify({ \"function\": api_function, \"params\": [ instance_id , semester_name ] }),\n                    contentType: \"application/json; charset=utf-8\",\n                    dataType: \"json\",\n                    success: function(data){\n                        \n                        total = 0;\n                        \n                        data.data_response.forEach( (item) => {\n                            \n                           if( asignation_counter[item.nombre_usuario_moodle__profesional] == undefined ){ \n                               asignation_counter[item.nombre_usuario_moodle__profesional] = 1; \n                           }else{\n                               asignation_counter[item.nombre_usuario_moodle__profesional]++;\n                           }\n                           if( asignation_counter[item.codigo_practicante] == undefined ){ \n                               asignation_counter[item.codigo_practicante] = 1; \n                           }else{\n                               asignation_counter[item.codigo_practicante]++;\n                           }\n                           if( asignation_counter[item.codigo_monitor] == undefined ){ \n                               asignation_counter[item.codigo_monitor] = 1; \n                           }else{\n                               asignation_counter[item.codigo_monitor]++;\n                           }\n                           if( asignation_counter[\"TODOS\"] == undefined ){ \n                               asignation_counter[\"TODOS\"] = 1; \n                           }else{\n                               asignation_counter[\"TODOS\"]++;\n                           }\n                           \n                        });\n                        \n                        $(\".item-general-list\").each( function(key) {\n                            let index_id = $(this).data( \"username\" );\n                            $(this).find( \".item-text\" ).find( \".asignation_counter\" ).text( asignation_counter[index_id] );\n                        });\n                        \n                        $(\".total_counter\").text( asignation_counter[\"TODOS\"] );\n                        \n                        var index_id = $(\"#select-professional\").find(\":selected\").attr(\"data-username\");\n                        $(\".asignation_counter_prof\").text( asignation_counter[index_id] );\n                        \n                        $(\"#select-professional\").find(\"option\").each( function(key) {\n                            let index_id = $(this).data( \"username\" );\n                            let fullname = $(this).data( \"fullname\" );\n                            $(this).text( fullname + \" - \" + \"( \" +  asignation_counter[index_id] + \" )\" );\n                        });\n                    },\n                    failure: function(errMsg) {\n                        console.log(errMsg);\n                    }\n                });\n                \n            }\n            \n        }\n    };\n});"],"file":"monitor_assignments.min.js"}